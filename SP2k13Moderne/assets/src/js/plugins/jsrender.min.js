!function(t,e){var n=e.jQuery;"object"==typeof exports?module.exports=n?t(e,n):function(n){if(n&&!n.fn)throw"Provide jQuery or null";return t(e,n)}:"function"==typeof define&&define.amd?define(function(){return t(e)}):t(e,!1)}(function(t,e){"use strict";function n(t,e){return function(){var n,r=this.base;return this.base=t,n=e.apply(this,arguments),this.base=r,n}}function r(t,e){return K(e)&&((e=n(t?t._d?t:n(o,t):o,e))._d=1),e}function i(t,e){var n,i=e.props;for(n in i)!ht.test(n)||t[n]&&t[n].fix||(t[n]="convert"!==n?r(t.constructor.prototype[n],i[n]):i[n])}function s(t){return t}function o(){return""}function a(t){this.name=(e.link?"JsViews":"JsRender")+" Error",this.message=t||this.name}function d(t,e){if(t){for(var n in e)t[n]=e[n];return t}}function l(t,e,n){return t?B(t)?l.apply(q,t):(z.delimiters=[t,e,nt=n?n.charAt(0):nt],X=t.charAt(0),Y=t.charAt(1),tt=e.charAt(0),et=e.charAt(1),t="\\"+X+"(\\"+nt+")?\\"+Y,e="\\"+tt+"\\"+et,O="(?:(\\w+(?=[\\/\\s\\"+tt+"]))|(\\w+)?(:)|(>)|(\\*))\\s*((?:[^\\"+tt+"]|\\"+tt+"(?!\\"+et+"))*?)",Z.rTag="(?:"+O+")",O=new RegExp("(?:"+t+O+"(\\/)?|\\"+X+"(\\"+nt+")?\\"+Y+"(?:(?:\\/(\\w+))\\s*|!--[\\s\\S]*?--))"+e,"g"),Z.rTmpl=new RegExp("^\\s|\\s$|<.*>|([^\\\\]|^)[{}]|"+t+".*"+e),W):z.delimiters}function p(){var t=this.get("item");return t?t.index:void 0}function u(){return this.index}function c(e,n,r){var i,s,o,a,l=this,p=!it&&void 0!==n,u=l.ctx;if(e in u||e in(u=H)){if(o=u&&u[e],"tag"===e||"root"===e||"parentTags"===e||l._.it===e)return o}else u=void 0;if((!o||!K(o)&&l.linked||l.tagCtx)&&(o&&o._cxp||(u!==H&&(u=(l=l.tagCtx?l:!(l=l.scope||l).isTop&&l.ctx.tag||l)._ocps,o=u&&u[e]||o),o&&o._cxp||!r&&!p||(o=Z._crcp(e,o,l,u))),a=o&&o._cxp)){if(p)return Z._ucp(e,n,l,a);if(r)return(s=o[1]?Z._ceo(o[1].deps):[st]).unshift(o[0]),s._cxp=a,s;o=o[1]?a.tag&&a.tag.cvtArgs?a.tag.cvtArgs(!0,a.tagElse)[a.ind]:o[1](o[0].data,o[0],Z):o[0]._ocp}return o&&K(o)&&(d(i=function(){return o.apply(this&&this!==t?this:l,arguments)},o),i._vw=l),i||o}function f(t,e){return(t=t[+e===e?"args":"props"])&&t[e]}function g(t,e,n,r,i,s,o,a){var d,l,u,c="array"===e;this.content=a,this.views=c?[]:{},this.data=r,this.tmpl=i,u=this._={key:0,useKey:c?0:1,id:""+wt++,onRender:o,bnds:{}},this.linked=!!o,this.type=e||"top",(this.parent=n)?(this.root=n.root||this,d=n.views,l=n._,this.isTop=l.scp,this.scope=(!t.tag||t.tag===n.ctx.tag)&&!this.isTop&&n.scope||this,l.useKey?(d[u.key="_"+l.useKey++]=this,this.index=Ct,this.getIndex=p):d.length===(u.key=this.index=s)?d.push(this):d.splice(s,0,this),this.ctx=t||n.ctx):this.ctx=t||{}}function h(t,n,r,i){function s(n){var s,a;if(""+n===n||n.nodeType>0&&(o=n)){if(!o)if(/^\.\/[^\\:*?"<>]*$/.test(n))(a=L[t=t||n])?n=a:o=document.getElementById(n);else if(e.fn&&!Z.rTmpl.test(n))try{o=e(n,document)[0]}catch(t){}o&&(i?n=o.innerHTML:((s=o.getAttribute(yt))&&(s!==kt?(n=L[s],delete L[s]):e.fn&&(n=e.data(o)[kt])),s&&n||(n=h(t=t||(e.fn?kt:n),o.innerHTML,r,i)),n.tmplName=t=t||s,t!==kt&&(L[t]=n),o.setAttribute(yt,t),e.fn&&e.data(o,kt,n))),o=void 0}else n.fn||(n=void 0);return n}var o,a,l=n=n||"";if(Z._html=Q.html,0===i&&(i=void 0,l=s(l)),i=i||(n.markup?n:{}),i.tmplName=t,r&&(i._parentTmpl=r),!l&&n.markup&&(l=s(n.markup))&&l.fn&&(l=l.markup),void 0!==l)return l.fn||n.fn?l.fn&&(a=l):(n=w(l,i),j(l.replace(pt,"\\$&"),n)),a||function(t){var e,n,r;for(e in Rt)t[n=e+"s"]&&(r=t[n],t[n]={},q[n](r,t))}(a=d(function(){return a.render.apply(a,arguments)},n)),a}function v(t,e){return K(t)?t.call(e):t}function m(t){for(var e=[],n=0,r=t.length;n<r;n++)e.push(t[n].unmap());return e}function w(t,n){var r,i=G._wm||{},s=d({tmpls:[],links:{},bnds:[],_is:"template",render:y},n);return s.markup=t,n.htmlTag||(r=ft.exec(t),s.htmlTag=r?r[1].toLowerCase():""),(r=i[s.htmlTag])&&r!==i.div&&(s.markup=e.trim(s.markup)),s}function x(t,e){function n(i,s,o){var a,d,l,p=Z.onStore[t];if(i&&typeof i===bt&&!i.nodeType&&!i.markup&&!i.getTgt&&!("viewModel"===t&&i.getters||i.extend)){for(d in i)n(d,i[d],s);return s||q}return void 0===s&&(s=i,i=void 0),i&&""+i!==i&&(o=s,s=i,i=void 0),l=o?"viewModel"===t?o:o[r]=o[r]||{}:n,a=e.compile,null===s?i&&delete l[i]:(a&&((s=a.call(l,i,s,o,0)||{})._is=t),i&&(l[i]=s)),p&&p(i,s,o,a),s}var r=t+"s";q[r]=n}function _(t){W[t]=function(e){return arguments.length?(z[t]=e,W):z[t]}}function b(t){return K(t)&&(t={getTgt:t}),t.baseMap&&(t=d(d({},t.baseMap),t)),t.map=function(e,n){return new function(e,n){this.tgt=t.getTgt(e,n)}(e,n)},t}function y(t,e,n,r,i,s){var o,a,d,l,p,u,c,f,g=r,h="";if(!0===e?(n=e,e=void 0):typeof e!==bt&&(e=void 0),(d=this.tag)?(p=this,l=(g=g||p.view).getTmpl(d.template||p.tmpl),arguments.length||(t=g)):l=this,l){if(!r&&t&&"view"===t._is&&(g=t),g&&t===g&&(t=g.data),u=!g,it=it||u,g||((e=e||{}).root=t),!it||G.useViews||l.useViews||g&&g!==U)h=k(l,t,e,n,g,i,s,d);else{if(g?(c=g.data,f=g.index,g.index=Ct):(c=(g=U).data,g.data=t,g.ctx=e),B(t)&&!n)for(o=0,a=t.length;o<a;o++)g.index=o,g.data=t[o],h+=l.fn(t[o],g,Z);else g.data=t,h+=l.fn(t,g,Z);g.data=c,g.index=f}u&&(it=void 0)}return h}function k(t,e,n,r,i,s,o,a){function l(t){(b=d({},n))[_]=t}var p,u,c,f,h,v,m,w,x,_,b,y,k="";if(a&&(x=a.tagName,y=a.tagCtx,n=n?M(n,a.ctx):a.ctx,t===i.content?m=t!==i.ctx._wrp?i.ctx._wrp:void 0:t!==y.content?t===a.template?(m=y.tmpl,n._wrp=y.content):m=y.content||i.content:m=i.content,!1===y.props.link&&((n=n||{}).link=!1),(_=y.props.itemVar)&&("~"!==_.charAt(0)&&T("Use itemVar='~myItem'"),_=_.slice(1))),i&&(o=o||i._.onRender,n=M(n,i.ctx)),!0===s&&(v=!0,s=0),o&&(n&&!1===n.link||a&&a._.noVws)&&(o=void 0),w=o,!0===o&&(w=void 0,o=i._.onRender),n=t.helpers?M(t.helpers,n):n,b=n,B(e)&&!r)for(c=v?i:void 0!==s&&i||new g(n,"array",i,e,t,s,o,m),i&&i._.useKey&&(c._.bnd=!a||a._.bnd&&a),p=0,u=e.length;p<u;p++)_&&l(e[p]),(f=new g(b,"item",c,e[p],t,(s||0)+p,o,c.content))._.it=_,h=t.fn(e[p],f,Z),k+=c._.onRender?c._.onRender(h,f):h;else _&&l(e),(c=v?i:new g(b,x||"data",i,e,t,s,o,m))._.it=_,k+=t.fn(e,c,Z);return a&&(c.tag=a,c.tagElse=y.index,y.contentView=c),w?w(k,c):k}function C(t){throw new Z.Err(t)}function T(t){C("Syntax error\n"+t)}function j(t,e,n,r,i){function s(e){(e-=g)&&v.push(t.substr(g,e).replace(dt,"\\n"))}function o(e,n){e&&(e+="}}",T((n?"{{"+n+"}} block has {{/"+e+" without {{"+e:"Unmatched or missing {{/"+e)+", in template:\n"+t))}var a,d,l,p,u,c=z.allowCode||e&&e.allowCode||!0===W.allowCode,f=[],g=0,h=[],v=f,m=[,,f];if(c&&e._is&&(e.allowCode=c),n&&(void 0!==r&&(t=t.slice(0,-r.length-2)+tt),t=X+t+et),o(h[0]&&h[0][2].pop()[0]),t.replace(O,function(a,d,u,f,w,x,_,b,y,k,C,j){(_&&d||y&&!u||b&&":"===b.slice(-1)||k)&&T(a),x&&(w=":",f=_t),y=y||n&&!i;var A,V=(d||n)&&[[]],E="",M="",N="",S="",F="",P="",I="",O="",U=!y&&!w;u=u||(b=b||"#data",w),s(j),g=j+a.length,_?c&&v.push(["*","\n"+b.replace(/^:/,"ret+= ").replace(lt,"$1")+";\n"]):u?("else"===u&&(ct.test(b)&&T('for "{{else if expr}}" use "{{else expr}}"'),V=m[8]&&[[]],m[9]=t.substring(m[9],j),m=h.pop(),v=m[2],U=!0),b&&$(b.replace(dt," "),V,e).replace(ut,function(t,e,n,r,i,s,o,a){return r="'"+i+"':",o?(M+=s+",",S+="'"+a+"',"):n?(N+=r+"j._cp("+s+',"'+a+'",view),',P+=r+"'"+a+"',"):e?I+=s:("trigger"===i&&(O+=s),"lateRender"===i&&(A=a),E+=r+s+",",F+=r+"'"+a+"',",p=p||ht.test(i)),""}).slice(0,-1),V&&V[0]&&V.pop(),l=[u,f||!!r||p||"",U&&[],R(S||(":"===u?"'#data',":""),F,P),R(M||(":"===u?"data,":""),E,N),I,O,A,V||0],v.push(l),U&&(h.push(m),(m=l)[9]=g)):C&&(o(C!==m[0]&&"else"!==m[0]&&C,m[0]),m[9]=t.substring(m[9],j),m=h.pop()),o(!m&&C),v=m[2]}),s(t.length),(g=f[f.length-1])&&o(""+g!==g&&+g[9]===g[9]&&g[0]),n){for(d=E(f,t,n),u=[],a=f.length;a--;)u.unshift(f[a][8]);A(d,u)}else d=E(f,e);return d}function A(t,e){var n,r,i=0,s=e.length;for(t.deps=[],t.paths=[];i<s;i++){t.paths.push(r=e[i]);for(n in r)"_jsvto"!==n&&r.hasOwnProperty(n)&&r[n].length&&!r[n].skp&&(t.deps=t.deps.concat(r[n]))}}function R(t,e,n){return[t.slice(0,-1),e.slice(0,-1),n.slice(0,-1)]}function V(t,e){return"\n\t"+(e?e+":{":"")+"args:["+t[0]+"]"+(t[1]||!e?",\n\tprops:{"+t[1]+"}":"")+(t[2]?",\n\tctx:{"+t[2]+"}":"")}function $(t,e,n){var r,i,s,o,a,d=e&&e[0],l={bd:d},p={0:l},u=0,c=(n?n.links:d&&(d.links=d.links||{}))||U.tmpl.links,f=0,g={},h={},v=(t+(n?" ":"")).replace(at,function(v,m,w,x,_,b,y,k,C,A,R,V,$,E,M,N,S,F,P,I){x&&!k&&(_=x+_),b=b||"",w=w||m||V,_=_||C;var O,U,q,J,K,B=")";if("["===(A=A||S||"")&&(A="[j._sq(",B=")]"),!y||a||o){if(d&&N&&!a&&!o&&(!r||s||i)&&(O=h[f-1],I.length-1>P-(O||0))){if(O=I.slice(O,P+v.length),!0!==U)if(q=i||p[f-1].bd,(J=q[q.length-1])&&J.prm){for(;J.sb&&J.sb.prm;)J=J.sb;K=J.sb={path:J.sb,bnd:J.bnd}}else q.push(K={path:q.pop()});(U=c[N=Y+":"+O+" onerror=''"+tt])||(c[N]=!0,c[N]=U=j(N,n,!0)),!0!==U&&K&&(K._cpfn=U,K.prm=l.bd,K.bnd=K.bnd||K.path&&K.path.indexOf("^")>=0)}return a?(a=!$)?v:V+'"':o?(o=!E)?v:V+'"':(w?(h[f]=P++,l=p[++f]={bd:[]},w):"")+(F?f?"":(u=I.slice(u,P),(r?(r=s=i=!1,"\b"):"\b,")+u+(u=P+v.length,d&&e.push(l.bd=[]),"\b")):k?(f&&T(t),d&&e.pop(),r=_,s=x,u=P+v.length,d&&(d=l.bd=e[r]=[],d.skp=!x),_+":"):_?_.split("^").join(".").replace(ot,function(t,n,s,o,a,p,u,c){var g="."===s;if(s&&(_=_.slice(n.length),/^\.?constructor$/.test(c||_)&&T(t),g||(t=(o?'view.ctxPrm("'+o+'")':a?"view":"data")+(c?(p?"."+p:o?"":a?"":"."+s)+(u||""):(c=o?"":a?p||"":s,"")),t=n+("view.data"===(t+=c?"."+c:"").slice(0,9)?t.slice(5):t)),d)){if(q="linkTo"===r?i=e._jsvto=e._jsvto||[]:l.bd,J=g&&q[q.length-1]){if(J._cpfn){for(;J.sb;)J=J.sb;J.bnd&&(_="^"+_.slice(1)),J.sb=_,J.bnd=J.bnd||"^"===_.charAt(0)}}else q.push(_);h[f]=P+(g?1:0)}return t})+(A?(l=p[++f]={bd:[]},g[f]=B,A):b):b||(M?(M=g[f]||M,g[f]=!1,l=p[--f],M+(A?(l=p[++f],g[f]=B,A):"")):R?(g[f]||T(t),","):m?"":(a=$,o=E,'"')))}T(t)});return!f&&v||T(t)}function E(t,e,n){var r,i,s,o,a,d,l,p,u,c,f,g,h,v,m,x,_,b,y,k,C,j,R,$,M,N,S,F,P,I,O=0,U=G.useViews||e.useViews||e.tags||e.templates||e.helpers||e.converters,q="",J={},K=t.length;for(""+e===e?(_=n?'data-link="'+e.replace(dt," ").slice(1,-1)+'"':e,e=0):(_=e.tmplName||"unnamed",e.allowCode&&(J.allowCode=!0),e.debug&&(J.debug=!0),c=e.bnds,x=e.tmpls),r=0;r<K;r++)if(""+(i=t[r])===i)q+='\n+"'+i+'"';else if("*"===(s=i[0]))q+=";\n"+i[1]+"\nret=ret";else{if(o=i[1],k=!n&&i[2],a=V(i[3],"params")+"},"+V(g=i[4]),P=i[6],I=i[7],C=i[9]&&i[9].replace(lt,"$1"),($="else"===s)?f&&f.push(i[8]):(S=i[5]||!1!==z.debugMode&&"undefined",c&&(f=i[8])&&(f=[f],O=c.push(1))),U=U||g[1]||g[2]||f||/view.(?!index)/.test(g[0]),(M=":"===s)?o&&(s=o===_t?">":o+s):(k&&((b=w(C,J)).tmplName=_+"/"+s,b.useViews=b.useViews||U,E(k,b),U=b.useViews,x.push(b)),$||(y=s,U=U||s&&(!D[s]||!D[s].flow),R=q,q=""),j=(j=t[r+1])&&"else"===j[0]),F=S?";\ntry{\nret+=":"\n+",h="",v="",M&&(f||P||o&&o!==_t||I)){if(N=new Function("data,view,j,u","// "+_+" "+ ++O+" "+s+"\nreturn {"+a+"};"),N._er=S,N._tag=s,N._bd=!!f,N._lr=I,n)return N;A(N,f),u=!0,h=(m='c("'+o+'",view,')+O+",",v=")"}if(q+=M?(n?(S?"try{\n":"")+"return ":F)+(u?(u=void 0,U=p=!0,m+(N?(c[O-1]=N,O):"{"+a+"}")+")"):">"===s?(l=!0,"h("+g[0]+")"):(!0,"((v="+g[0]+")!=null?v:"+(n?"null)":'"")'))):(d=!0,"\n{view:view,tmpl:"+(k?x.length:"0")+","+a+"},"),y&&!j){if(q="["+q.slice(0,-1)+"]",m='t("'+y+'",view,this,',n||f){if(q=new Function("data,view,j,u"," // "+_+" "+O+" "+y+"\nreturn "+q+";"),q._er=S,q._tag=y,f&&A(c[O-1]=q,f),q._lr=I,n)return q;h=m+O+",undefined,",v=")"}q=R+F+m+(q.deps&&O||q)+")",f=0,y=0}S&&!j&&(U=!0,q+=";\n}catch(e){ret"+(n?"urn ":"+=")+h+"j._err(e,view,"+S+")"+v+";}"+(n?"":"ret=ret"))}q="// "+_+"\nvar v"+(d?",t=j._tag":"")+(p?",c=j._cnvt":"")+(l?",h=j._html":"")+(n?";\n":',ret=""\n')+(J.debug?"debugger;":"")+q+(n?"\n":";\nreturn ret;");try{q=new Function("data,view,j,u",q)}catch(t){T("Compiled template code:\n\n"+q+'\n: "'+(t.message||t)+'"')}return e&&(e.fn=q,e.useViews=!!U),q}function M(t,e){return t&&t!==e?e?d(d({},e),t):t:e&&d({},e)}function N(t){return xt[t]||(xt[t]="&#"+t.charCodeAt(0)+";")}function S(t,n,r){var i=this.jquery&&(this[0]||C("Unknown template")),s=i.getAttribute(yt);return y.call(s&&e.data(i)[kt]||L(i),t,n,r)}function F(t){return void 0!=t?gt.test(t)&&(""+t).replace(mt,N)||t:""}var P=!1===e;e=e&&e.fn?e:t.jQuery;var I,O,U,q,J,K,B,L,Q,H,D,Z,z,G,W,X,Y,tt,et,nt,rt,it,st="_ocp",ot=/^(!*?)(?:null|true|false|\d[\d.]*|([\w$]+|\.|~([\w$]+)|#(view|([\w$]+))?)([\w$.^]*?)(?:[.[^]([\w$]+)\]?)?)$/g,at=/(\()(?=\s*\()|(?:([([])\s*)?(?:(\^?)(!*?[#~]?[\w$.^]+)?\s*((\+\+|--)|\+|-|&&|\|\||===|!==|==|!=|<=|>=|[<>%*:?\/]|(=))\s*|(!*?[#~]?[\w$.^]+)([([])?)|(,\s*)|(\(?)\\?(?:(')|("))|(?:\s*(([)\]])(?=\s*[.^]|\s*$|[^([])|[)\]])([([]?))|(\s+)/g,dt=/[ \t]*(\r\n|\n|\r)/g,lt=/\\(['"])/g,pt=/['"\\]/g,ut=/(?:\x08|^)(onerror:)?(?:(~?)(([\w$_\.]+):)?([^\x08]+))\x08(,)?([^\x08]+)/gi,ct=/^if\s/,ft=/<(\w+)[>\s]/,gt=/[\x00`><\"'&=]/,ht=/^on[A-Z]|^convert(Back)?$/,vt=/^\#\d+_`[\s\S]*\/\d+_`$/,mt=/[\x00`><"'&=]/g,wt=0,xt={"&":"&amp;","<":"&lt;",">":"&gt;","\0":"&#0;","'":"&#39;",'"':"&#34;","`":"&#96;","=":"&#61;"},_t="html",bt="object",yt="data-jsv-tmpl",kt="jsvTmpl",Ct="For #index in nested block use #getIndex().",Tt={},jt=t.jsrender,At=jt&&e&&!e.render,Rt={template:{compile:h},tag:{compile:function(t,e,n){function i(){this._={unlinked:!0},this.inline=!0,this.tagName=t}e.bindTo;var s,o,a,l=new Z._tg;if(K(e)?e={depends:e.depends,render:e}:""+e===e&&(e={template:e}),o=e.baseTag){e.flow=!!e.flow,e.baseTag=o=""+o===o?n&&n.tags[o]||D[o]:o,l=d(l,o);for(a in e)l[a]=r(o[a],e[a])}else l=d(l,e);return void 0!==(s=l.template)&&(l.template=""+s===s?L[s]||L(s):s),(i.prototype=l).constructor=l._ctr=i,n&&(l._parentTmpl=n),l}},viewModel:{compile:function(t,n){function r(t){l.apply(this,t)}function i(){return new r(arguments)}function s(t,e){for(var n,r,i,s,o=0;o<x;o++)n=void 0,(i=u[o])+""!==i&&(i=(n=i).getter),void 0===(s=t[i])&&n&&void 0!==(r=n.defaultVal)&&(s=v(r,t)),e(s,n&&p[n.type],i)}function o(t){t=t+""===t?JSON.parse(t):t;var e,n,r,o,a,d,l,p,u,c=0,g=this;if(B(g)){for(l={},u=[],n=t.length,r=g.length;c<n;c++){for(p=t[c],d=!1,e=0;e<r&&!d;e++)l[e]||(a=g[e],f&&(l[e]=d=f+""===f?p[f]&&(b[f]?a[f]():a[f])===p[f]:f(a,p)));d?(a.merge(p),u.push(a)):u.push(i.map(p))}_?_(g).refresh(u,!0):g.splice.apply(g,[0,g.length].concat(u))}else{s(t,function(t,e,n){e?g[n]().merge(t):g[n](t)});for(o in t)o===J||b[o]||(g[o]=t[o])}}function a(){var t,e,n,r,i=0;if(B(this))return m(this);for(t={};i<x;i++)n=void 0,(e=u[i])+""!==e&&(e=(n=e).getter),r=this[e](),t[e]=n&&r&&p[n.type]?B(r)?m(r):r.unmap():r;for(e in this)"_is"===e||b[e]||e===J||"_"===e.charAt(0)&&b[e.slice(1)]||K(this[e])||(t[e]=this[e]);return t}var d,l,p=this,u=n.getters,c=n.extend,f=n.id,g=e.extend({_is:t||"unnamed",unmap:a,merge:o},c),h="",w="",x=u?u.length:0,_=e.observable,b={};for(r.prototype=g,d=0;d<x;d++)!function(t){t=t.getter||t,b[t]=d+1;var e="_"+t;h+=(h?",":"")+t,w+="this."+e+" = "+t+";\n",g[t]=g[t]||function(n){if(!arguments.length)return this[e];_?_(this).setProperty(t,n):this[e]=n},_&&(g[t].set=g[t].set||function(t){this[e]=t})}(u[d]);return l=new Function(h,w.slice(0,-1)),l.prototype=g,g.constructor=l,i.map=function(e){var n,r,i=0,d=e=e+""===e?JSON.parse(e):e,l=[];if(B(e)){for(n=(e=e||[]).length;i<n;i++)l.push(this.map(e[i]));return l._is=t,l.unmap=a,l.merge=o,l}if(e){s(e,function(t,e){e&&(t=e.map(t)),l.push(t)}),d=this.apply(this,l);for(r in e)r===J||b[r]||(d[r]=e[r])}return d},i.getters=u,i.extend=c,i.id=f,i}},helper:{},converter:{}};if(q={jsviews:"v0.9.90",sub:{View:g,Err:a,tmplFn:j,parse:$,extend:d,extendCtx:M,syntaxErr:T,onStore:{template:function(t,e){null===e?delete Tt[t]:Tt[t]=e}},addSetting:_,settings:{allowCode:!1},advSet:o,_ths:i,_gm:r,_tg:function(){},_cnvt:function(t,e,n,r){var s,o,a,l,p="number"==typeof n&&e.tmpl.bnds[n-1],u=e.linkCtx;if(void 0===r&&p&&p._lr&&(r=""),void 0!==r?n=r={props:{},args:[r]}:p&&(n=p(e.data,e,Z)),p=p._bd&&p,o=n.args[0],t||p){if(s=u&&u.tag,n.view=e,!s){if(s=d(new Z._tg,{_:{bnd:p,unlinked:!0},inline:!u,tagName:":",convert:t,flow:!0,tagCtx:n}),(a=n.args.length)>1)for(l=s.bindTo=[];a--;)l.unshift(a);u&&(u.tag=s,s.linkCtx=u),n.ctx=M(n.ctx,(u?u.view:e).ctx),i(s,n)}s._er=r&&o,s.ctx=n.ctx||s.ctx||{},n.ctx=void 0,o=s.cvtArgs()[0]}return void 0!=(o=p&&e._.onRender?e._.onRender(o,e,s):o)?o:""},_tag:function(t,e,n,r,s,o){function a(t){var e;(e=d[t])&&(d[t]=e=B(e)?e:[e],S!==e.length&&C(t+" length not same as bindTo "))}var d,l,p,u,c,g,h,v,m,w,x,_,b,T,j,A,R,V,$,E,N,S,F=0,P="",I=(e=e||U).linkCtx||0,O=e.ctx,q=n||e.tmpl,J="number"==typeof r&&e.tmpl.bnds[r-1];for("tag"===t._is?(t=(d=t).tagName,r=d.tagCtxs,d.template):(l=e.getRsc("tags",t)||C("Unknown tag: {{"+t+"}} ")).template,void 0===o&&J&&(J._lr=(l.lateRender||J._lr)&&"false"!==J._lr)&&(o=""),void 0!==o?(P+=o,r=o=[{props:{},args:[],params:{}}]):J&&(r=J(e.data,e,Z)),g=r.length;F<g;F++)b=(m=r[F]).tmpl,(!I||!I.tag||F&&!I.tag.inline||d._er||b&&+b===b)&&(b&&q.tmpls&&(m.tmpl=m.content=q.tmpls[b-1]),m.index=F,m.render=y,m.view=e,m.ctx=M(m.ctx,O)),(n=m.props.tmpl)&&(m.tmpl=e.getTmpl(n),m.content=m.content||m.tmpl),d||(T=!!(d=new l._ctr).init,d.parent=c=O&&O.tag,d.tagCtxs=r,$=d.dataMap,I&&(d.inline=!1,I.tag=d,d.linkCtx=I),(d._.bnd=J||I.fn)?d._.arrVws={}:d.dataBoundOnly&&C(t+" must be data-bound:\n{^{"+t+"}}")),r=d.tagCtxs,$=d.dataMap,m.tag=d,$&&r&&(m.map=r[F].map),d.flow||(w=m.ctx=m.ctx||{},p=d.parents=w.parentTags=O&&M(w.parentTags,O.parentTags)||{},c&&(p[c.tagName]=c),p[d.tagName]=w.tag=d);if(!(d._er=o)){for(i(d,r[0]),d.rendering={},F=0;F<g;F++){if(m=d.tagCtx=r[F],V=m.props,d.ctx=m.ctx,!F){if(T&&(d.init(m,I,d.ctx),T=void 0),m.args.length||!1===d.argDefault||(m.args=R=[m.view.data],m.params.args=["#data"]),void 0!==(_=d.bindTo))for(h=(_=d.bindTo=B(_)?_:[_]).length;h--;)N=_[h],isNaN(parseInt(N))||(N=parseInt(N)),_[h]=N;_=d.bindTo||[0],S=_.length,d._.bnd&&(a("linkedElement"),a("linkedCtxParam")),I&&(I.attr=d.attr=I.attr||d.attr),u=d.attr,d._.noVws=u&&u!==_t}if(R=d.cvtArgs(void 0,F),d.linkedCtxParam)for(h=S;h--;)(x=d.linkedCtxParam[h])&&(N=_[h],m.ctx[x]=Z._cp(f(m,N),f(m.params,N),m.view,d._.bnd&&{tag:d,ind:h,tagElse:F}));(j=V.dataMap||$)&&(R.length||V.dataMap)&&((A=m.map)&&A.src===R[0]&&!s||(A&&A.src&&A.unmap(),A=m.map=j.map(R[0],V,void 0,!d._.bnd)),R=[A.tgt]),v=void 0,d.render&&(v=d.render.apply(d,R),e.linked&&v&&!vt.test(v)&&((n={links:[]}).render=n.fn=function(){return v},v=k(n,e.data,void 0,!0,e,void 0,void 0,d))),R.length||(R=[e]),void 0===v&&(E=R[0],d.contentCtx&&(E=!0===d.contentCtx?e:d.contentCtx(E)),v=m.render(E,!0)||(s?void 0:"")),P=P?P+(v||""):v}d.rendering=void 0}return d.tagCtx=r[0],d.ctx=d.tagCtx.ctx,d._.noVws&&d.inline&&(P="text"===u?Q.html(P):""),J&&e._.onRender?e._.onRender(P,e,d):P},_er:C,_err:function(t,e,n){var r=void 0!==n?K(n)?n.call(e.data,t,e):n||"":"{Error: "+(t.message||t)+"}";return z.onError&&void 0!==(n=z.onError.call(e.data,t,n&&r,e))&&(r=n),e&&!e.linkCtx?Q.html(r):r},_cp:s,_sq:function(t){return"constructor"===t&&T(""),t}},settings:{delimiters:l,advanced:function(t){return t?(d(G,t),Z.advSet(),W):G}},map:b},(a.prototype=new Error).constructor=a,p.depends=function(){return[this.get("item"),"index"]},u.depends="index",g.prototype={get:function(t,e){e||!0===t||(e=t,t=void 0);var n,r,i,s,o=this,a=!e||"root"===e;if(t){if(!(s=e&&o.type===e&&o))if(n=o.views,o._.useKey){for(r in n)if(s=e?n[r].get(t,e):n[r])break}else for(r=0,i=n.length;!s&&r<i;r++)s=e?n[r].get(t,e):n[r]}else if(a)s=o.root;else for(;o&&!s;)s=o.type===e?o:void 0,o=o.parent;return s},getIndex:u,getRsc:function(t,e){var n,r,i=this;if(""+e===e){for(;void 0===n&&i;)n=(r=i.tmpl&&i.tmpl[t])&&r[e],i=i.parent;return n||q[t][e]}},getTmpl:function(t){return t&&(t.fn?t:this.getRsc("templates",t)||L(t))},ctxPrm:c,_is:"view"},Z=q.sub,W=q.settings,!(jt||e&&e.render)){for(I in Rt)x(I,Rt[I]);Q=q.converters,H=q.helpers,D=q.tags,Z._tg.prototype={baseApply:function(t){return this.base.apply(this,t)},cvtArgs:function(t,e){var n,r,i,s,o,a,d,l=this;if(l.tagName?l=(a=l).tagCtxs?a.tagCtxs[e||0]:a.tagCtx:a=l.tag,o=a.bindTo,s=l.args,(d=a.convert)&&""+d===d&&(d="true"===d?void 0:l.view.getRsc("converters",d)||C("Unknown converter: '"+d+"'")),t&&t.length)s=t;else if(d&&!t&&(s=s.slice()),o){for(i=[],n=o.length;n--;)r=o[n],i.unshift(f(l,r));t&&(s=i)}if(d)if(o=o||[0],n=o.length,d=d.apply(a,i||s),B(d)&&d.length===n||(d=[d],o=[0],n=1),t)s=d;else for(;n--;)+(r=o[n])===r&&(s[r]=d[n]);return s},bndArgs:function(t){return this.cvtArgs(!0,t)},ctxPrm:c},U=Z.topView=new g,e?(e.fn.render=S,J=e.expando,e.observable&&(d(Z,e.views.sub),q.map=e.views.map)):(e={},P&&(t.jsrender=e),e.renderFile=e.__express=e.compile=function(){throw"Node.js: use npm jsrender, or jsrender-node.js"},e.isFunction=function(t){return"function"==typeof t},e.isArray=Array.isArray||function(t){return"[object Array]"==={}.toString.call(t)},Z._jq=function(t){t!==e&&(d(t,e),(e=t).fn.render=S,delete e.jsrender,J=e.expando)},e.jsrender="v0.9.90"),(z=Z.settings).allowCode=!1,K=e.isFunction,e.render=Tt,e.views=q,e.templates=L=q.templates;for(rt in z)_(rt);(W.debugMode=function(t){return void 0===t?z.debugMode:(z.debugMode=t,z.onError=t+""===t?new Function("","return '"+t+"';"):K(t)?t:void 0,W)})(!1),G=z.advanced={useViews:!1,_jsv:!1},D({if:{render:function(t){var e=this.tagCtx;return this.rendering.done||!t&&(arguments.length||!e.index)?"":(this.rendering.done=!0,void(this.selected=e.index))},contentCtx:!0,flow:!0},for:{render:function(t){var e,n=!arguments.length,r=this.tagCtx,i="",s=0;return this.rendering.done||(void 0!==(e=n?r.view.data:t)&&(i+=r.render(e,n),s+=B(e)?e.length:1),(this.rendering.done=s)&&(this.selected=r.index)),i},flow:!0},props:{baseTag:"for",dataMap:b(function(t){var e,n,r=[];if(typeof t===bt)for(e in t)n=t[e],e!==J&&t.hasOwnProperty(e)&&!K(n)&&r.push({key:e,prop:n});return r}),flow:!0},include:{flow:!0},"*":{render:s,flow:!0},":*":{render:s,flow:!0},dbg:H.dbg=Q.dbg=function(t){try{throw console.log("JsRender dbg breakpoint: "+t),"dbg breakpoint"}catch(t){}return this.base?this.baseApply(arguments):t}}),Q({html:F,attr:F,url:function(t){return void 0!=t?encodeURI(""+t):null===t?t:""}})}return z=Z.settings,B=(e||jt).isArray,W.delimiters("{{","}}","^"),At&&jt.views.sub._jq(e),e||jt},window);