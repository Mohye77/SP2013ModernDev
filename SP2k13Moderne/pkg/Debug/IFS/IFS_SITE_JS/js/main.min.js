!function t(e,i,r){function n(o,a){if(!i[o]){if(!e[o]){var h="function"==typeof require&&require;if(!a&&h)return h(o,!0);if(s)return s(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=i[o]={exports:{}};e[o][0].call(c.exports,function(t){var i=e[o][1][t];return n(i||t)},c,c.exports,t,e,i,r)}return i[o].exports}for(var s="function"==typeof require&&require,o=0;o<r.length;o++)n(r[o]);return n}({1:[function(t,e,i){"use strict";function r(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function n(t){return o[t>>18&63]+o[t>>12&63]+o[t>>6&63]+o[63&t]}function s(t,e,i){for(var r,s=[],o=e;o<i;o+=3)r=(t[o]<<16)+(t[o+1]<<8)+t[o+2],s.push(n(r));return s.join("")}i.byteLength=function(t){return 3*t.length/4-r(t)},i.toByteArray=function(t){var e,i,n,s,o,l=t.length;s=r(t),o=new h(3*l/4-s),i=s>0?l-4:l;var c=0;for(e=0;e<i;e+=4)n=a[t.charCodeAt(e)]<<18|a[t.charCodeAt(e+1)]<<12|a[t.charCodeAt(e+2)]<<6|a[t.charCodeAt(e+3)],o[c++]=n>>16&255,o[c++]=n>>8&255,o[c++]=255&n;return 2===s?(n=a[t.charCodeAt(e)]<<2|a[t.charCodeAt(e+1)]>>4,o[c++]=255&n):1===s&&(n=a[t.charCodeAt(e)]<<10|a[t.charCodeAt(e+1)]<<4|a[t.charCodeAt(e+2)]>>2,o[c++]=n>>8&255,o[c++]=255&n),o},i.fromByteArray=function(t){for(var e,i=t.length,r=i%3,n="",a=[],h=0,l=i-r;h<l;h+=16383)a.push(s(t,h,h+16383>l?l:h+16383));return 1===r?(e=t[i-1],n+=o[e>>2],n+=o[e<<4&63],n+="=="):2===r&&(e=(t[i-2]<<8)+t[i-1],n+=o[e>>10],n+=o[e>>4&63],n+=o[e<<2&63],n+="="),a.push(n),a.join("")};for(var o=[],a=[],h="undefined"!=typeof Uint8Array?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,d=l.length;c<d;++c)o[c]=l[c],a[l.charCodeAt(c)]=c;a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},{}],2:[function(t,e,i){},{}],3:[function(t,e,i){"use strict";function r(t){if(t>B)throw new RangeError("Invalid typed array length");var e=new Uint8Array(t);return e.__proto__=n.prototype,e}function n(t,e,i){if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return a(t)}return s(t,e,i)}function s(t,e,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return P(t)?function(t,e,i){if(e<0||t.byteLength<e)throw new RangeError("'offset' is out of bounds");if(t.byteLength<e+(i||0))throw new RangeError("'length' is out of bounds");var r;r=void 0===e&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,e):new Uint8Array(t,e,i);return r.__proto__=n.prototype,r}(t,e,i):"string"==typeof t?function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!n.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var i=0|c(t,e),s=r(i),o=s.write(t,e);o!==i&&(s=s.slice(0,o));return s}(t,e):function(t){if(n.isBuffer(t)){var e=0|l(t.length),i=r(e);return 0===i.length?i:(t.copy(i,0,0,e),i)}if(t){if(E(t)||"length"in t)return"number"!=typeof t.length||O(t.length)?r(0):h(t);if("Buffer"===t.type&&Array.isArray(t.data))return h(t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t)}function o(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function a(t){return o(t),r(t<0?0:0|l(t))}function h(t){for(var e=t.length<0?0:0|l(t.length),i=r(e),n=0;n<e;n+=1)i[n]=255&t[n];return i}function l(t){if(t>=B)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+B.toString(16)+" bytes");return 0|t}function c(t,e){if(n.isBuffer(t))return t.length;if(E(t)||P(t))return t.byteLength;"string"!=typeof t&&(t=""+t);var i=t.length;if(0===i)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return C(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return T(t).length;default:if(r)return C(t).length;e=(""+e).toLowerCase(),r=!0}}function d(t,e,i){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if(i>>>=0,e>>>=0,i<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return function(t,e,i){var r=t.length;(!e||e<0)&&(e=0);(!i||i<0||i>r)&&(i=r);for(var n="",s=e;s<i;++s)n+=function(t){return t<16?"0"+t.toString(16):t.toString(16)}(t[s]);return n}(this,e,i);case"utf8":case"utf-8":return w(this,e,i);case"ascii":return function(t,e,i){var r="";i=Math.min(t.length,i);for(var n=e;n<i;++n)r+=String.fromCharCode(127&t[n]);return r}(this,e,i);case"latin1":case"binary":return function(t,e,i){var r="";i=Math.min(t.length,i);for(var n=e;n<i;++n)r+=String.fromCharCode(t[n]);return r}(this,e,i);case"base64":return function(t,e,i){return 0===e&&i===t.length?D.fromByteArray(t):D.fromByteArray(t.slice(e,i))}(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(t,e,i){for(var r=t.slice(e,i),n="",s=0;s<r.length;s+=2)n+=String.fromCharCode(r[s]+256*r[s+1]);return n}(this,e,i);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function u(t,e,i){var r=t[e];t[e]=t[i],t[i]=r}function p(t,e,i,r,s){if(0===t.length)return-1;if("string"==typeof i?(r=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,O(i)&&(i=s?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(s)return-1;i=t.length-1}else if(i<0){if(!s)return-1;i=0}if("string"==typeof e&&(e=n.from(e,r)),n.isBuffer(e))return 0===e.length?-1:f(t,e,i,r,s);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?s?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):f(t,[e],i,r,s);throw new TypeError("val must be string, number or Buffer")}function f(t,e,i,r,n){function s(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}var o=1,a=t.length,h=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;o=2,a/=2,h/=2,i/=2}var l;if(n){var c=-1;for(l=i;l<a;l++)if(s(t,l)===s(e,-1===c?0:l-c)){if(-1===c&&(c=l),l-c+1===h)return c*o}else-1!==c&&(l-=l-c),c=-1}else for(i+h>a&&(i=a-h),l=i;l>=0;l--){for(var d=!0,u=0;u<h;u++)if(s(t,l+u)!==s(e,u)){d=!1;break}if(d)return l}return-1}function g(t,e,i,r){i=Number(i)||0;var n=t.length-i;r?(r=Number(r))>n&&(r=n):r=n;var s=e.length;if(s%2!=0)throw new TypeError("Invalid hex string");r>s/2&&(r=s/2);for(var o=0;o<r;++o){var a=parseInt(e.substr(2*o,2),16);if(O(a))return o;t[i+o]=a}return o}function m(t,e,i,r){return L(C(e,t.length-i),t,i,r)}function v(t,e,i,r){return L(function(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}(e),t,i,r)}function y(t,e,i,r){return v(t,e,i,r)}function b(t,e,i,r){return L(T(e),t,i,r)}function x(t,e,i,r){return L(function(t,e){for(var i,r,n,s=[],o=0;o<t.length&&!((e-=2)<0);++o)i=t.charCodeAt(o),r=i>>8,n=i%256,s.push(n),s.push(r);return s}(e,t.length-i),t,i,r)}function w(t,e,i){i=Math.min(t.length,i);for(var r=[],n=e;n<i;){var s=t[n],o=null,a=s>239?4:s>223?3:s>191?2:1;if(n+a<=i){var h,l,c,d;switch(a){case 1:s<128&&(o=s);break;case 2:128==(192&(h=t[n+1]))&&(d=(31&s)<<6|63&h)>127&&(o=d);break;case 3:h=t[n+1],l=t[n+2],128==(192&h)&&128==(192&l)&&(d=(15&s)<<12|(63&h)<<6|63&l)>2047&&(d<55296||d>57343)&&(o=d);break;case 4:h=t[n+1],l=t[n+2],c=t[n+3],128==(192&h)&&128==(192&l)&&128==(192&c)&&(d=(15&s)<<18|(63&h)<<12|(63&l)<<6|63&c)>65535&&d<1114112&&(o=d)}}null===o?(o=65533,a=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),n+=a}return function(t){var e=t.length;if(e<=z)return String.fromCharCode.apply(String,t);var i="",r=0;for(;r<e;)i+=String.fromCharCode.apply(String,t.slice(r,r+=z));return i}(r)}function k(t,e,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function _(t,e,i,r,s,o){if(!n.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>s||e<o)throw new RangeError('"value" argument is out of bounds');if(i+r>t.length)throw new RangeError("Index out of range")}function S(t,e,i,r,n,s){if(i+r>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function M(t,e,i,r,n){return e=+e,i>>>=0,n||S(t,0,i,4),I.write(t,e,i,r,23,4),i+4}function A(t,e,i,r,n){return e=+e,i>>>=0,n||S(t,0,i,8),I.write(t,e,i,r,52,8),i+8}function C(t,e){e=e||1/0;for(var i,r=t.length,n=null,s=[],o=0;o<r;++o){if((i=t.charCodeAt(o))>55295&&i<57344){if(!n){if(i>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===r){(e-=3)>-1&&s.push(239,191,189);continue}n=i;continue}if(i<56320){(e-=3)>-1&&s.push(239,191,189),n=i;continue}i=65536+(n-55296<<10|i-56320)}else n&&(e-=3)>-1&&s.push(239,191,189);if(n=null,i<128){if((e-=1)<0)break;s.push(i)}else if(i<2048){if((e-=2)<0)break;s.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;s.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return s}function T(t){return D.toByteArray(function(t){if((t=t.trim().replace(R,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function L(t,e,i,r){for(var n=0;n<r&&!(n+i>=e.length||n>=t.length);++n)e[n+i]=t[n];return n}function P(t){return t instanceof ArrayBuffer||null!=t&&null!=t.constructor&&"ArrayBuffer"===t.constructor.name&&"number"==typeof t.byteLength}function E(t){return"function"==typeof ArrayBuffer.isView&&ArrayBuffer.isView(t)}function O(t){return t!=t}var D=t("base64-js"),I=t("ieee754");i.Buffer=n,i.SlowBuffer=function(t){return+t!=t&&(t=0),n.alloc(+t)},i.INSPECT_MAX_BYTES=50;var B=2147483647;i.kMaxLength=B,(n.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(t){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),"undefined"!=typeof Symbol&&Symbol.species&&n[Symbol.species]===n&&Object.defineProperty(n,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),n.poolSize=8192,n.from=function(t,e,i){return s(t,e,i)},n.prototype.__proto__=Uint8Array.prototype,n.__proto__=Uint8Array,n.alloc=function(t,e,i){return function(t,e,i){return o(t),t<=0?r(t):void 0!==e?"string"==typeof i?r(t).fill(e,i):r(t).fill(e):r(t)}(t,e,i)},n.allocUnsafe=function(t){return a(t)},n.allocUnsafeSlow=function(t){return a(t)},n.isBuffer=function(t){return null!=t&&!0===t._isBuffer},n.compare=function(t,e){if(!n.isBuffer(t)||!n.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var i=t.length,r=e.length,s=0,o=Math.min(i,r);s<o;++s)if(t[s]!==e[s]){i=t[s],r=e[s];break}return i<r?-1:r<i?1:0},n.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return n.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var r=n.allocUnsafe(e),s=0;for(i=0;i<t.length;++i){var o=t[i];if(!n.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,s),s+=o.length}return r},n.byteLength=c,n.prototype._isBuffer=!0,n.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)u(this,e,e+1);return this},n.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)u(this,e,e+3),u(this,e+1,e+2);return this},n.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)u(this,e,e+7),u(this,e+1,e+6),u(this,e+2,e+5),u(this,e+3,e+4);return this},n.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?w(this,0,t):d.apply(this,arguments)},n.prototype.equals=function(t){if(!n.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===n.compare(this,t)},n.prototype.inspect=function(){var t="",e=i.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},n.prototype.compare=function(t,e,i,r,s){if(!n.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===r&&(r=0),void 0===s&&(s=this.length),e<0||i>t.length||r<0||s>this.length)throw new RangeError("out of range index");if(r>=s&&e>=i)return 0;if(r>=s)return-1;if(e>=i)return 1;if(e>>>=0,i>>>=0,r>>>=0,s>>>=0,this===t)return 0;for(var o=s-r,a=i-e,h=Math.min(o,a),l=this.slice(r,s),c=t.slice(e,i),d=0;d<h;++d)if(l[d]!==c[d]){o=l[d],a=c[d];break}return o<a?-1:a<o?1:0},n.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},n.prototype.indexOf=function(t,e,i){return p(this,t,e,i,!0)},n.prototype.lastIndexOf=function(t,e,i){return p(this,t,e,i,!1)},n.prototype.write=function(t,e,i,r){if(void 0===e)r="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)r=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(i)?(i>>>=0,void 0===r&&(r="utf8")):(r=i,i=void 0)}var n=this.length-e;if((void 0===i||i>n)&&(i=n),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var s=!1;;)switch(r){case"hex":return g(this,t,e,i);case"utf8":case"utf-8":return m(this,t,e,i);case"ascii":return v(this,t,e,i);case"latin1":case"binary":return y(this,t,e,i);case"base64":return b(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,e,i);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var z=4096;n.prototype.slice=function(t,e){var i=this.length;t=~~t,e=void 0===e?i:~~e,t<0?(t+=i)<0&&(t=0):t>i&&(t=i),e<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t);var r=this.subarray(t,e);return r.__proto__=n.prototype,r},n.prototype.readUIntLE=function(t,e,i){t>>>=0,e>>>=0,i||k(t,e,this.length);for(var r=this[t],n=1,s=0;++s<e&&(n*=256);)r+=this[t+s]*n;return r},n.prototype.readUIntBE=function(t,e,i){t>>>=0,e>>>=0,i||k(t,e,this.length);for(var r=this[t+--e],n=1;e>0&&(n*=256);)r+=this[t+--e]*n;return r},n.prototype.readUInt8=function(t,e){return t>>>=0,e||k(t,1,this.length),this[t]},n.prototype.readUInt16LE=function(t,e){return t>>>=0,e||k(t,2,this.length),this[t]|this[t+1]<<8},n.prototype.readUInt16BE=function(t,e){return t>>>=0,e||k(t,2,this.length),this[t]<<8|this[t+1]},n.prototype.readUInt32LE=function(t,e){return t>>>=0,e||k(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},n.prototype.readUInt32BE=function(t,e){return t>>>=0,e||k(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},n.prototype.readIntLE=function(t,e,i){t>>>=0,e>>>=0,i||k(t,e,this.length);for(var r=this[t],n=1,s=0;++s<e&&(n*=256);)r+=this[t+s]*n;return n*=128,r>=n&&(r-=Math.pow(2,8*e)),r},n.prototype.readIntBE=function(t,e,i){t>>>=0,e>>>=0,i||k(t,e,this.length);for(var r=e,n=1,s=this[t+--r];r>0&&(n*=256);)s+=this[t+--r]*n;return n*=128,s>=n&&(s-=Math.pow(2,8*e)),s},n.prototype.readInt8=function(t,e){return t>>>=0,e||k(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},n.prototype.readInt16LE=function(t,e){t>>>=0,e||k(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},n.prototype.readInt16BE=function(t,e){t>>>=0,e||k(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},n.prototype.readInt32LE=function(t,e){return t>>>=0,e||k(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},n.prototype.readInt32BE=function(t,e){return t>>>=0,e||k(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},n.prototype.readFloatLE=function(t,e){return t>>>=0,e||k(t,4,this.length),I.read(this,t,!0,23,4)},n.prototype.readFloatBE=function(t,e){return t>>>=0,e||k(t,4,this.length),I.read(this,t,!1,23,4)},n.prototype.readDoubleLE=function(t,e){return t>>>=0,e||k(t,8,this.length),I.read(this,t,!0,52,8)},n.prototype.readDoubleBE=function(t,e){return t>>>=0,e||k(t,8,this.length),I.read(this,t,!1,52,8)},n.prototype.writeUIntLE=function(t,e,i,r){if(t=+t,e>>>=0,i>>>=0,!r){_(this,t,e,i,Math.pow(2,8*i)-1,0)}var n=1,s=0;for(this[e]=255&t;++s<i&&(n*=256);)this[e+s]=t/n&255;return e+i},n.prototype.writeUIntBE=function(t,e,i,r){if(t=+t,e>>>=0,i>>>=0,!r){_(this,t,e,i,Math.pow(2,8*i)-1,0)}var n=i-1,s=1;for(this[e+n]=255&t;--n>=0&&(s*=256);)this[e+n]=t/s&255;return e+i},n.prototype.writeUInt8=function(t,e,i){return t=+t,e>>>=0,i||_(this,t,e,1,255,0),this[e]=255&t,e+1},n.prototype.writeUInt16LE=function(t,e,i){return t=+t,e>>>=0,i||_(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},n.prototype.writeUInt16BE=function(t,e,i){return t=+t,e>>>=0,i||_(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},n.prototype.writeUInt32LE=function(t,e,i){return t=+t,e>>>=0,i||_(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},n.prototype.writeUInt32BE=function(t,e,i){return t=+t,e>>>=0,i||_(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},n.prototype.writeIntLE=function(t,e,i,r){if(t=+t,e>>>=0,!r){var n=Math.pow(2,8*i-1);_(this,t,e,i,n-1,-n)}var s=0,o=1,a=0;for(this[e]=255&t;++s<i&&(o*=256);)t<0&&0===a&&0!==this[e+s-1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+i},n.prototype.writeIntBE=function(t,e,i,r){if(t=+t,e>>>=0,!r){var n=Math.pow(2,8*i-1);_(this,t,e,i,n-1,-n)}var s=i-1,o=1,a=0;for(this[e+s]=255&t;--s>=0&&(o*=256);)t<0&&0===a&&0!==this[e+s+1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+i},n.prototype.writeInt8=function(t,e,i){return t=+t,e>>>=0,i||_(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},n.prototype.writeInt16LE=function(t,e,i){return t=+t,e>>>=0,i||_(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},n.prototype.writeInt16BE=function(t,e,i){return t=+t,e>>>=0,i||_(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},n.prototype.writeInt32LE=function(t,e,i){return t=+t,e>>>=0,i||_(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},n.prototype.writeInt32BE=function(t,e,i){return t=+t,e>>>=0,i||_(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},n.prototype.writeFloatLE=function(t,e,i){return M(this,t,e,!0,i)},n.prototype.writeFloatBE=function(t,e,i){return M(this,t,e,!1,i)},n.prototype.writeDoubleLE=function(t,e,i){return A(this,t,e,!0,i)},n.prototype.writeDoubleBE=function(t,e,i){return A(this,t,e,!1,i)},n.prototype.copy=function(t,e,i,r){if(i||(i=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<i&&(r=i),r===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-i&&(r=t.length-e+i);var n,s=r-i;if(this===t&&i<e&&e<r)for(n=s-1;n>=0;--n)t[n+e]=this[n+i];else if(s<1e3)for(n=0;n<s;++n)t[n+e]=this[n+i];else Uint8Array.prototype.set.call(t,this.subarray(i,i+s),e);return s},n.prototype.fill=function(t,e,i,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,i=this.length):"string"==typeof i&&(r=i,i=this.length),1===t.length){var s=t.charCodeAt(0);s<256&&(t=s)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!n.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0);var o;if("number"==typeof t)for(o=e;o<i;++o)this[o]=t;else{var a=n.isBuffer(t)?t:new n(t,r),h=a.length;for(o=0;o<i-e;++o)this[o+e]=a[o%h]}return this};var R=/[^+/0-9A-Za-z-_]/g},{"base64-js":1,ieee754:6}],4:[function(t,e,i){(function(t){function e(t){return Object.prototype.toString.call(t)}i.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===e(t)},i.isBoolean=function(t){return"boolean"==typeof t},i.isNull=function(t){return null===t},i.isNullOrUndefined=function(t){return null==t},i.isNumber=function(t){return"number"==typeof t},i.isString=function(t){return"string"==typeof t},i.isSymbol=function(t){return"symbol"==typeof t},i.isUndefined=function(t){return void 0===t},i.isRegExp=function(t){return"[object RegExp]"===e(t)},i.isObject=function(t){return"object"==typeof t&&null!==t},i.isDate=function(t){return"[object Date]"===e(t)},i.isError=function(t){return"[object Error]"===e(t)||t instanceof Error},i.isFunction=function(t){return"function"==typeof t},i.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},i.isBuffer=t.isBuffer}).call(this,{isBuffer:t("../../is-buffer/index.js")})},{"../../is-buffer/index.js":8}],5:[function(t,e,i){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function s(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!function(t){return"number"==typeof t}(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,i,r,a,h,l;if(this._events||(this._events={}),"error"===t&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var c=new Error('Uncaught, unspecified "error" event. ('+e+")");throw c.context=e,c}if(i=this._events[t],o(i))return!1;if(n(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),i.apply(this,a)}else if(s(i))for(a=Array.prototype.slice.call(arguments,1),r=(l=i.slice()).length,h=0;h<r;h++)l[h].apply(this,a);return!0},r.prototype.addListener=function(t,e){var i;if(!n(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(e.listener)?e.listener:e),this._events[t]?s(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,s(this._events[t])&&!this._events[t].warned&&(i=o(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[t].length>i&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function i(){this.removeListener(t,i),r||(r=!0,e.apply(this,arguments))}if(!n(e))throw TypeError("listener must be a function");var r=!1;return i.listener=e,this.on(t,i),this},r.prototype.removeListener=function(t,e){var i,r,o,a;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(i=this._events[t],o=i.length,r=-1,i===e||n(i.listener)&&i.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(s(i)){for(a=o;a-- >0;)if(i[a]===e||i[a].listener&&i[a].listener===e){r=a;break}if(r<0)return this;1===i.length?(i.length=0,delete this._events[t]):i.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(i=this._events[t],n(i))this.removeListener(t,i);else if(i)for(;i.length;)this.removeListener(t,i[i.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){return this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(n(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},{}],6:[function(t,e,i){i.read=function(t,e,i,r,n){var s,o,a=8*n-r-1,h=(1<<a)-1,l=h>>1,c=-7,d=i?n-1:0,u=i?-1:1,p=t[e+d];for(d+=u,s=p&(1<<-c)-1,p>>=-c,c+=a;c>0;s=256*s+t[e+d],d+=u,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=r;c>0;o=256*o+t[e+d],d+=u,c-=8);if(0===s)s=1-l;else{if(s===h)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,r),s-=l}return(p?-1:1)*o*Math.pow(2,s-r)},i.write=function(t,e,i,r,n,s){var o,a,h,l=8*s-n-1,c=(1<<l)-1,d=c>>1,u=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:s-1,f=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-o))<1&&(o--,h*=2),(e+=o+d>=1?u/h:u*Math.pow(2,1-d))*h>=2&&(o++,h/=2),o+d>=c?(a=0,o=c):o+d>=1?(a=(e*h-1)*Math.pow(2,n),o+=d):(a=e*Math.pow(2,d-1)*Math.pow(2,n),o=0));n>=8;t[i+p]=255&a,p+=f,a/=256,n-=8);for(o=o<<n|a,l+=n;l>0;t[i+p]=255&o,p+=f,o/=256,l-=8);t[i+p-f]|=128*g}},{}],7:[function(t,e,i){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}},{}],8:[function(t,e,i){function r(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}e.exports=function(t){return null!=t&&(r(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&r(t.slice(0,0))}(t)||!!t._isBuffer)}},{}],9:[function(t,e,i){var r={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},{}],10:[function(t,e,i){(function(t){"use strict";!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports=function(e,i,r,n){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var s,o,a=arguments.length;switch(a){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,i)});case 3:return t.nextTick(function(){e.call(null,i,r)});case 4:return t.nextTick(function(){e.call(null,i,r,n)});default:for(s=new Array(a-1),o=0;o<s.length;)s[o++]=arguments[o];return t.nextTick(function(){e.apply(null,s)})}}:e.exports=t.nextTick}).call(this,t("_process"))},{_process:11}],11:[function(t,e,i){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function s(t){if(c===setTimeout)return setTimeout(t,0);if((c===r||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function o(){g&&p&&(g=!1,p.length?f=p.concat(f):m=-1,f.length&&a())}function a(){if(!g){var t=s(o);g=!0;for(var e=f.length;e;){for(p=f,f=[];++m<e;)p&&p[m].run();m=-1,e=f.length}p=null,g=!1,function(t){if(d===clearTimeout)return clearTimeout(t);if((d===n||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(t);try{d(t)}catch(e){try{return d.call(null,t)}catch(e){return d.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function l(){}var c,d,u=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:r}catch(t){c=r}try{d="function"==typeof clearTimeout?clearTimeout:n}catch(t){d=n}}();var p,f=[],g=!1,m=-1;u.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];f.push(new h(t,e)),1!==f.length||g||s(a)},h.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=l,u.addListener=l,u.once=l,u.off=l,u.removeListener=l,u.removeAllListeners=l,u.emit=l,u.prependListener=l,u.prependOnceListener=l,u.listeners=function(t){return[]},u.binding=function(t){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(t){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],12:[function(t,e,i){e.exports=t("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":13}],13:[function(t,e,i){"use strict";function r(t){if(!(this instanceof r))return new r(t);l.call(this,t),c.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",n)}function n(){this.allowHalfOpen||this._writableState.ended||o(s,this)}function s(t){t.end()}var o=t("process-nextick-args"),a=Object.keys||function(t){var e=[];for(var i in t)e.push(i);return e};e.exports=r;var h=t("core-util-is");h.inherits=t("inherits");var l=t("./_stream_readable"),c=t("./_stream_writable");h.inherits(r,l);for(var d=a(c.prototype),u=0;u<d.length;u++){var p=d[u];r.prototype[p]||(r.prototype[p]=c.prototype[p])}Object.defineProperty(r.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),r.prototype._destroy=function(t,e){this.push(null),this.end(),o(e,t)}},{"./_stream_readable":15,"./_stream_writable":17,"core-util-is":4,inherits:7,"process-nextick-args":10}],14:[function(t,e,i){"use strict";function r(t){if(!(this instanceof r))return new r(t);n.call(this,t)}e.exports=r;var n=t("./_stream_transform"),s=t("core-util-is");s.inherits=t("inherits"),s.inherits(r,n),r.prototype._transform=function(t,e,i){i(null,t)}},{"./_stream_transform":16,"core-util-is":4,inherits:7}],15:[function(t,e,i){(function(i,r){"use strict";function n(e,i){w=w||t("./_stream_duplex"),e=e||{},this.objectMode=!!e.objectMode,i instanceof w&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new E,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(P||(P=t("string_decoder/").StringDecoder),this.decoder=new P(e.encoding),this.encoding=e.encoding)}function s(e){if(w=w||t("./_stream_duplex"),!(this instanceof s))return new s(e);this._readableState=new n(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),S.call(this)}function o(t,e,i,r,n){var s=t._readableState;if(null===e)s.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var i=e.decoder.end();i&&i.length&&(e.buffer.push(i),e.length+=e.objectMode?1:i.length)}e.ended=!0,l(t)}(t,s);else{var o;n||(o=function(t,e){var i;(function(t){return M.isBuffer(t)||t instanceof A})(e)||"string"==typeof e||void 0===e||t.objectMode||(i=new TypeError("Invalid non-string/buffer chunk"));return i}(s,e)),o?t.emit("error",o):s.objectMode||e&&e.length>0?("string"==typeof e||s.objectMode||Object.getPrototypeOf(e)===M.prototype||(e=function(t){return M.from(t)}(e)),r?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):a(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!i?(e=s.decoder.write(e),s.objectMode||0!==e.length?a(t,s,e,!1):d(t,s)):a(t,s,e,!1))):r||(s.reading=!1)}return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(s)}function a(t,e,i,r){e.flowing&&0===e.length&&!e.sync?(t.emit("data",i),t.read(0)):(e.length+=e.objectMode?1:i.length,r?e.buffer.unshift(i):e.buffer.push(i),e.needReadable&&l(t)),d(t,e)}function h(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=I?t=I:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function l(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(L("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?x(c,t):c(t))}function c(t){L("emit readable"),t.emit("readable"),g(t)}function d(t,e){e.readingMore||(e.readingMore=!0,x(u,t,e))}function u(t,e){for(var i=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(L("maybeReadMore read 0"),t.read(0),i!==e.length);)i=e.length;e.readingMore=!1}function p(t){L("readable nexttick read 0"),t.read(0)}function f(t,e){e.reading||(L("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),g(t),e.flowing&&!e.reading&&t.read(0)}function g(t){var e=t._readableState;for(L("flow",e.flowing);e.flowing&&null!==t.read(););}function m(t,e){if(0===e.length)return null;var i;return e.objectMode?i=e.buffer.shift():!t||t>=e.length?(i=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):i=function(t,e,i){var r;t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():i?function(t,e){var i=e.head,r=1,n=i.data;t-=n.length;for(;i=i.next;){var s=i.data,o=t>s.length?s.length:t;if(o===s.length?n+=s:n+=s.slice(0,t),0===(t-=o)){o===s.length?(++r,i.next?e.head=i.next:e.head=e.tail=null):(e.head=i,i.data=s.slice(o));break}++r}return e.length-=r,n}(t,e):function(t,e){var i=M.allocUnsafe(t),r=e.head,n=1;r.data.copy(i),t-=r.data.length;for(;r=r.next;){var s=r.data,o=t>s.length?s.length:t;if(s.copy(i,i.length-t,0,o),0===(t-=o)){o===s.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=s.slice(o));break}++n}return e.length-=n,i}(t,e);return r}(t,e.buffer,e.decoder),i}function v(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,x(y,e,t))}function y(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function b(t,e){for(var i=0,r=t.length;i<r;i++)if(t[i]===e)return i;return-1}var x=t("process-nextick-args");e.exports=s;var w,k=t("isarray");s.ReadableState=n;t("events").EventEmitter;var _=function(t,e){return t.listeners(e).length},S=t("./internal/streams/stream"),M=t("safe-buffer").Buffer,A=r.Uint8Array||function(){},C=t("core-util-is");C.inherits=t("inherits");var T=t("util"),L=void 0;L=T&&T.debuglog?T.debuglog("stream"):function(){};var P,E=t("./internal/streams/BufferList"),O=t("./internal/streams/destroy");C.inherits(s,S);var D=["error","close","destroy","pause","resume"];Object.defineProperty(s.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),s.prototype.destroy=O.destroy,s.prototype._undestroy=O.undestroy,s.prototype._destroy=function(t,e){this.push(null),e(t)},s.prototype.push=function(t,e){var i,r=this._readableState;return r.objectMode?i=!0:"string"==typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=M.from(t,e),e=""),i=!0),o(this,t,e,!1,i)},s.prototype.unshift=function(t){return o(this,t,null,!0,!1)},s.prototype.isPaused=function(){return!1===this._readableState.flowing},s.prototype.setEncoding=function(e){return P||(P=t("string_decoder/").StringDecoder),this._readableState.decoder=new P(e),this._readableState.encoding=e,this};var I=8388608;s.prototype.read=function(t){L("read",t),t=parseInt(t,10);var e=this._readableState,i=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return L("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?v(this):l(this),null;if(0===(t=h(t,e))&&e.ended)return 0===e.length&&v(this),null;var r=e.needReadable;L("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&L("length less than watermark",r=!0),e.ended||e.reading?L("reading or ended",r=!1):r&&(L("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=h(i,e)));var n;return null===(n=t>0?m(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),i!==t&&e.ended&&v(this)),null!==n&&this.emit("data",n),n},s.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},s.prototype.pipe=function(t,e){function r(e,i){L("onunpipe"),e===c&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,L("cleanup"),t.removeListener("close",a),t.removeListener("finish",h),t.removeListener("drain",p),t.removeListener("error",o),t.removeListener("unpipe",r),c.removeListener("end",n),c.removeListener("end",l),c.removeListener("data",s),f=!0,!d.awaitDrain||t._writableState&&!t._writableState.needDrain||p())}function n(){L("onend"),t.end()}function s(e){L("ondata"),m=!1;!1!==t.write(e)||m||((1===d.pipesCount&&d.pipes===t||d.pipesCount>1&&-1!==b(d.pipes,t))&&!f&&(L("false write response, pause",c._readableState.awaitDrain),c._readableState.awaitDrain++,m=!0),c.pause())}function o(e){L("onerror",e),l(),t.removeListener("error",o),0===_(t,"error")&&t.emit("error",e)}function a(){t.removeListener("finish",h),l()}function h(){L("onfinish"),t.removeListener("close",a),l()}function l(){L("unpipe"),c.unpipe(t)}var c=this,d=this._readableState;switch(d.pipesCount){case 0:d.pipes=t;break;case 1:d.pipes=[d.pipes,t];break;default:d.pipes.push(t)}d.pipesCount+=1,L("pipe count=%d opts=%j",d.pipesCount,e);var u=(!e||!1!==e.end)&&t!==i.stdout&&t!==i.stderr?n:l;d.endEmitted?x(u):c.once("end",u),t.on("unpipe",r);var p=function(t){return function(){var e=t._readableState;L("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&_(t,"data")&&(e.flowing=!0,g(t))}}(c);t.on("drain",p);var f=!1,m=!1;return c.on("data",s),function(t,e,i){if("function"==typeof t.prependListener)return t.prependListener(e,i);t._events&&t._events[e]?k(t._events[e])?t._events[e].unshift(i):t._events[e]=[i,t._events[e]]:t.on(e,i)}(t,"error",o),t.once("close",a),t.once("finish",h),t.emit("pipe",c),d.flowing||(L("pipe resume"),c.resume()),t},s.prototype.unpipe=function(t){var e=this._readableState,i={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,i),this);if(!t){var r=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<n;s++)r[s].emit("unpipe",this,i);return this}var o=b(e.pipes,t);return-1===o?this:(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,i),this)},s.prototype.on=function(t,e){var i=S.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&l(this):x(p,this))}return i},s.prototype.addListener=s.prototype.on,s.prototype.resume=function(){var t=this._readableState;return t.flowing||(L("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,x(f,t,e))}(this,t)),this},s.prototype.pause=function(){return L("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(L("pause"),this._readableState.flowing=!1,this.emit("pause")),this},s.prototype.wrap=function(t){var e=this._readableState,i=!1,r=this;t.on("end",function(){if(L("wrapped end"),e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&r.push(t)}r.push(null)}),t.on("data",function(n){if(L("wrapped data"),e.decoder&&(n=e.decoder.write(n)),(!e.objectMode||null!==n&&void 0!==n)&&(e.objectMode||n&&n.length)){r.push(n)||(i=!0,t.pause())}});for(var n in t)void 0===this[n]&&"function"==typeof t[n]&&(this[n]=function(e){return function(){return t[e].apply(t,arguments)}}(n));for(var s=0;s<D.length;s++)t.on(D[s],r.emit.bind(r,D[s]));return r._read=function(e){L("wrapped _read",e),i&&(i=!1,t.resume())},r},s._fromList=m}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":13,"./internal/streams/BufferList":18,"./internal/streams/destroy":19,"./internal/streams/stream":20,_process:11,"core-util-is":4,events:5,inherits:7,isarray:9,"process-nextick-args":10,"safe-buffer":25,"string_decoder/":27,util:2}],16:[function(t,e,i){"use strict";function r(t){this.afterTransform=function(e,i){return function(t,e,i){var r=t._transformState;r.transforming=!1;var n=r.writecb;if(!n)return t.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!==i&&void 0!==i&&t.push(i);n(e);var s=t._readableState;s.reading=!1,(s.needReadable||s.length<s.highWaterMark)&&t._read(s.highWaterMark)}(t,e,i)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function n(t){if(!(this instanceof n))return new n(t);o.call(this,t),this._transformState=new r(this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(t,i){s(e,t,i)}):s(e)})}function s(t,e,i){if(e)return t.emit("error",e);null!==i&&void 0!==i&&t.push(i);var r=t._writableState,n=t._transformState;if(r.length)throw new Error("Calling transform done when ws.length != 0");if(n.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}e.exports=n;var o=t("./_stream_duplex"),a=t("core-util-is");a.inherits=t("inherits"),a.inherits(n,o),n.prototype.push=function(t,e){return this._transformState.needTransform=!1,o.prototype.push.call(this,t,e)},n.prototype._transform=function(t,e,i){throw new Error("_transform() is not implemented")},n.prototype._write=function(t,e,i){var r=this._transformState;if(r.writecb=i,r.writechunk=t,r.writeencoding=e,!r.transforming){var n=this._readableState;(r.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}},n.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},n.prototype._destroy=function(t,e){var i=this;o.prototype._destroy.call(this,t,function(t){e(t),i.emit("close")})}},{"./_stream_duplex":13,"core-util-is":4,inherits:7}],17:[function(t,e,i){(function(i,r){"use strict";function n(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,i){var r=t.entry;t.entry=null;for(;r;){var n=r.callback;e.pendingcb--,n(i),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}function s(){}function o(e,i){m=m||t("./_stream_duplex"),e=e||{},this.objectMode=!!e.objectMode,i instanceof m&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,s=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:s,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===e.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var i=t._writableState,r=i.sync,n=i.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(i),e)!function(t,e,i,r,n){--e.pendingcb,i?(g(n,r),g(f,t,e),t._writableState.errorEmitted=!0,t.emit("error",r)):(n(r),t._writableState.errorEmitted=!0,t.emit("error",r),f(t,e))}(t,i,r,e,n);else{var s=u(i);s||i.corked||i.bufferProcessing||!i.bufferedRequest||d(t,i),r?v(c,t,i,s,n):c(t,i,s,n)}}(i,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function a(e){if(m=m||t("./_stream_duplex"),!(S.call(a,this)||this instanceof m))return new a(e);this._writableState=new o(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),x.call(this)}function h(t,e,i,r,n,s){if(!i){var o=function(t,e,i){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=w.from(e,i)),e}(e,r,n);r!==o&&(i=!0,n="buffer",r=o)}var a=e.objectMode?1:r.length;e.length+=a;var h=e.length<e.highWaterMark;if(h||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:n,isBuf:i,callback:s,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else l(t,e,!1,a,r,n,s);return h}function l(t,e,i,r,n,s,o){e.writelen=r,e.writecb=o,e.writing=!0,e.sync=!0,i?t._writev(n,e.onwrite):t._write(n,s,e.onwrite),e.sync=!1}function c(t,e,i,r){i||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),f(t,e)}function d(t,e){e.bufferProcessing=!0;var i=e.bufferedRequest;if(t._writev&&i&&i.next){var r=e.bufferedRequestCount,s=new Array(r),o=e.corkedRequestsFree;o.entry=i;for(var a=0,h=!0;i;)s[a]=i,i.isBuf||(h=!1),i=i.next,a+=1;s.allBuffers=h,l(t,e,!0,e.length,s,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new n(e)}else{for(;i;){var c=i.chunk,d=i.encoding,u=i.callback;if(l(t,e,!1,e.objectMode?1:c.length,c,d,u),i=i.next,e.writing)break}null===i&&(e.lastBufferedRequest=null)}e.bufferedRequestCount=0,e.bufferedRequest=i,e.bufferProcessing=!1}function u(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function p(t,e){t._final(function(i){e.pendingcb--,i&&t.emit("error",i),e.prefinished=!0,t.emit("prefinish"),f(t,e)})}function f(t,e){var i=u(e);return i&&(!function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,g(p,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),i}var g=t("process-nextick-args");e.exports=a;var m,v=!i.browser&&["v0.10","v0.9."].indexOf(i.version.slice(0,5))>-1?setImmediate:g;a.WritableState=o;var y=t("core-util-is");y.inherits=t("inherits");var b={deprecate:t("util-deprecate")},x=t("./internal/streams/stream"),w=t("safe-buffer").Buffer,k=r.Uint8Array||function(){},_=t("./internal/streams/destroy");y.inherits(a,x),o.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(o.prototype,"buffer",{get:b.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}();var S;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(S=Function.prototype[Symbol.hasInstance],Object.defineProperty(a,Symbol.hasInstance,{value:function(t){return!!S.call(this,t)||t&&t._writableState instanceof o}})):S=function(t){return t instanceof this},a.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},a.prototype.write=function(t,e,i){var r=this._writableState,n=!1,o=function(t){return w.isBuffer(t)||t instanceof k}(t)&&!r.objectMode;return o&&!w.isBuffer(t)&&(t=function(t){return w.from(t)}(t)),"function"==typeof e&&(i=e,e=null),o?e="buffer":e||(e=r.defaultEncoding),"function"!=typeof i&&(i=s),r.ended?function(t,e){var i=new Error("write after end");t.emit("error",i),g(e,i)}(this,i):(o||function(t,e,i,r){var n=!0,s=!1;return null===i?s=new TypeError("May not write null values to stream"):"string"==typeof i||void 0===i||e.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),g(r,s),n=!1),n}(this,r,t,i))&&(r.pendingcb++,n=h(this,r,o,t,e,i)),n},a.prototype.cork=function(){this._writableState.corked++},a.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||d(this,t))},a.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},a.prototype._write=function(t,e,i){i(new Error("_write() is not implemented"))},a.prototype._writev=null,a.prototype.end=function(t,e,i){var r=this._writableState;"function"==typeof t?(i=t,t=null,e=null):"function"==typeof e&&(i=e,e=null),null!==t&&void 0!==t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(t,e,i){e.ending=!0,f(t,e),i&&(e.finished?g(i):t.once("finish",i)),e.ended=!0,t.writable=!1}(this,r,i)},Object.defineProperty(a.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),a.prototype.destroy=_.destroy,a.prototype._undestroy=_.undestroy,a.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":13,"./internal/streams/destroy":19,"./internal/streams/stream":20,_process:11,"core-util-is":4,inherits:7,"process-nextick-args":10,"safe-buffer":25,"util-deprecate":28}],18:[function(t,e,i){"use strict";function r(t,e,i){t.copy(e,i)}var n=t("safe-buffer").Buffer;e.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,i=""+e.data;e=e.next;)i+=t+e.data;return i},t.prototype.concat=function(t){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var e=n.allocUnsafe(t>>>0),i=this.head,s=0;i;)r(i.data,e,s),s+=i.data.length,i=i.next;return e},t}()},{"safe-buffer":25}],19:[function(t,e,i){"use strict";function r(t,e){t.emit("error",e)}var n=t("process-nextick-args");e.exports={destroy:function(t,e){var i=this,s=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;s||o?e?e(t):!t||this._writableState&&this._writableState.errorEmitted||n(r,this,t):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(n(r,i,t),i._writableState&&(i._writableState.errorEmitted=!0)):e&&e(t)}))},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":10}],20:[function(t,e,i){e.exports=t("events").EventEmitter},{events:5}],21:[function(t,e,i){e.exports=t("./readable").PassThrough},{"./readable":22}],22:[function(t,e,i){(i=e.exports=t("./lib/_stream_readable.js")).Stream=i,i.Readable=i,i.Writable=t("./lib/_stream_writable.js"),i.Duplex=t("./lib/_stream_duplex.js"),i.Transform=t("./lib/_stream_transform.js"),i.PassThrough=t("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":13,"./lib/_stream_passthrough.js":14,"./lib/_stream_readable.js":15,"./lib/_stream_transform.js":16,"./lib/_stream_writable.js":17}],23:[function(t,e,i){e.exports=t("./readable").Transform},{"./readable":22}],24:[function(t,e,i){e.exports=t("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":17}],25:[function(t,e,i){function r(t,e){for(var i in t)e[i]=t[i]}function n(t,e,i){return o(t,e,i)}var s=t("buffer"),o=s.Buffer;o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=s:(r(s,i),i.Buffer=n),r(o,n),n.from=function(t,e,i){if("number"==typeof t)throw new TypeError("Argument must not be a number");return o(t,e,i)},n.alloc=function(t,e,i){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=o(t);return void 0!==e?"string"==typeof i?r.fill(e,i):r.fill(e):r.fill(0),r},n.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return o(t)},n.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return s.SlowBuffer(t)}},{buffer:3}],26:[function(t,e,i){function r(){n.call(this)}e.exports=r;var n=t("events").EventEmitter;t("inherits")(r,n),r.Readable=t("readable-stream/readable.js"),r.Writable=t("readable-stream/writable.js"),r.Duplex=t("readable-stream/duplex.js"),r.Transform=t("readable-stream/transform.js"),r.PassThrough=t("readable-stream/passthrough.js"),r.Stream=r,r.prototype.pipe=function(t,e){function i(e){t.writable&&!1===t.write(e)&&l.pause&&l.pause()}function r(){l.readable&&l.resume&&l.resume()}function s(){c||(c=!0,t.end())}function o(){c||(c=!0,"function"==typeof t.destroy&&t.destroy())}function a(t){if(h(),0===n.listenerCount(this,"error"))throw t}function h(){l.removeListener("data",i),t.removeListener("drain",r),l.removeListener("end",s),l.removeListener("close",o),l.removeListener("error",a),t.removeListener("error",a),l.removeListener("end",h),l.removeListener("close",h),t.removeListener("close",h)}var l=this;l.on("data",i),t.on("drain",r),t._isStdio||e&&!1===e.end||(l.on("end",s),l.on("close",o));var c=!1;return l.on("error",a),t.on("error",a),l.on("end",h),l.on("close",h),t.on("close",h),t.emit("pipe",l),t}},{events:5,inherits:7,"readable-stream/duplex.js":12,"readable-stream/passthrough.js":21,"readable-stream/readable.js":22,"readable-stream/transform.js":23,"readable-stream/writable.js":24}],27:[function(t,e,i){"use strict";function r(t){this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(u.isEncoding===p||!p(t)))throw new Error("Unknown encoding: "+t);return e||t}(t);var e;switch(this.encoding){case"utf16le":this.text=o,this.end=a,e=4;break;case"utf8":this.fillLast=s,e=4;break;case"base64":this.text=h,this.end=l,e=3;break;default:return this.write=c,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=u.allocUnsafe(e)}function n(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:-1}function s(t){var e=this.lastTotal-this.lastNeed,i=function(t,e,i){if(128!=(192&e[0]))return t.lastNeed=0,"�".repeat(i);if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�".repeat(i+1);if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�".repeat(i+2)}}(this,t,e);return void 0!==i?i:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function o(t,e){if((t.length-e)%2==0){var i=t.toString("utf16le",e);if(i){var r=i.charCodeAt(i.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],i.slice(0,-1)}return i}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function a(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var i=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,i)}return e}function h(t,e){var i=(t.length-e)%3;return 0===i?t.toString("base64",e):(this.lastNeed=3-i,this.lastTotal=3,1===i?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-i))}function l(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function c(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):""}var u=t("safe-buffer").Buffer,p=u.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};i.StringDecoder=r,r.prototype.write=function(t){if(0===t.length)return"";var e,i;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<t.length?e?e+this.text(t,i):this.text(t,i):e||""},r.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�".repeat(this.lastTotal-this.lastNeed):e},r.prototype.text=function(t,e){var i=function(t,e,i){var r=e.length-1;if(r<i)return 0;var s=n(e[r]);return s>=0?(s>0&&(t.lastNeed=s-1),s):--r<i?0:(s=n(e[r]))>=0?(s>0&&(t.lastNeed=s-2),s):--r<i?0:(s=n(e[r]))>=0?(s>0&&(2===s?s=0:t.lastNeed=s-3),s):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=i;var r=t.length-(i-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},r.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},{"safe-buffer":25}],28:[function(t,e,i){(function(t){function i(e){try{if(!t.localStorage)return!1}catch(t){return!1}var i=t.localStorage[e];return null!=i&&"true"===String(i).toLowerCase()}e.exports=function(t,e){if(i("noDeprecation"))return t;var r=!1;return function(){if(!r){if(i("throwDeprecation"))throw new Error(e);i("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],29:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t("./index.d");var r=t("./ifsconstants"),n=function(){function t(){}return t.prototype.init=function(){var t=this;this.$body=$("body"),this.$master=$("#master"),this.$page=$("#page"),this.$content=$("#content"),this.$main=$("#main"),this.initPageStates(),this.formStyles(),this.initGotoTop(),this.initExternalLinks(),$(window).on("load debouncedresize",function(e){var i=t.$content.offset().top;t.$content.css({height:"calc(100vh - "+i+"px)"})})},t.prototype.initPageStates=function(){var t=this;this.$body.on("loading.start",function(e){t.$body.addClass("loading")}),this.$body.on("loading.end",function(e){t.$body.removeClass("loading")})},t.prototype.formStyles=function(){var t=$(".checkbox, .radio").find("input"),e=$("<span />").addClass("custom-form-control");t.after(e)},t.prototype.initGotoTop=function(){var t=this;$("#btn-goto-top").on("click",function(e){e.preventDefault();(window.matchMedia("(min-width:"+r.breakpoints.md+")").matches?t.$main:t.$page).scrollTo(0,{duration:400,interrupt:!0})})},t.prototype.initExternalLinks=function(){this.$master.on("click",'a[target="_blank"]',function(t){return confirm(window.jsTexts.leaveWebsiteConfirm)})},t}();i.default=new n},{"./ifsconstants":34,"./index.d":35}],30:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function t(){this.hasCookie=!1,this.cookieName="IFSCookiePolicyAccepted"}return t.prototype.init=function(){var t=this;this.$cookiesMsgBlock=$("#cookies-msg"),this.$btnAcceptCookies=this.$cookiesMsgBlock.find(".btn"),this.hasCookie=!!cookie.get(this.cookieName),this.hasCookie||this.$cookiesMsgBlock.addClass("opened"),this.$btnAcceptCookies.on("click",function(e){e.preventDefault(),t.setCookie()})},t.prototype.setCookie=function(){cookie.set(this.cookieName,"ok",{expires:365}),this.hasCookie=!0,this.$cookiesMsgBlock.removeClass("opened")},t}();i.default=new r},{}],31:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=t("./ifsconstants"),n=function(){function t(){this.selectedCountry="",this.selectedProfile=""}return t.prototype.init=function(){if(this.$disclaimerWrapper=$(".disclaimer-wrapper"),this.$disclaimerContainer=$("#disclaimer-container"),this.$disclaimerConditions=$("#disclaimer-conditions"),this.$disclaimerText=$("#disclaimer-text"),this.$disclaimerFooter=$("#disclaimer-footer"),this.$disclaimerCountrySelector=$("#disclaimer-country-selector"),this.$disclaimerProfileSelector=$("#disclaimer-profile-selector"),this.$btnReset=$("#btn-reset-disclaimer"),this.$btnSubmit=$("#btn-submit-disclaimer"),this.$btnChangeProfile=$("#btn-change-profile"),this.$disclaimerWrapper.length>0){var t=$("#hidLang");t&&t.length>0&&(this.lang=t.val());var e=$("#hidMarket");e&&e.length>0&&(this.selectedCountry=e.val());var i=$("#hidProfile");i&&i.length>0&&(this.selectedProfile=i.val());var r=$("#hidSite");r&&r.length>0&&(this.site=r.val()),this.initMarketList(),this.initDisclaimerActions()}},t.prototype.initMarketList=function(){var t=this;return $.ajax({type:"GET",data:{lang:this.lang,site:this.site},dataType:"json",cache:!1,url:r.getAvailableDisclaimerMarkets,success:function(e){e&&e.length>0?(t.disclaimerMarkets=e,t.initDisclaimerSelectors()):console.log("no-data")},error:function(t){console.log(JSON.stringify(t))}})},t.prototype.initDisclaimerActions=function(){var t=this;this.$btnReset.on("click",function(e){e.preventDefault(),t.resetDisclaimer()}),this.$btnSubmit.on("click",function(e){e.preventDefault(),t.submitDisclaimer()}),this.$btnChangeProfile.on("click",function(e){e.preventDefault(),t.$disclaimerWrapper.removeClass("disclaimer-hidden")})},t.prototype.initDisclaimerSelectors=function(){var t=this,e=this.$disclaimerCountrySelector.find(".btn"),i=this.$disclaimerCountrySelector.find(".dropdown-menu"),r=this.$disclaimerProfileSelector.find(".btn"),n=this.$disclaimerProfileSelector.find(".dropdown-menu"),s=$.templates("#disclaimer-countries-list-tpl").render({markets:this.disclaimerMarkets});i.html(s);var o=i.find("li"),a=$.templates("#disclaimer-profiles-list-tpl").render({markets:this.disclaimerMarkets});n.html(a);var h=n.find("li");this.$disclaimerCountrySelector.on("reset",function(i){t.selectedCountry="",t.$disclaimerContainer.addClass("country-not-selected"),e.text(e.data("text-default"))}),this.$disclaimerProfileSelector.on("reset",function(e){t.selectedProfile="",h.removeClass("hidden"),r.text(r.data("text-default"))}),o.each(function(i,n){var s=$(n),o=s.children(),a=s.data("country"),l=s.data("label");o.on("click",function(i){i.preventDefault(),e.text(l),r.text(r.data("text-default")),t.selectedCountry=a,t.$disclaimerContainer.removeClass("country-not-selected"),t.$disclaimerConditions.removeClass("text-loaded"),h.trigger("filter")})}),h.each(function(e,i){var n=$(i),s=n.children(),o=n.data("country"),a=n.data("profile"),h=n.data("label");n.on("filter",function(e){t.selectedCountry===o?n.removeClass("hidden"):n.addClass("hidden")}),s.on("click",function(e){e.preventDefault(),r.text(h),t.selectedProfile=a,t.setDisclaimerText()})}),""!==this.selectedCountry&&o.filter("[data-country="+this.selectedCountry+"]").children().trigger("click"),""!==this.selectedProfile&&h.filter("[data-profile="+this.selectedProfile+"]:not(.hidden)").children().trigger("click")},t.prototype.setDisclaimerText=function(){var t=this;return $.ajax({type:"GET",data:{lang:this.lang,market:this.selectedCountry,profile:this.selectedProfile,site:this.site},dataType:"json",cache:!1,url:r.getDisclaimerText,success:function(e){e?(t.$disclaimerText.html(e.Disclaimer1),t.$disclaimerFooter.html(e.Disclaimer2),t.$disclaimerConditions.addClass("text-loaded")):console.log("no-data")},error:function(t){console.log(JSON.stringify(t))}})},t.prototype.resetDisclaimer=function(){this.$disclaimerText.html(""),this.$disclaimerFooter.html(""),this.$disclaimerConditions.removeClass("text-loaded"),this.$disclaimerCountrySelector.trigger("reset"),this.$disclaimerProfileSelector.trigger("reset")},t.prototype.submitDisclaimer=function(){if(""!==this.selectedCountry&&""!==this.selectedProfile)return $.ajax({type:"GET",data:{market:this.selectedCountry,profile:this.selectedProfile},cache:!1,url:r.validDisclaimer,success:function(t){window.location.reload()},error:function(t){console.log(JSON.stringify(t))}})},t}();i.default=new n},{"./ifsconstants":34}],32:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=t("highcharts/highstock"),n=t("./ifsconstants"),s=t("jszip"),o=t("./utils"),a=function(){function t(){}return t.prototype.init=function(){if(this.$fundDetailsContainer=$("#fund-details"),this.$fundDetailsContainer.length>0){var t=$("#hidISIN");t&&t.length>0&&(this.isin=t.val());var e=$("#hidLang");e&&e.length>0&&(this.lang=e.val()),this.getEvolVLChart(),this.getEvolVLExport(),this.getPerfAnnualChart(),this.getDocuments(),this.getDetails(),this.initAnchors()}},t.prototype.getEvolVLChart=function(t,e){var i=this;return void 0===t&&(t=this.isin),void 0===e&&(e=this.lang),$.ajax({type:"GET",data:{isin:t,lang:e,type:"evolvl"},dataType:"json",cache:!1,url:n.getChartDataServiceUrl,success:function(t){t&&t.series&&(t.series[0].data.length>0||t.series[1].data.length>0)?i.initHighCharts("evol-VL-chart",!0,t):($("#vl-chart-block").hide(),$("#vl-chart-tab").hide())},error:function(t){console.log(JSON.stringify(t))}})},t.prototype.getEvolVLExport=function(){var t=this,e=$("#btn-export-vl-confirm");e.on("click",function(i){i.preventDefault(),e.attr("disabled","disabled"),$.ajax({type:"GET",data:{isin:t.isin,lang:t.lang},cache:!1,url:n.getChartExportUrl,success:function(e){if(e){var i=o.base64ToBlob(e,"text/csv"),r="export_"+t.isin+"_"+o.Utils.DateToyyyyMMdd(new Date)+".csv";i&&o.fileDownload(i,r)}},error:function(t){console.log(JSON.stringify(t))}}).always(function(){e.removeAttr("disabled")})})},t.prototype.getPerfAnnualChart=function(t,e){var i=this;return void 0===t&&(t=this.isin),void 0===e&&(e=this.lang),$.ajax({type:"GET",data:{isin:t,lang:e,type:"perffund"},dataType:"json",cache:!1,url:n.getChartDataServiceUrl,success:function(t){t&&t.series&&(t.series[0].data.length>0||t.series[1].data.length>0)?i.initHighCharts("perf-fund-chart",!1,t):($("#performance-chart-block").hide(),$("#performance-chart-tab").hide())},error:function(t){console.log(JSON.stringify(t))}})},t.prototype.getDocuments=function(t,e){var i=this;return void 0===t&&(t=this.isin),void 0===e&&(e=this.lang),$.ajax({type:"GET",data:{isin:t,lang:e},dataType:"json",cache:!1,url:n.getDocumentsServiceUrl,success:function(t){t&&t.length>0?(i.setFundBlockTpl("fund-documents",{documents:t}),i.initDocuments()):($("#documents-block").hide(),$("#documents-tab").hide())},error:function(t){console.log(JSON.stringify(t))}})},t.prototype.getDetails=function(t,e){var i=this;return void 0===t&&(t=this.isin),void 0===e&&(e=this.lang),$.ajax({type:"GET",data:{isin:t,lang:e},dataType:"json",cache:!1,url:n.getDetailsServiceUrl,success:function(t){t&&(i.setFundBlockTpl("fund-performance",t),i.setFundBlockTpl("fund-characteristics",t))},error:function(t){console.log(JSON.stringify(t))}})},t.prototype.getCharacteristics=function(t,e){var i=this;return void 0===t&&(t=this.isin),void 0===e&&(e=this.lang),$.ajax({type:"GET",data:{isin:t,lang:e},dataType:"json",cache:!1,url:n.getDetailsServiceUrl,success:function(t){t&&i.setFundBlockTpl("fund-characteristics",t)},error:function(t){console.log(JSON.stringify(t))}})},t.prototype.getPerformance=function(t,e){var i=this;return void 0===t&&(t=this.isin),void 0===e&&(e=this.lang),$.ajax({type:"GET",data:{isin:t,lang:e},dataType:"json",cache:!1,url:n.getDetailsServiceUrl,success:function(t){t&&i.setFundBlockTpl("fund-performance",t)},error:function(t){console.log(JSON.stringify(t))}})},t.prototype.setFundBlockTpl=function(t,e){var i=$.templates("#"+t+"-tpl").render(e);$("#"+t).html(i)},t.prototype.initHighCharts=function(t,e,i){$("#"+t),$("#fund-"+t);var n={chart:{renderTo:t,margin:[50,0,50,0]},navigator:{enabled:e},rangeSelector:{enabled:!1},tooltip:{enabled:!0,useHTML:!0,split:!1,shared:!0,backgroundColor:"#262626",formatter:function(){var t=new Date(parseInt(this.x)),e='<p style="color:#fff;">'+o.Utils.DateToddMMyyyy(t)+"</p>";return $.each(this.points,function(){e+='<p style="color:'+this.series.color+'">'+this.y+"%</p>"}),e}},legend:{enabled:!0,layout:"vertical",align:"right",x:0,verticalAlign:"top",floating:!0},yAxis:{gridLineWidth:0,minorGridLineWidth:0},plotOptions:{line:{dataLabels:{enabled:!1},enableMouseTracking:!1},series:{dataLabels:{enabled:!1,allowOverlap:!0}}},lang:i.lang,series:i.series};new r.StockChart(n)},t.prototype.initDocuments=function(){var t=$("#fund-documents").find(":checkbox:not(#input-select-all-documents)"),e=$("#input-select-all-documents"),i=$("#btn-fund-documents-download"),r=(i.data("url-base"),[]);t.each(function(t,i){var n=$(i),s=n.val();n.on("change",function(t){n.is(":checked")?r.push(s):(r=r.filter(function(t){return t!==s}),e.prop("checked",!1))})}),e.on("change",function(i){e.is(":checked")?t.prop("checked",!0):t.prop("checked",!1)}),i.on("click",function(t){t.stopPropagation(),r&&r.length>0&&(i.attr("disabled","disabled"),$.ajax({type:"POST",data:{dl:JSON.stringify(r)},cache:!1,url:n.downloadDocsServiceUrl,success:function(t){if(t&&t.length>0){var e="documents_"+o.Utils.DateToyyyyMMdd(new Date)+".zip";(new s).loadAsync(t,{base64:!0,checkCRC32:!0}).then(function(t){t.generateAsync({type:"blob"}).then(function(t){o.fileDownload(t,e)},function(t){console.log(t)})},function(t){console.log(t)})}else console.log("no data")},error:function(t){console.log(JSON.stringify(t))}}).always(function(){i.removeAttr("disabled")}))})},t.prototype.initAnchors=function(){var t=$("#main");$(".fund-details-tabs a").each(function(e,i){var r=$(i),n=r.attr("href");$(r.attr("href"));r.on("click",function(e){e.preventDefault(),t.scrollTo(n,{duration:1e3,interrupt:!0})})})},t}();i.FundDetailsClass=a,i.default=new a},{"./ifsconstants":34,"./utils":37,"highcharts/highstock":39,jszip:50}],33:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=t("./fund_details"),n=function(){function t(){this.fundsListGroupsID=[],this.activeFilters={currencies:[],categories:[]}}return t.prototype.init=function(){var t=this;this.$body=$("body"),this.$page=$("#page"),this.$main=$("#main"),this.$content=$("#content"),this.$fundsListTable=$("#funds-list-table"),this.$fundsListTable.length>0&&(this.$fundsListRows=this.$fundsListTable.find("tbody tr"),this.$btnResetFilters=$("#btn-reset-filters"),this.$filtersInputs=$(".filters-group input[data-filters-group]"),this.$nbFilteredFunds=$(".nb-filtered-funds"),this.$nbActiveFilters=$(".nb-active-filters"),this.$searchInput=$("#funds-list-search"),this.$modal=$("#modal"),this.currentLang=$("#hidLang").val(),this.initFilters(),this.initSearch(),this.initFundsList(),this.initSmartAccess(),this.initHeaderActions(),this.$btnResetFilters.on("click",function(e){e.preventDefault(),t.resetFilters(!1),t.resetSearch()}))},t.prototype.initFundsList=function(){var t=this,e="";this.$fundsListRows.each(function(i,r){var n=$(r),s=n.hasClass("fund-title"),o=n.data("group-id"),a=n.data("filter-category"),h=n.data("filter-currency"),l=n.data("isin"),c=n.data("name");e!==o&&(e=o,t.fundsListGroupsID.push(o)),n.on("filter",function(e){n.removeClass("row-hidden"),t.activeFilters.currencies.length>0&&!t.activeFilters.currencies.includes(h)&&(s||n.addClass("row-hidden")),t.activeFilters.categories.length>0&&!t.activeFilters.categories.includes(a)&&n.addClass("row-hidden"),""!==t.searchTerm&&(l.includes(t.searchTerm)||c.includes(t.searchTerm)||n.addClass("row-hidden"))}),n.on("toggleGroup",function(e){t.toggleFundsListGroup(o)}),n.on("click",".col-access a",function(e){t.currentFundName=c,t.currentIsin=l,t.currentTab=$(e.target).data("tabid")+"-tab",n.find(".col-access a[data-enabled=False]").each(function(t,e){var i=$("#"+$(e).data("tabid")+"-tab");i&&i.length>0&&i.hide()})})}),this.$fundsListTable.on("click",".expandable-group td:not(.col-access):not(.col-details)",function(t){$(t.target).closest("tr").trigger("toggleGroup")}),this.resetSearch()},t.prototype.initSmartAccess=function(){var t=this,e=this.$modal.find(".modal-title"),i=this.$fundsListRows.find('a[data-toggle="modal"][data-enabled="False"]'),n=this.$modal.find('a[data-toggle="tab"]'),s=this.$modal.find(".tab-pane");i.on("click",function(t){return!1}),this.$modal.on("show.bs.modal",function(i){n.filter("#"+t.currentTab).tab("show"),e.text(t.currentFundName)}),this.$modal.on("hide.bs.modal",function(t){n.removeClass("loaded"),s.removeClass("active"),n.parent().removeClass("active"),s.empty(),n.show()}),n.each(function(e,i){var n=$(i),s=n.attr("id"),o=$("#"+s+"-body");n.on("show.bs.tab",function(e){if(t.currentTab=s,!n.hasClass("loaded"))switch(t.currentTab){case"vl-tab":o.append('<div id="evol-VL-chart"><div class="loader"></div></div>'),r.default.getEvolVLChart(t.currentIsin,t.currentLang).then(function(t){n.addClass("loaded"),o.addClass("loaded")});break;case"perf-tab":o.append('<div id="fund-performance"><div class="loader"></div></div>'),o.append('<div id="perf-fund-chart"><div class="loader"></div></div>'),r.default.getPerformance(t.currentIsin,t.currentLang).then(function(e){r.default.getPerfAnnualChart(t.currentIsin,t.currentLang).then(function(t){n.addClass("loaded"),o.addClass("loaded")})});break;case"car-tab":o.append('<div id="fund-characteristics"><div class="loader"></div></div>'),r.default.getCharacteristics(t.currentIsin,t.currentLang).then(function(){n.addClass("loaded"),o.addClass("loaded")});break;case"doc-tab":o.append('<div id="fund-documents"><div class="loader"></div></div>'),r.default.getDocuments(t.currentIsin,t.currentLang).then(function(){n.addClass("loaded"),o.addClass("loaded")});break;default:console.log("invalid tabid")}})})},t.prototype.toggleFundsListGroup=function(t){var e=this.$fundsListRows.filter("[data-group-id="+t+"]");this.$fundsListRows.addClass("row-collapsed").removeClass("group-opened"),this.$fundsListOpenedGroupID===t?this.$fundsListOpenedGroupID="":(this.$fundsListOpenedGroupID=t,this.$fundsListOpenedGroup=e,this.$fundsListOpenedGroup.removeClass("row-collapsed").addClass("group-opened"))},t.prototype.updateFundsListClasses=function(){var t=this;this.$fundsListRows.removeClass("fund-main-part row-collapsed group-opened expandable-group");var e=this.$fundsListRows.not(".fund-title").not(".row-hidden");this.$fundsListOpenedGroupID="";var i=$.Deferred();$.each(this.fundsListGroupsID,function(r,n){var s=t.$fundsListRows.filter(".fund-title[data-group-id="+n+"]"),o=e.filter("[data-group-id="+n+"]"),a=o.first();o.addClass("row-collapsed"),a.addClass("fund-main-part").removeClass("row-collapsed"),o.length>0?(s.removeClass("row-hidden"),o.length>1&&(s.addClass("expandable-group"),o.addClass("expandable-group"))):s.addClass("row-hidden"),r===t.fundsListGroupsID.length-1&&i.resolve()}),i.done(function(){return t.updateFundsListInfos()})},t.prototype.updateFundsListInfos=function(){var t=this.activeFilters.currencies.length+this.activeFilters.categories.length,e=this.$fundsListRows.not(".fund-title").not(".row-hidden").length;this.$nbActiveFilters.text(t),this.$nbFilteredFunds.text(e),this.$body.trigger("loading.end")},t.prototype.updateFundsList=function(){var t=this;this.$body.trigger("loading.start"),this.$fundsListRows.trigger("filter").promise().done(function(){return t.updateFundsListClasses()})},t.prototype.initFilters=function(){var t=this;this.$filtersInputs.each(function(e,i){var r=$(i),n=r.data("filters-group"),s=r.val();r.on("change",function(e){r.is(":checked")?(t.activeFilters[n].push(s),t.$searchInput.val()):t.activeFilters[n]=t.activeFilters[n].filter(function(t){return t!==s}),t.updateFundsList()})})},t.prototype.resetFilters=function(t){void 0===t&&(t=!0),this.activeFilters={currencies:[],categories:[]},this.$filtersInputs.prop("checked",!1),t&&this.updateFundsList()},t.prototype.initSearch=function(){var t=this,e=$("#btn-reset-search"),i=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,local:window.fundsListSearchData});this.$searchInput.typeahead({minLength:4,highlight:!0,hint:!1},{name:"funds-list-search",source:i}),this.$searchInput.on("typeahead:select",function(i){t.searchTerm=t.$searchInput.typeahead("val"),""===t.searchTerm?e.removeClass("active"):e.addClass("active"),t.updateFundsList()}),e.on("click",function(e){e.preventDefault(),""!==t.searchTerm&&t.resetSearch()}),this.$searchInput.on("keydown",function(e){if(13===e.keyCode){e.preventDefault;return t.$searchInput.val()!==t.searchTerm&&(t.$searchInput.trigger("typeahead:select"),t.$searchInput.typeahead("close")),!1}})},t.prototype.resetSearch=function(){this.$searchInput.typeahead("val",""),this.$searchInput.trigger("typeahead:select")},t.prototype.initHeaderActions=function(){var t=this,e=$("#header-actions"),i=e.find(".btn-filters"),r=$(".btn-filters-close"),n=e.find(".btn-search"),s=$("#sidebar"),o=$("#header-search"),a=!1,h=!1;i.on("click",function(t){t.preventDefault(),h&&o.trigger("close"),s.trigger("toggle")}),n.on("click",function(t){t.preventDefault(),a&&s.trigger("close"),o.trigger("toggle")}),r.on("click",function(t){t.preventDefault(),s.trigger("close")}),s.on("open",function(e){t.$body.addClass("filters-opened"),i.addClass("opened"),a=!0}),s.on("close",function(e){t.$body.removeClass("filters-opened"),i.removeClass("opened"),a=!1}),s.on("toggle",function(t){a?s.trigger("close"):s.trigger("open")}),o.on("open",function(e){t.$body.addClass("search-opened"),n.addClass("opened"),h=!0}),o.on("close",function(e){t.$body.removeClass("search-opened"),n.removeClass("opened"),h=!1}),o.on("toggle",function(t){h?o.trigger("close"):o.trigger("open")})},t}();i.default=new n},{"./fund_details":32}],34:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.getChartDataServiceUrl="/_layouts/15/IFS/GetChartData.ashx",i.getChartExportUrl="/_layouts/15/IFS/ExportVLCSV.ashx",i.getDocumentsServiceUrl="/_layouts/15/IFS/GetDocuments.ashx",i.getDetailsServiceUrl="/_layouts/15/IFS/GetDetails.ashx",i.getAvailableDisclaimerMarkets="/_layouts/15/IFS/GetAvailableDisclaimerMarkets.ashx",i.getDisclaimerText="/_layouts/15/IFS/GetDisclaimerText.ashx",i.validDisclaimer="/_layouts/15/IFS/ValidDisclaimer.ashx",i.downloadDocsServiceUrl="/_layouts/15/IFS/DownloadDocs.ashx",i.breakpoints={xs:"480px",sm:"768px",md:"992px",lg:"1200px"},window.fundsListSearchData=window.fundsListSearchData||[],window.jsTexts=window.jsTexts||{}},{}],35:[function(t,e,i){arguments[4][2][0].apply(i,arguments)},{dup:2}],36:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=t("./common"),n=t("./funds_list"),s=t("./fund_details"),o=t("./disclaimer"),a=t("./cookies");jQuery(document).ready(function(){r.default.init(),n.default.init(),s.default.init(),o.default.init(),a.default.init()})},{"./common":29,"./cookies":30,"./disclaimer":31,"./fund_details":32,"./funds_list":33}],37:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=t("file-saver"),n=function(){function t(){}return t.DateToyyyyMMdd=function(t){if(t){var e=t.getMonth()+1,i=t.getDate();return[t.getFullYear(),(e>9?"":"0")+e,(i>9?"":"0")+i].join("")}return""},t.DateToddMMyyyy=function(t){if(t){var e=t.getMonth()+1,i=t.getDate();return[(i>9?"":"0")+i+"/",(e>9?"":"0")+e+"/",t.getFullYear()].join("")}return""},t}();i.Utils=n,i.base64ToBlob=function(t,e,i){if(void 0===i&&(i=512),t){for(var r=atob(t),n=[],s="text/csv"===e?"iso-8859-1":"utf-8",o=0;o<r.length;o+=i){for(var a=r.slice(o,o+i),h=new Array(a.length),l=0;l<a.length;l++)h[l]=a.charCodeAt(l);var c=new Uint8Array(h);n.push(c)}return new Blob(n,{type:e+";charset="+s})}},i.fileDownload=function(t,e){var i=/iPad|iPhone|iPod/.test(navigator.userAgent),n=!!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/);if(i&&n){var s=new FileReader;s.onload=function(t){window.location.href=s.result},s.readAsDataURL(t)}else try{new Blob&&r.saveAs(t,e)}catch(t){console.log(t)}}},{"file-saver":38}],38:[function(t,e,i){var r=r||function(t){"use strict";if(!(void 0===t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=function(){return t.URL||t.webkitURL||t},i=t.document.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in i,n=/constructor/i.test(t.HTMLElement)||t.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent),o=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},a=function(t){setTimeout(function(){"string"==typeof t?e().revokeObjectURL(t):t.remove()},4e4)},h=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},l=function(l,c,d){d||(l=h(l));var u,p=this,f="application/octet-stream"===l.type,g=function(){!function(t,e,i){for(var r=(e=[].concat(e)).length;r--;){var n=t["on"+e[r]];if("function"==typeof n)try{n.call(t,i||t)}catch(t){o(t)}}}(p,"writestart progress write writeend".split(" "))};if(p.readyState=p.INIT,r)return u=e().createObjectURL(l),void setTimeout(function(){i.href=u,i.download=c,function(t){var e=new MouseEvent("click");t.dispatchEvent(e)}(i),g(),a(u),p.readyState=p.DONE});!function(){if((s||f&&n)&&t.FileReader){var i=new FileReader;return i.onloadend=function(){var e=s?i.result:i.result.replace(/^data:[^;]*;/,"data:attachment/file;");t.open(e,"_blank")||(t.location.href=e),e=void 0,p.readyState=p.DONE,g()},i.readAsDataURL(l),void(p.readyState=p.INIT)}u||(u=e().createObjectURL(l)),f?t.location.href=u:t.open(u,"_blank")||(t.location.href=u);p.readyState=p.DONE,g(),a(u)}()},c=l.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,i){return e=e||t.name||"download",i||(t=h(t)),navigator.msSaveOrOpenBlob(t,e)}:(c.abort=function(){},c.readyState=c.INIT=0,c.WRITING=1,c.DONE=2,c.error=c.onwritestart=c.onprogress=c.onwrite=c.onabort=c.onerror=c.onwriteend=null,function(t,e,i){return new l(t,e||t.name||"download",i)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);void 0!==e&&e.exports?e.exports.saveAs=r:"undefined"!=typeof define&&null!==define&&null!==define.amd&&define("FileSaver.js",function(){return r})},{}],39:[function(t,e,i){!function(t,i){"object"==typeof e&&e.exports?e.exports=t.document?i(t):i:t.Highcharts=i(t)}("undefined"!=typeof window?window:this,function(t){var e=function(){var e=void 0===t?window:t,i=e.document,r=e.navigator&&e.navigator.userAgent||"",n=i&&i.createElementNS&&!!i.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,s=/(edge|msie|trident)/i.test(r)&&!e.opera,o=/Firefox/.test(r),a=o&&4>parseInt(r.split("Firefox/")[1],10);return e.Highcharts?e.Highcharts.error(16,!0):{product:"Highstock",version:"6.0.3",deg2rad:2*Math.PI/360,doc:i,hasBidiBug:a,hasTouch:i&&void 0!==i.documentElement.ontouchstart,isMS:s,isWebKit:/AppleWebKit/.test(r),isFirefox:o,isTouchDevice:/(Mobile|Android|Windows Phone)/.test(r),SVG_NS:"http://www.w3.org/2000/svg",chartCount:0,seriesTypes:{},symbolSizes:{},svg:n,win:e,marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function(){},charts:[]}}();!function(t){t.timers=[];var e=t.charts,i=t.doc,r=t.win;t.error=function(e,i){if(e=t.isNumber(e)?"Highcharts error #"+e+": www.highcharts.com/errors/"+e:e,i)throw Error(e);r.console&&console.log(e)},t.Fx=function(t,e,i){this.options=e,this.elem=t,this.prop=i},t.Fx.prototype={dSetter:function(){var t,e=this.paths[0],i=this.paths[1],r=[],n=this.now,s=e.length;if(1===n)r=this.toD;else if(s===i.length&&1>n)for(;s--;)t=parseFloat(e[s]),r[s]=isNaN(t)?i[s]:n*parseFloat(i[s]-t)+t;else r=i;this.elem.attr("d",r,null,!0)},update:function(){var t=this.elem,e=this.prop,i=this.now,r=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&t.attr(e,i,null,!0):t.style[e]=i+this.unit,r&&r.call(t,i,this)},run:function(e,i,n){var s=this,o=s.options,a=function(t){return!a.stopped&&s.step(t)},h=r.requestAnimationFrame||function(t){setTimeout(t,13)},l=function(){t.timers=t.grep(t.timers,function(t){return t()}),t.timers.length&&h(l)};e===i?(delete o.curAnim[this.prop],o.complete&&0===t.keys(o.curAnim).length&&o.complete()):(this.startTime=+new Date,this.start=e,this.end=i,this.unit=n,this.now=this.start,this.pos=0,a.elem=this.elem,a.prop=this.prop,a()&&1===t.timers.push(a)&&h(l))},step:function(e){var i,r=+new Date,n=this.options,s=this.elem,o=n.complete,a=n.duration,h=n.curAnim;return s.attr&&!s.element?e=!1:e||r>=a+this.startTime?(this.now=this.end,this.pos=1,this.update(),i=h[this.prop]=!0,t.objectEach(h,function(t){!0!==t&&(i=!1)}),i&&o&&o.call(s),e=!1):(this.pos=n.easing((r-this.startTime)/a),this.now=this.start+(this.end-this.start)*this.pos,this.update(),e=!0),e},initPath:function(e,i,r){function n(t){var e,i;for(c=t.length;c--;)e="M"===t[c]||"L"===t[c],i=/[a-zA-Z]/.test(t[c+3]),e&&i&&t.splice(c+1,0,t[c+1],t[c+2],t[c+1],t[c+2])}function s(t,e){for(;t.length<h;){t[0]=e[h-t.length];var i=t.slice(0,f);[].splice.apply(t,[0,0].concat(i)),m&&(i=t.slice(t.length-f),[].splice.apply(t,[t.length,0].concat(i)),c--)}t[0]="M"}function o(t,e){for(var i=(h-t.length)/f;0<i&&i--;)l=t.slice().splice(t.length/v-f,f*v),l[0]=e[h-f-i*f],p&&(l[f-6]=l[f-2],l[f-5]=l[f-1]),[].splice.apply(t,[t.length/v,0].concat(l)),m&&i--}i=i||"";var a,h,l,c,d=e.startX,u=e.endX,p=-1<i.indexOf("C"),f=p?7:3;i=i.split(" "),r=r.slice();var g,m=e.isArea,v=m?2:1;if(p&&(n(i),n(r)),d&&u){for(c=0;c<d.length;c++){if(d[c]===u[0]){a=c;break}if(d[0]===u[u.length-d.length+c]){a=c,g=!0;break}}void 0===a&&(i=[])}return i.length&&t.isNumber(a)&&(h=r.length+a*v*f,g?(s(i,r),o(r,i)):(s(r,i),o(i,r))),[i,r]}},t.Fx.prototype.fillSetter=t.Fx.prototype.strokeSetter=function(){this.elem.attr(this.prop,t.color(this.start).tweenTo(t.color(this.end),this.pos),null,!0)},t.extend=function(t,e){var i;t||(t={});for(i in e)t[i]=e[i];return t},t.merge=function(){var e,i,r=arguments,n={},s=function(e,i){return"object"!=typeof e&&(e={}),t.objectEach(i,function(r,n){!t.isObject(r,!0)||t.isClass(r)||t.isDOMElement(r)?e[n]=i[n]:e[n]=s(e[n]||{},r)}),e};for(!0===r[0]&&(n=r[1],r=Array.prototype.slice.call(r,2)),i=r.length,e=0;e<i;e++)n=s(n,r[e]);return n},t.pInt=function(t,e){return parseInt(t,e||10)},t.isString=function(t){return"string"==typeof t},t.isArray=function(t){return"[object Array]"===(t=Object.prototype.toString.call(t))||"[object Array Iterator]"===t},t.isObject=function(e,i){return!(!e||"object"!=typeof e||i&&t.isArray(e))},t.isDOMElement=function(e){return t.isObject(e)&&"number"==typeof e.nodeType},t.isClass=function(e){var i=e&&e.constructor;return!(!t.isObject(e,!0)||t.isDOMElement(e)||!i||!i.name||"Object"===i.name)},t.isNumber=function(t){return"number"==typeof t&&!isNaN(t)},t.erase=function(t,e){for(var i=t.length;i--;)if(t[i]===e){t.splice(i,1);break}},t.defined=function(t){return void 0!==t&&null!==t},t.attr=function(e,i,r){var n;return t.isString(i)?t.defined(r)?e.setAttribute(i,r):e&&e.getAttribute&&(n=e.getAttribute(i)):t.defined(i)&&t.isObject(i)&&t.objectEach(i,function(t,i){e.setAttribute(i,t)}),n},t.splat=function(e){return t.isArray(e)?e:[e]},t.syncTimeout=function(t,e,i){if(e)return setTimeout(t,e,i);t.call(0,i)},t.pick=function(){var t,e,i=arguments,r=i.length;for(t=0;t<r;t++)if(void 0!==(e=i[t])&&null!==e)return e},t.css=function(e,i){t.isMS&&!t.svg&&i&&void 0!==i.opacity&&(i.filter="alpha(opacity="+100*i.opacity+")"),t.extend(e.style,i)},t.createElement=function(e,r,n,s,o){e=i.createElement(e);var a=t.css;return r&&t.extend(e,r),o&&a(e,{padding:0,border:"none",margin:0}),n&&a(e,n),s&&s.appendChild(e),e},t.extendClass=function(e,i){var r=function(){};return r.prototype=new e,t.extend(r.prototype,i),r},t.pad=function(t,e,i){return Array((e||2)+1-String(t).length).join(i||0)+t},t.relativeLength=function(t,e,i){return/%$/.test(t)?e*parseFloat(t)/100+(i||0):parseFloat(t)},t.wrap=function(t,e,i){var r=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments),e=arguments,n=this;return n.proceed=function(){r.apply(n,arguments.length?arguments:e)},t.unshift(r),t=i.apply(this,t),n.proceed=null,t}},t.getTZOffset=function(e){var i=t.Date;return 6e4*(i.hcGetTimezoneOffset&&i.hcGetTimezoneOffset(e)||i.hcTimezoneOffset||0)},t.dateFormat=function(e,i,r){if(!t.defined(i)||isNaN(i))return t.defaultOptions.lang.invalidDate||"";e=t.pick(e,"%Y-%m-%d %H:%M:%S");var n=new(f=t.Date)(i-t.getTZOffset(i)),s=n[f.hcGetHours](),o=n[f.hcGetDay](),a=n[f.hcGetDate](),h=n[f.hcGetMonth](),l=n[f.hcGetFullYear](),c=t.defaultOptions.lang,d=c.weekdays,u=c.shortWeekdays,p=t.pad,f=t.extend({a:u?u[o]:d[o].substr(0,3),A:d[o],d:p(a),e:p(a,2," "),w:o,b:c.shortMonths[h],B:c.months[h],m:p(h+1),y:l.toString().substr(2,2),Y:l,H:p(s),k:s,I:p(s%12||12),l:s%12||12,M:p(n[f.hcGetMinutes]()),p:12>s?"AM":"PM",P:12>s?"am":"pm",S:p(n.getSeconds()),L:p(Math.round(i%1e3),3)},t.dateFormats);return t.objectEach(f,function(t,r){for(;-1!==e.indexOf("%"+r);)e=e.replace("%"+r,"function"==typeof t?t(i):t)}),r?e.substr(0,1).toUpperCase()+e.substr(1):e},t.formatSingle=function(e,i){var r=/\.([0-9])/,n=t.defaultOptions.lang;return/f$/.test(e)?(r=(r=e.match(r))?r[1]:-1,null!==i&&(i=t.numberFormat(i,r,n.decimalPoint,-1<e.indexOf(",")?n.thousandsSep:""))):i=t.dateFormat(e,i),i},t.format=function(e,i){for(var r,n,s,o,a,h="{",l=!1,c=[];e&&-1!==(h=e.indexOf(h));){if(r=e.slice(0,h),l){for(o=(n=(r=r.split(":")).shift().split(".")).length,a=i,s=0;s<o;s++)a&&(a=a[n[s]]);r.length&&(a=t.formatSingle(r.join(":"),a)),c.push(a)}else c.push(r);e=e.slice(h+1),h=(l=!l)?"}":"{"}return c.push(e),c.join("")},t.getMagnitude=function(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))},t.normalizeTickInterval=function(e,i,r,n,s){var o,a=e;for(o=e/(r=t.pick(r,1)),i||(i=s?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===n&&(1===r?i=t.grep(i,function(t){return 0==t%1}):.1>=r&&(i=[1/r]))),n=0;n<i.length&&(a=i[n],!(s&&a*r>=e||!s&&o<=(i[n]+(i[n+1]||i[n]))/2));n++);return a=t.correctFloat(a*r,-Math.round(Math.log(.001)/Math.LN10))},t.stableSort=function(t,e){var i,r,n=t.length;for(r=0;r<n;r++)t[r].safeI=r;for(t.sort(function(t,r){return 0===(i=e(t,r))?t.safeI-r.safeI:i}),r=0;r<n;r++)delete t[r].safeI},t.arrayMin=function(t){for(var e=t.length,i=t[0];e--;)t[e]<i&&(i=t[e]);return i},t.arrayMax=function(t){for(var e=t.length,i=t[0];e--;)t[e]>i&&(i=t[e]);return i},t.destroyObjectProperties=function(e,i){t.objectEach(e,function(t,r){t&&t!==i&&t.destroy&&t.destroy(),delete e[r]})},t.discardElement=function(e){var i=t.garbageBin;i||(i=t.createElement("div")),e&&i.appendChild(e),i.innerHTML=""},t.correctFloat=function(t,e){return parseFloat(t.toPrecision(e||14))},t.setAnimation=function(e,i){i.renderer.globalAnimation=t.pick(e,i.options.chart.animation,!0)},t.animObject=function(e){return t.isObject(e)?t.merge(e):{duration:e?500:0}},t.timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},t.numberFormat=function(e,i,r,n){e=+e||0,i=+i;var s,o,a=t.defaultOptions.lang,h=(e.toString().split(".")[1]||"").split("e")[0].length,l=e.toString().split("e");return-1===i?i=Math.min(h,20):t.isNumber(i)||(i=2),o=(Math.abs(l[1]?l[0]:e)+Math.pow(10,-Math.max(i,h)-1)).toFixed(i),h=String(t.pInt(o)),s=3<h.length?h.length%3:0,r=t.pick(r,a.decimalPoint),n=t.pick(n,a.thousandsSep),e=(0>e?"-":"")+(s?h.substr(0,s)+n:""),e+=h.substr(s).replace(/(\d{3})(?=\d)/g,"$1"+n),i&&(e+=r+o.slice(-i)),l[1]&&(e+="e"+l[1]),e},Math.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)},t.getStyle=function(e,i,n){return"width"===i?Math.min(e.offsetWidth,e.scrollWidth)-t.getStyle(e,"padding-left")-t.getStyle(e,"padding-right"):"height"===i?Math.min(e.offsetHeight,e.scrollHeight)-t.getStyle(e,"padding-top")-t.getStyle(e,"padding-bottom"):(r.getComputedStyle||t.error(27,!0),(e=r.getComputedStyle(e,void 0))&&(e=e.getPropertyValue(i),t.pick(n,"opacity"!==i)&&(e=t.pInt(e))),e)},t.inArray=function(e,i){return(t.indexOfPolyfill||Array.prototype.indexOf).call(i,e)},t.grep=function(e,i){return(t.filterPolyfill||Array.prototype.filter).call(e,i)},t.find=Array.prototype.find?function(t,e){return t.find(e)}:function(t,e){var i,r=t.length;for(i=0;i<r;i++)if(e(t[i],i))return t[i]},t.map=function(t,e){for(var i=[],r=0,n=t.length;r<n;r++)i[r]=e.call(t[r],t[r],r,t);return i},t.keys=function(e){return(t.keysPolyfill||Object.keys).call(void 0,e)},t.reduce=function(e,i,r){return(t.reducePolyfill||Array.prototype.reduce).call(e,i,r)},t.offset=function(t){var e=i.documentElement;return t=t.parentElement?t.getBoundingClientRect():{top:0,left:0},{top:t.top+(r.pageYOffset||e.scrollTop)-(e.clientTop||0),left:t.left+(r.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},t.stop=function(e,i){for(var r=t.timers.length;r--;)t.timers[r].elem!==e||i&&i!==t.timers[r].prop||(t.timers[r].stopped=!0)},t.each=function(e,i,r){return(t.forEachPolyfill||Array.prototype.forEach).call(e,i,r)},t.objectEach=function(t,e,i){for(var r in t)t.hasOwnProperty(r)&&e.call(i,t[r],r,t)},t.addEvent=function(e,i,r){var n,s,o=e.addEventListener||t.addEventListenerPolyfill;return e.hcEvents&&!e.hasOwnProperty("hcEvents")&&(s={},t.objectEach(e.hcEvents,function(t,e){s[e]=t.slice(0)}),e.hcEvents=s),n=e.hcEvents=e.hcEvents||{},o&&o.call(e,i,r,!1),n[i]||(n[i]=[]),n[i].push(r),function(){t.removeEvent(e,i,r)}},t.removeEvent=function(e,i,r){function n(i,r){var n=e.removeEventListener||t.removeEventListenerPolyfill;n&&n.call(e,i,r,!1)}function s(){var r,s;e.nodeName&&(i?(r={},r[i]=!0):r=h,t.objectEach(r,function(t,e){if(h[e])for(s=h[e].length;s--;)n(e,h[e][s])}))}var o,a,h=e.hcEvents;h&&(i?(o=h[i]||[],r?(-1<(a=t.inArray(r,o))&&(o.splice(a,1),h[i]=o),n(i,r)):(s(),h[i]=[])):(s(),e.hcEvents={}))},t.fireEvent=function(e,r,n,s){var o;o=e.hcEvents;var a,h;if(n=n||{},i.createEvent&&(e.dispatchEvent||e.fireEvent))(o=i.createEvent("Events")).initEvent(r,!0,!0),t.extend(o,n),e.dispatchEvent?e.dispatchEvent(o):e.fireEvent(r,o);else if(o)for(o=o[r]||[],a=o.length,n.target||t.extend(n,{preventDefault:function(){n.defaultPrevented=!0},target:e,type:r}),r=0;r<a;r++)(h=o[r])&&!1===h.call(e,n)&&n.preventDefault();s&&!n.defaultPrevented&&s(n)},t.animate=function(e,i,r){var n,s,o,a,h="";t.isObject(r)||(a=arguments,r={duration:a[2],easing:a[3],complete:a[4]}),t.isNumber(r.duration)||(r.duration=400),r.easing="function"==typeof r.easing?r.easing:Math[r.easing]||Math.easeInOutSine,r.curAnim=t.merge(i),t.objectEach(i,function(a,l){t.stop(e,l),o=new t.Fx(e,r,l),s=null,"d"===l?(o.paths=o.initPath(e,e.d,i.d),o.toD=i.d,n=0,s=1):e.attr?n=e.attr(l):(n=parseFloat(t.getStyle(e,l))||0,"opacity"!==l&&(h="px")),s||(s=a),s&&s.match&&s.match("px")&&(s=s.replace(/px/g,"")),o.run(n,s,h)})},t.seriesType=function(e,i,r,n,s){var o=t.getOptions(),a=t.seriesTypes;return o.plotOptions[e]=t.merge(o.plotOptions[i],r),a[e]=t.extendClass(a[i]||function(){},n),a[e].prototype.type=e,s&&(a[e].prototype.pointClass=t.extendClass(t.Point,s)),a[e]},t.uniqueKey=function(){var t=Math.random().toString(36).substring(2,9),e=0;return function(){return"highcharts-"+t+"-"+e++}}(),r.jQuery&&(r.jQuery.fn.highcharts=function(){var i=[].slice.call(arguments);if(this[0])return i[0]?(new(t[t.isString(i[0])?i.shift():"Chart"])(this[0],i[0],i[1]),this):e[t.attr(this[0],"data-highcharts-chart")]})}(e),function(t){var e=t.each,i=t.isNumber,r=t.map,n=t.merge,s=t.pInt;t.Color=function(e){if(!(this instanceof t.Color))return new t.Color(e);this.init(e)},t.Color.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(t){return[s(t[1]),s(t[2]),s(t[3]),parseFloat(t[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(t){return[s(t[1]),s(t[2]),s(t[3]),1]}}],names:{none:"rgba(255,255,255,0)",white:"#ffffff",black:"#000000"},init:function(e){var i,n,s,o;if((this.input=e=this.names[e&&e.toLowerCase?e.toLowerCase():""]||e)&&e.stops)this.stops=r(e.stops,function(e){return new t.Color(e[1])});else if(e&&e.charAt&&"#"===e.charAt()&&(i=e.length,e=parseInt(e.substr(1),16),7===i?n=[(16711680&e)>>16,(65280&e)>>8,255&e,1]:4===i&&(n=[(3840&e)>>4|(3840&e)>>8,(240&e)>>4|240&e,(15&e)<<4|15&e,1])),!n)for(s=this.parsers.length;s--&&!n;)o=this.parsers[s],(i=o.regex.exec(e))&&(n=o.parse(i));this.rgba=n||[]},get:function(t){var r,s=this.input,o=this.rgba;return this.stops?(r=n(s),r.stops=[].concat(r.stops),e(this.stops,function(e,i){r.stops[i]=[r.stops[i][0],e.get(t)]})):r=o&&i(o[0])?"rgb"===t||!t&&1===o[3]?"rgb("+o[0]+","+o[1]+","+o[2]+")":"a"===t?o[3]:"rgba("+o.join(",")+")":s,r},brighten:function(t){var r,n=this.rgba;if(this.stops)e(this.stops,function(e){e.brighten(t)});else if(i(t)&&0!==t)for(r=0;3>r;r++)n[r]+=s(255*t),0>n[r]&&(n[r]=0),255<n[r]&&(n[r]=255);return this},setOpacity:function(t){return this.rgba[3]=t,this},tweenTo:function(t,e){var i=this.rgba,r=t.rgba;return r.length&&i&&i.length?(t=1!==r[3]||1!==i[3],e=(t?"rgba(":"rgb(")+Math.round(r[0]+(i[0]-r[0])*(1-e))+","+Math.round(r[1]+(i[1]-r[1])*(1-e))+","+Math.round(r[2]+(i[2]-r[2])*(1-e))+(t?","+(r[3]+(i[3]-r[3])*(1-e)):"")+")"):e=t.input||"none",e}},t.color=function(e){return new t.Color(e)}}(e),function(t){var e,i,r=t.addEvent,n=t.animate,s=t.attr,o=t.charts,a=t.color,h=t.css,l=t.createElement,c=t.defined,d=t.deg2rad,u=t.destroyObjectProperties,p=t.doc,f=t.each,g=t.extend,m=t.erase,v=t.grep,y=t.hasTouch,b=t.inArray,x=t.isArray,w=t.isFirefox,k=t.isMS,_=t.isObject,S=t.isString,M=t.isWebKit,A=t.merge,C=t.noop,T=t.objectEach,L=t.pick,P=t.pInt,E=t.removeEvent,O=t.stop,D=t.svg,I=t.SVG_NS,B=t.symbolSizes,z=t.win;e=t.SVGElement=function(){return this},g(e.prototype,{opacity:1,SVG_NS:I,textProps:"direction fontSize fontWeight fontFamily fontStyle color lineHeight width textAlign textDecoration textOverflow textOutline".split(" "),init:function(t,e){this.element="span"===e?l(e):p.createElementNS(this.SVG_NS,e),this.renderer=t},animate:function(e,i,r){return 0!==(i=t.animObject(L(i,this.renderer.globalAnimation,!0))).duration?(r&&(i.complete=r),n(this,e,i)):(this.attr(e,null,r),i.step&&i.step.call(this)),this},colorGradient:function(e,i,r){var n,s,o,a,h,l,d,u,p,g,m,v=this.renderer,y=[];e.radialGradient?s="radialGradient":e.linearGradient&&(s="linearGradient"),s&&(o=e[s],h=v.gradients,d=e.stops,g=r.radialReference,x(o)&&(e[s]=o={x1:o[0],y1:o[1],x2:o[2],y2:o[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===s&&g&&!c(o.gradientUnits)&&(a=o,o=A(o,v.getRadialAttr(g,a),{gradientUnits:"userSpaceOnUse"})),T(o,function(t,e){"id"!==e&&y.push(e,t)}),T(d,function(t){y.push(t)}),y=y.join(","),h[y]?g=h[y].attr("id"):(o.id=g=t.uniqueKey(),h[y]=l=v.createElement(s).attr(o).add(v.defs),l.radAttr=a,l.stops=[],f(d,function(e){0===e[1].indexOf("rgba")?(n=t.color(e[1]),u=n.get("rgb"),p=n.get("a")):(u=e[1],p=1),e=v.createElement("stop").attr({offset:e[0],"stop-color":u,"stop-opacity":p}).add(l),l.stops.push(e)})),m="url("+v.url+"#"+g+")",r.setAttribute(i,m),r.gradient=y,e.toString=function(){return m})},applyTextOutline:function(e){var i,r,n,o,a,h=this.element;if(-1!==e.indexOf("contrast")&&(e=e.replace(/contrast/g,this.renderer.getContrast(h.style.fill))),e=e.split(" "),r=e[e.length-1],(n=e[0])&&"none"!==n&&t.svg){for(this.fakeTS=!0,e=[].slice.call(h.getElementsByTagName("tspan")),this.ySetter=this.xSetter,n=n.replace(/(^[\d\.]+)(.*?)$/g,function(t,e,i){return 2*e+i}),a=e.length;a--;)"highcharts-text-outline"===(i=e[a]).getAttribute("class")&&m(e,h.removeChild(i));o=h.firstChild,f(e,function(t,e){0===e&&(t.setAttribute("x",h.getAttribute("x")),e=h.getAttribute("y"),t.setAttribute("y",e||0),null===e&&h.setAttribute("y",0)),t=t.cloneNode(1),s(t,{class:"highcharts-text-outline",fill:r,stroke:r,"stroke-width":n,"stroke-linejoin":"round"}),h.insertBefore(t,o)})}},attr:function(t,e,i,r){var n,s,o,a,h=this.element,l=this;return"string"==typeof t&&void 0!==e&&(n=t,t={},t[n]=e),"string"==typeof t?l=(this[t+"Getter"]||this._defaultGetter).call(this,t,h):(T(t,function(e,i){o=!1,r||O(this,i),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)$/.test(i)&&(s||(this.symbolAttr(t),s=!0),o=!0),!this.rotation||"x"!==i&&"y"!==i||(this.doTransform=!0),o||((a=this[i+"Setter"]||this._defaultSetter).call(this,e,i,h),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(i)&&this.updateShadows(i,e,a))},this),this.afterSetters()),i&&i(),l},afterSetters:function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},updateShadows:function(t,e,i){for(var r=this.shadows,n=r.length;n--;)i.call(r[n],"height"===t?Math.max(e-(r[n].cutHeight||0),0):"d"===t?this.d:e,t,r[n])},addClass:function(t,e){var i=this.attr("class")||"";return-1===i.indexOf(t)&&(e||(t=(i+(i?" ":"")+t).replace("  "," ")),this.attr("class",t)),this},hasClass:function(t){return-1!==b(t,(this.attr("class")||"").split(" "))},removeClass:function(t){return this.attr("class",(this.attr("class")||"").replace(t,""))},symbolAttr:function(t){var e=this;f("x y r start end width height innerR anchorX anchorY".split(" "),function(i){e[i]=L(t[i],e[i])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":"none")},crisp:function(t,e){var i,r=this,n={};return e=e||t.strokeWidth||0,i=Math.round(e)%2/2,t.x=Math.floor(t.x||r.x||0)+i,t.y=Math.floor(t.y||r.y||0)+i,t.width=Math.floor((t.width||r.width||0)-2*i),t.height=Math.floor((t.height||r.height||0)-2*i),c(t.strokeWidth)&&(t.strokeWidth=e),T(t,function(t,e){r[e]!==t&&(r[e]=n[e]=t)}),n},css:function(t){var e,i,r=this.styles,n={},o=this.element,a="",l=!r,c=["textOutline","textOverflow","width"];return t&&t.color&&(t.fill=t.color),r&&T(t,function(t,e){t!==r[e]&&(n[e]=t,l=!0)}),l&&(r&&(t=g(r,n)),e=this.textWidth=t&&t.width&&"auto"!==t.width&&"text"===o.nodeName.toLowerCase()&&P(t.width),this.styles=t,e&&!D&&this.renderer.forExport&&delete t.width,k&&!D?h(this.element,t):(i=function(t,e){return"-"+e.toLowerCase()},T(t,function(t,e){-1===b(e,c)&&(a+=e.replace(/([A-Z])/g,i)+":"+t+";")}),a&&s(o,"style",a)),this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),t&&t.textOutline&&this.applyTextOutline(t.textOutline))),this},strokeWidth:function(){return this["stroke-width"]||0},on:function(t,e){var i=this,r=i.element;return y&&"click"===t?(r.ontouchstart=function(t){i.touchEventFired=Date.now(),t.preventDefault(),e.call(r,t)},r.onclick=function(t){(-1===z.navigator.userAgent.indexOf("Android")||1100<Date.now()-(i.touchEventFired||0))&&e.call(r,t)}):r["on"+t]=e,this},setRadialReference:function(t){var e=this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(t){return this.inverted=t,this.updateTransform(),this},updateTransform:function(){var t=this.translateX||0,e=this.translateY||0,i=this.scaleX,r=this.scaleY,n=this.inverted,s=this.rotation,o=this.matrix,a=this.element;n&&(t+=this.width,e+=this.height),t=["translate("+t+","+e+")"],c(o)&&t.push("matrix("+o.join(",")+")"),n?t.push("rotate(90) scale(-1,1)"):s&&t.push("rotate("+s+" "+L(this.rotationOriginX,a.getAttribute("x"),0)+" "+L(this.rotationOriginY,a.getAttribute("y")||0)+")"),(c(i)||c(r))&&t.push("scale("+L(i,1)+" "+L(r,1)+")"),t.length&&a.setAttribute("transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,i){var r,n,s,o,a={};s=(n=this.renderer).alignedObjects;var h,l;return t?(this.alignOptions=t,this.alignByTranslate=e,(!i||S(i))&&(this.alignTo=r=i||"renderer",m(s,this),s.push(this),i=null)):(t=this.alignOptions,e=this.alignByTranslate,r=this.alignTo),i=L(i,n[r],n),r=t.align,n=t.verticalAlign,s=(i.x||0)+(t.x||0),o=(i.y||0)+(t.y||0),"right"===r?h=1:"center"===r&&(h=2),h&&(s+=(i.width-(t.width||0))/h),a[e?"translateX":"x"]=Math.round(s),"bottom"===n?l=1:"middle"===n&&(l=2),l&&(o+=(i.height-(t.height||0))/l),a[e?"translateY":"y"]=Math.round(o),this[this.placed?"animate":"attr"](a),this.placed=!0,this.alignAttr=a,this},getBBox:function(t,e){var i,r,n,s,o,a=this.renderer,h=this.element,l=this.styles,u=this.textStr,p=a.cache,m=a.cacheKeys;if(e=L(e,this.rotation),r=e*d,n=l&&l.fontSize,c(u)&&(-1===(o=u.toString()).indexOf("<")&&(o=o.replace(/[0-9]/g,"0")),o+=["",e||0,n,l&&l.width,l&&l.textOverflow].join()),o&&!t&&(i=p[o]),!i){if(h.namespaceURI===this.SVG_NS||a.forExport){try{(s=this.fakeTS&&function(t){f(h.querySelectorAll(".highcharts-text-outline"),function(e){e.style.display=t})})&&s("none"),i=h.getBBox?g({},h.getBBox()):{width:h.offsetWidth,height:h.offsetHeight},s&&s("")}catch(t){}(!i||0>i.width)&&(i={width:0,height:0})}else i=this.htmlGetBBox();if(a.isSVG&&(t=i.width,a=i.height,l&&"11px"===l.fontSize&&17===Math.round(a)&&(i.height=a=14),e&&(i.width=Math.abs(a*Math.sin(r))+Math.abs(t*Math.cos(r)),i.height=Math.abs(a*Math.cos(r))+Math.abs(t*Math.sin(r)))),o&&0<i.height){for(;250<m.length;)delete p[m.shift()];p[o]||m.push(o),p[o]=i}}return i},show:function(t){return this.attr({visibility:t?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.attr({y:-9999})}})},add:function(t){var e,i=this.renderer,r=this.element;return t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&i.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(e=this.zIndexSetter()),e||(t?t.element:i.box).appendChild(r),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t=this,e=t.element||{},i=t.renderer.isSVG&&"SPAN"===e.nodeName&&t.parentGroup,r=e.ownerSVGElement;if(e.onclick=e.onmouseout=e.onmouseover=e.onmousemove=e.point=null,O(t),t.clipPath&&r&&(f(r.querySelectorAll("[clip-path],[CLIP-PATH]"),function(e){e.getAttribute("clip-path").match(RegExp('[("]#'+t.clipPath.element.id+'[)"]'))&&e.removeAttribute("clip-path")}),t.clipPath=t.clipPath.destroy()),t.stops){for(r=0;r<t.stops.length;r++)t.stops[r]=t.stops[r].destroy();t.stops=null}for(t.safeRemoveChild(e),t.destroyShadows();i&&i.div&&0===i.div.childNodes.length;)e=i.parentGroup,t.safeRemoveChild(i.div),delete i.div,i=e;return t.alignTo&&m(t.renderer.alignedObjects,t),T(t,function(e,i){delete t[i]}),null},shadow:function(t,e,i){var r,n,o,a,h,l,c=[],d=this.element;if(t){if(!this.shadows){for(a=L(t.width,3),h=(t.opacity||.15)/a,l=this.parentInverted?"(-1,-1)":"("+L(t.offsetX,1)+", "+L(t.offsetY,1)+")",r=1;r<=a;r++)n=d.cloneNode(0),o=2*a+1-2*r,s(n,{isShadow:"true",stroke:t.color||"#000000","stroke-opacity":h*r,"stroke-width":o,transform:"translate"+l,fill:"none"}),i&&(s(n,"height",Math.max(s(n,"height")-o,0)),n.cutHeight=o),e?e.element.appendChild(n):d.parentNode&&d.parentNode.insertBefore(n,d),c.push(n);this.shadows=c}}else this.destroyShadows();return this},destroyShadows:function(){f(this.shadows||[],function(t){this.safeRemoveChild(t)},this),this.shadows=void 0},xGetter:function(t){return"circle"===this.element.nodeName&&("x"===t?t="cx":"y"===t&&(t="cy")),this._defaultGetter(t)},_defaultGetter:function(t){return t=L(this[t],this.element?this.element.getAttribute(t):null,0),/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t},dSetter:function(t,e,i){t&&t.join&&(t=t.join(" ")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),this[e]!==t&&(i.setAttribute(e,t),this[e]=t)},dashstyleSetter:function(t){var e,i=this["stroke-width"];if("inherit"===i&&(i=1),t=t&&t.toLowerCase()){for(e=(t=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",")).length;e--;)t[e]=P(t[e])*i;t=t.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}},alignSetter:function(t){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[t])},opacitySetter:function(t,e,i){this[e]=t,i.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=p.createElementNS(this.SVG_NS,"title"),this.element.appendChild(e)),e.firstChild&&e.removeChild(e.firstChild),e.appendChild(p.createTextNode(String(L(t),"").replace(/<[^>]*>/g,"")))},textSetter:function(t){t!==this.textStr&&(delete this.bBox,this.textStr=t,this.added&&this.renderer.buildText(this))},fillSetter:function(t,e,i){"string"==typeof t?i.setAttribute(e,t):t&&this.colorGradient(t,e,i)},visibilitySetter:function(t,e,i){"inherit"===t?i.removeAttribute(e):this[e]!==t&&i.setAttribute(e,t),this[e]=t},zIndexSetter:function(t,e){var i,r,n,s=this.renderer,o=this.parentGroup,a=(o||s).element||s.box,h=this.element;s=a===s.box;i=this.added;var l;if(c(t)&&(h.zIndex=t,t=+t,this[e]===t&&(i=!1),this[e]=t),i){for((t=this.zIndex)&&o&&(o.handleZ=!0),l=(e=a.childNodes).length-1;0<=l&&!r;l--)o=e[l],i=o.zIndex,n=!c(i),o!==h&&(0>t&&n&&!s&&!l?(a.insertBefore(h,e[l]),r=!0):(P(i)<=t||n&&(!c(t)||0<=t))&&(a.insertBefore(h,e[l+1]||null),r=!0));r||(a.insertBefore(h,e[s?3:0]||null),r=!0)}return r},_defaultSetter:function(t,e,i){i.setAttribute(e,t)}}),e.prototype.yGetter=e.prototype.xGetter,e.prototype.translateXSetter=e.prototype.translateYSetter=e.prototype.rotationSetter=e.prototype.verticalAlignSetter=e.prototype.rotationOriginXSetter=e.prototype.rotationOriginYSetter=e.prototype.scaleXSetter=e.prototype.scaleYSetter=e.prototype.matrixSetter=function(t,e){this[e]=t,this.doTransform=!0},e.prototype["stroke-widthSetter"]=e.prototype.strokeSetter=function(t,i,r){this[i]=t,this.stroke&&this["stroke-width"]?(e.prototype.fillSetter.call(this,this.stroke,"stroke",r),r.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===i&&0===t&&this.hasStroke&&(r.removeAttribute("stroke"),this.hasStroke=!1)},i=t.SVGRenderer=function(){this.init.apply(this,arguments)},g(i.prototype,{Element:e,SVG_NS:I,init:function(t,e,i,n,o,a){var l;l=(n=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}).css(this.getStyle(n))).element,t.appendChild(l),s(t,"dir","ltr"),-1===t.innerHTML.indexOf("xmlns")&&s(l,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=l,this.boxWrapper=n,this.alignedObjects=[],this.url=(w||M)&&p.getElementsByTagName("base").length?z.location.href.replace(/#.*?$/,"").replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(p.createTextNode("Created with Highstock 6.0.3")),this.defs=this.createElement("defs").add(),this.allowHTML=a,this.forExport=o,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(e,i,!1);var c;w&&t.getBoundingClientRect&&((e=function(){h(t,{left:0,top:0}),c=t.getBoundingClientRect(),h(t,{left:Math.ceil(c.left)-c.left+"px",top:Math.ceil(c.top)-c.top+"px"})})(),this.unSubPixelFix=r(z,"resize",e))},getStyle:function(t){return this.style=g({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t)},setStyle:function(t){this.boxWrapper.css(this.getStyle(t))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),u(this.gradients||{}),this.gradients=null,t&&(this.defs=t.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:C,getRadialAttr:function(t,e){return{cx:t[0]-t[2]/2+e.cx*t[2],cy:t[1]-t[2]/2+e.cy*t[2],r:e.r*t[2]}},getSpanWidth:function(t,e){var i=t.getBBox(!0).width;return!D&&this.forExport&&(i=this.measureSpanWidth(e.firstChild.data,t.styles)),i},applyEllipsis:function(t,e,i,r){var n,s,o=t.rotation,a=i,h=0,l=i.length,c=function(t){e.removeChild(e.firstChild),t&&e.appendChild(p.createTextNode(t))};if(t.rotation=0,a=this.getSpanWidth(t,e),s=a>r){for(;h<=l;)n=Math.ceil((h+l)/2),a=i.substring(0,n)+"…",c(a),a=this.getSpanWidth(t,e),h===l?h=l+1:a>r?l=n-1:h=n;0===l&&c("")}return t.rotation=o,s},escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot"},buildText:function(t){var e,i,r,n,o,a,l=t.element,c=this,d=c.forExport,u=L(t.textStr,"").toString(),g=-1!==u.indexOf("<"),m=l.childNodes,y=s(l,"x"),b=t.styles,x=t.textWidth,w=b&&b.lineHeight,k=b&&b.textOutline,_=b&&"ellipsis"===b.textOverflow,S=b&&"nowrap"===b.whiteSpace,M=b&&b.fontSize,A=m.length,C=(b=x&&!t.added&&this.box,function(t){var e;return e=/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:M||c.style.fontSize||12,w?P(w):c.fontMetrics(e,t.getAttribute("style")?t:l).h}),E=function(t){return T(c.escapes,function(e,i){t=t.replace(new RegExp(e,"g"),i)}),t};if((o=[u,_,S,w,k,M,x].join())!==t.textCache){for(t.textCache=o;A--;)l.removeChild(m[A]);g||k||_||x||-1!==u.indexOf(" ")?(e=/<.*class="([^"]+)".*>/,i=/<.*style="([^"]+)".*>/,r=/<.*href="([^"]+)".*>/,b&&b.appendChild(l),u=g?u.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[u],u=v(u,function(t){return""!==t}),f(u,function(o,u){var g,m=0;o=o.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),g=o.split("|||"),f(g,function(o){if(""!==o||1===g.length){var f,v,b={},w=p.createElementNS(c.SVG_NS,"tspan");if(e.test(o)&&(f=o.match(e)[1],s(w,"class",f)),i.test(o)&&(v=o.match(i)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),s(w,"style",v)),r.test(o)&&!d&&(s(w,"onclick",'location.href="'+o.match(r)[1]+'"'),s(w,"class","highcharts-anchor"),h(w,{cursor:"pointer"}))," "!==(o=E(o.replace(/<[a-zA-Z\/](.|\n)*?>/g,"")||" "))){if(w.appendChild(p.createTextNode(o)),m?b.dx=0:u&&null!==y&&(b.x=y),s(w,b),l.appendChild(w),!m&&a&&(!D&&d&&h(w,{display:"block"}),s(w,"dy",C(w))),x){b=o.replace(/([^\^])-/g,"$1- ").split(" "),f=1<g.length||u||1<b.length&&!S;var k,M=[],A=C(w),T=t.rotation;for(_&&(n=c.applyEllipsis(t,w,o,x));!_&&f&&(b.length||M.length);)t.rotation=0,k=c.getSpanWidth(t,w),o=k>x,void 0===n&&(n=o),o&&1!==b.length?(w.removeChild(w.firstChild),M.unshift(b.pop())):(b=M,M=[],b.length&&!S&&(w=p.createElementNS(I,"tspan"),s(w,{dy:A,x:y}),v&&s(w,"style",v),l.appendChild(w)),k>x&&(x=k)),b.length&&w.appendChild(p.createTextNode(b.join(" ").replace(/- /g,"-")));t.rotation=T}m++}}}),a=a||l.childNodes.length}),n&&t.attr("title",t.textStr),b&&b.removeChild(l),k&&t.applyTextOutline&&t.applyTextOutline(k)):l.appendChild(p.createTextNode(E(u)))}},getContrast:function(t){return 510<(t=a(t).rgba)[0]+t[1]+t[2]?"#000000":"#FFFFFF"},button:function(t,e,i,n,s,o,a,h,l){var c=this.label(t,e,i,l,null,null,null,null,"button"),d=0;c.attr(A({padding:8,r:2},s));var u,p,f,m;return s=A({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},s),u=s.style,delete s.style,o=A(s,{fill:"#e6e6e6"},o),p=o.style,delete o.style,a=A(s,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},a),f=a.style,delete a.style,h=A(s,{style:{color:"#cccccc"}},h),m=h.style,delete h.style,r(c.element,k?"mouseover":"mouseenter",function(){3!==d&&c.setState(1)}),r(c.element,k?"mouseout":"mouseleave",function(){3!==d&&c.setState(d)}),c.setState=function(t){1!==t&&(c.state=d=t),c.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][t||0]),c.attr([s,o,a,h][t||0]).css([u,p,f,m][t||0])},c.attr(s).css(g({cursor:"default"},u)),c.on("click",function(t){3!==d&&n.call(c,t)})},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=Math.round(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=Math.round(t[2])+e%2/2),t},path:function(t){var e={fill:"none"};return x(t)?e.d=t:_(t)&&g(e,t),this.createElement("path").attr(e)},circle:function(t,e,i){return t=_(t)?t:{x:t,y:e,r:i},e=this.createElement("circle"),e.xSetter=e.ySetter=function(t,e,i){i.setAttribute("c"+e,t)},e.attr(t)},arc:function(t,e,i,r,n,s){return _(t)?(r=t,e=r.y,i=r.r,t=r.x):r={innerR:r,start:n,end:s},t=this.symbol("arc",t,e,i,i,r),t.r=i,t},rect:function(t,e,i,r,n,o){n=_(t)?t.r:n;var a=this.createElement("rect");return t=_(t)?t:void 0===t?{}:{x:t,y:e,width:Math.max(i,0),height:Math.max(r,0)},void 0!==o&&(t.strokeWidth=o,t=a.crisp(t)),t.fill="none",n&&(t.r=n),a.rSetter=function(t,e,i){s(i,{rx:t,ry:t})},a.attr(t)},setSize:function(t,e,i){var r=this.alignedObjects,n=r.length;for(this.width=t,this.height=e,this.boxWrapper.animate({width:t,height:e},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:L(i,!0)?void 0:0});n--;)r[n].align()},g:function(t){var e=this.createElement("g");return t?e.attr({class:"highcharts-"+t}):e},image:function(t,e,i,r,n){var s={preserveAspectRatio:"none"};return 1<arguments.length&&g(s,{x:e,y:i,width:r,height:n}),(s=this.createElement("image").attr(s)).element.setAttributeNS?s.element.setAttributeNS("http://www.w3.org/1999/xlink","href",t):s.element.setAttribute("hc-svg-href",t),s},symbol:function(t,e,i,r,n,s){var a,d,u,m=this,v=/^url\((.*?)\)$/,y=v.test(t),b=!y&&(this.symbols[t]?t:"circle"),x=b&&this.symbols[b],w=c(e)&&x&&x.call(this.symbols,Math.round(e),Math.round(i),r,n,s);return x?((a=this.path(w)).attr("fill","none"),g(a,{symbolName:b,x:e,y:i,width:r,height:n}),s&&g(a,s)):y&&(d=t.match(v)[1],a=this.image(d),a.imgwidth=L(B[d]&&B[d].width,s&&s.width),a.imgheight=L(B[d]&&B[d].height,s&&s.height),u=function(){a.attr({width:a.width,height:a.height})},f(["width","height"],function(t){a[t+"Setter"]=function(t,e){var i={},r=this["img"+e],n="width"===e?"translateX":"translateY";this[e]=t,c(r)&&(this.element&&this.element.setAttribute(e,r),this.alignByTranslate||(i[n]=((this[e]||0)-r)/2,this.attr(i)))}}),c(e)&&a.attr({x:e,y:i}),a.isImg=!0,c(a.imgwidth)&&c(a.imgheight)?u():(a.attr({width:0,height:0}),l("img",{onload:function(){var t=o[m.chartIndex];0===this.width&&(h(this,{position:"absolute",top:"-999em"}),p.body.appendChild(this)),B[d]={width:this.width,height:this.height},a.imgwidth=this.width,a.imgheight=this.height,a.element&&u(),this.parentNode&&this.parentNode.removeChild(this),m.imgCount--,!m.imgCount&&t&&t.onload&&t.onload()},src:d}),this.imgCount++)),a},symbols:{circle:function(t,e,i,r){return this.arc(t+i/2,e+r/2,i/2,r/2,{start:0,end:2*Math.PI,open:!1})},square:function(t,e,i,r){return["M",t,e,"L",t+i,e,t+i,e+r,t,e+r,"Z"]},triangle:function(t,e,i,r){return["M",t+i/2,e,"L",t+i,e+r,t,e+r,"Z"]},"triangle-down":function(t,e,i,r){return["M",t,e,"L",t+i,e,t+i/2,e+r,"Z"]},diamond:function(t,e,i,r){return["M",t+i/2,e,"L",t+i,e+r/2,t+i/2,e+r,t,e+r/2,"Z"]},arc:function(t,e,i,r,n){var s=n.start,o=n.r||i,a=n.r||r||i,h=n.end-.001;i=n.innerR,r=L(n.open,.001>Math.abs(n.end-n.start-2*Math.PI));var l=Math.cos(s),d=Math.sin(s),u=Math.cos(h);h=Math.sin(h);return n=.001>n.end-s-Math.PI?0:1,o=["M",t+o*l,e+a*d,"A",o,a,0,n,1,t+o*u,e+a*h],c(i)&&o.push(r?"M":"L",t+i*u,e+i*h,"A",i,i,0,n,0,t+i*l,e+i*d),o.push(r?"":"Z"),o},callout:function(t,e,i,r,n){var s=Math.min(n&&n.r||0,i,r),o=s+6,a=n&&n.anchorX;n=n&&n.anchorY;var h;return h=["M",t+s,e,"L",t+i-s,e,"C",t+i,e,t+i,e,t+i,e+s,"L",t+i,e+r-s,"C",t+i,e+r,t+i,e+r,t+i-s,e+r,"L",t+s,e+r,"C",t,e+r,t,e+r,t,e+r-s,"L",t,e+s,"C",t,e,t,e,t+s,e],a&&a>i?n>e+o&&n<e+r-o?h.splice(13,3,"L",t+i,n-6,t+i+6,n,t+i,n+6,t+i,e+r-s):h.splice(13,3,"L",t+i,r/2,a,n,t+i,r/2,t+i,e+r-s):a&&0>a?n>e+o&&n<e+r-o?h.splice(33,3,"L",t,n+6,t-6,n,t,n-6,t,e+s):h.splice(33,3,"L",t,r/2,a,n,t,r/2,t,e+s):n&&n>r&&a>t+o&&a<t+i-o?h.splice(23,3,"L",a+6,e+r,a,e+r+6,a-6,e+r,t+s,e+r):n&&0>n&&a>t+o&&a<t+i-o&&h.splice(3,3,"L",a-6,e,a,e-6,a+6,e,i-s,e),h}},clipRect:function(e,i,r,n){var s=t.uniqueKey(),o=this.createElement("clipPath").attr({id:s}).add(this.defs);return e=this.rect(e,i,r,n,0).add(o),e.id=s,e.clipPath=o,e.count=0,e},text:function(t,e,i,r){var n={};return!r||!this.allowHTML&&this.forExport?(n.x=Math.round(e||0),i&&(n.y=Math.round(i)),(t||0===t)&&(n.text=t),t=this.createElement("text").attr(n),r||(t.xSetter=function(t,e,i){var r,n,s=i.getElementsByTagName("tspan"),o=i.getAttribute(e);for(n=0;n<s.length;n++)(r=s[n]).getAttribute(e)===o&&r.setAttribute(e,t);i.setAttribute(e,t)}),t):this.html(t,e,i)},fontMetrics:function(t,e){return t=t||e&&e.style&&e.style.fontSize||this.style&&this.style.fontSize,t=/px/.test(t)?P(t):/em/.test(t)?parseFloat(t)*(e?this.fontMetrics(null,e.parentNode).f:16):12,e=24>t?t+3:Math.round(1.2*t),{h:e,b:Math.round(.8*e),f:t}},rotCorr:function(t,e,i){var r=t;return e&&i&&(r=Math.max(r*Math.cos(e*d),4)),{x:-t/3*Math.sin(e*d),y:r}},label:function(i,r,n,s,o,a,h,l,d){var u,p,m,v,y,b,x,w,k,_,S,M,C,T=this,L=T.g("button"!==d&&"label"),P=L.text=T.text("",0,0,h).attr({zIndex:1}),O=0,D=3,I=0,B={},z=/^url\((.*?)\)$/.test(s),R=z;d&&L.addClass("highcharts-"+d),R=z,_=function(){return(w||0)%2/2},S=function(){var t=P.element.style,e={};p=(void 0===m||void 0===v||x)&&c(P.textStr)&&P.getBBox(),L.width=(m||p.width||0)+2*D+I,L.height=(v||p.height||0)+2*D,k=D+T.fontMetrics(t&&t.fontSize,P).b,R&&(u||(L.box=u=T.symbols[s]||z?T.symbol(s):T.rect(),u.addClass(("button"===d?"":"highcharts-label-box")+(d?" highcharts-"+d+"-box":"")),u.add(L),t=_(),e.x=t,e.y=(l?-k:0)+t),e.width=Math.round(L.width),e.height=Math.round(L.height),u.attr(g(e,B)),B={})},M=function(){var t,e=I+D;t=l?0:k,c(m)&&p&&("center"===x||"right"===x)&&(e+={center:.5,right:1}[x]*(m-p.width)),e===P.x&&t===P.y||(P.attr("x",e),void 0!==t&&P.attr("y",t)),P.x=e,P.y=t},C=function(t,e){u?u.attr(t,e):B[t]=e},L.onAdd=function(){P.add(L),L.attr({text:i||0===i?i:"",x:r,y:n}),u&&c(o)&&L.attr({anchorX:o,anchorY:a})},L.widthSetter=function(e){m=t.isNumber(e)?e:null},L.heightSetter=function(t){v=t},L["text-alignSetter"]=function(t){x=t},L.paddingSetter=function(t){c(t)&&t!==D&&(D=L.padding=t,M())},L.paddingLeftSetter=function(t){c(t)&&t!==I&&(I=t,M())},L.alignSetter=function(t){(t={left:0,center:.5,right:1}[t])!==O&&(O=t,p&&L.attr({x:y}))},L.textSetter=function(t){void 0!==t&&P.textSetter(t),S(),M()},L["stroke-widthSetter"]=function(t,e){t&&(R=!0),w=this["stroke-width"]=t,C(e,t)},L.strokeSetter=L.fillSetter=L.rSetter=function(t,e){"r"!==e&&("fill"===e&&t&&(R=!0),L[e]=t),C(e,t)},L.anchorXSetter=function(t,e){o=L.anchorX=t,C(e,Math.round(t)-_()-y)},L.anchorYSetter=function(t,e){a=L.anchorY=t,C(e,t-b)},L.xSetter=function(t){L.x=t,O&&(t-=O*((m||p.width)+2*D)),y=Math.round(t),L.attr("translateX",y)},L.ySetter=function(t){b=L.y=Math.round(t),L.attr("translateY",b)};var N=L.css;return g(L,{css:function(t){if(t){var e={};t=A(t),f(L.textProps,function(i){void 0!==t[i]&&(e[i]=t[i],delete t[i])}),P.css(e)}return N.call(L,t)},getBBox:function(){return{width:p.width+2*D,height:p.height+2*D,x:p.x-D,y:p.y-D}},shadow:function(t){return t&&(S(),u&&u.shadow(t)),L},destroy:function(){E(L.element,"mouseenter"),E(L.element,"mouseleave"),P&&(P=P.destroy()),u&&(u=u.destroy()),e.prototype.destroy.call(L),L=T=S=M=C=null}})}}),t.Renderer=i}(e),function(t){var e=t.attr,i=t.createElement,r=t.css,n=t.defined,s=t.each,o=t.extend,a=t.isFirefox,h=t.isMS,l=t.isWebKit,c=t.pick,d=t.pInt,u=t.SVGRenderer,p=t.win,f=t.wrap;o(t.SVGElement.prototype,{htmlCss:function(t){var e=this.element;return(e=t&&"SPAN"===e.tagName&&t.width)&&(delete t.width,this.textWidth=e,this.updateTransform()),t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),this.styles=o(this.styles,t),r(this.element,t),this},htmlGetBBox:function(){var t=this.element;return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var t=this.renderer,e=this.element,i=this.translateX||0,o=this.translateY||0,a=this.x||0,h=this.y||0,c=this.textAlign||"left",u={left:0,center:.5,right:1}[c],p=this.styles;if(r(e,{marginLeft:i,marginTop:o}),this.shadows&&s(this.shadows,function(t){r(t,{marginLeft:i+1,marginTop:o+1})}),this.inverted&&s(e.childNodes,function(i){t.invertChild(i,e)}),"SPAN"===e.tagName){var f=this.rotation,g=d(this.textWidth),m=p&&p.whiteSpace,v=[f,c,e.innerHTML,this.textWidth,this.textAlign].join();v!==this.cTT&&(p=t.fontMetrics(e.style.fontSize).b,n(f)&&this.setSpanRotation(f,u,p),r(e,{width:"",whiteSpace:m||"nowrap"}),e.offsetWidth>g&&/[ \-]/.test(e.textContent||e.innerText)&&r(e,{width:g+"px",display:"block",whiteSpace:m||"normal"}),this.getSpanCorrection(e.offsetWidth,p,u,f,c)),r(e,{left:a+(this.xCorr||0)+"px",top:h+(this.yCorr||0)+"px"}),l&&(p=e.offsetHeight),this.cTT=v}}else this.alignOnAdd=!0},setSpanRotation:function(t,e,i){var n={},s=this.renderer.getTransformKey();n[s]=n.transform="rotate("+t+"deg)",n[s+(a?"Origin":"-origin")]=n.transformOrigin=100*e+"% "+i+"px",r(this.element,n)},getSpanCorrection:function(t,e,i){this.xCorr=-t*i,this.yCorr=-e}}),o(u.prototype,{getTransformKey:function(){return h&&!/Edge/.test(p.navigator.userAgent)?"-ms-transform":l?"-webkit-transform":a?"MozTransform":p.opera?"-o-transform":""},html:function(t,r,n){var a=this.createElement("span"),l=a.element,d=a.renderer,u=d.isSVG,p=function(t,e){s(["opacity","visibility"],function(i){f(t,i+"Setter",function(t,i,r,n){t.call(this,i,r,n),e[r]=i})})};return a.textSetter=function(t){t!==l.innerHTML&&delete this.bBox,this.textStr=t,l.innerHTML=c(t,""),a.htmlUpdateTransform()},u&&p(a,a.element.style),a.xSetter=a.ySetter=a.alignSetter=a.rotationSetter=function(t,e){"align"===e&&(e="textAlign"),a[e]=t,a.htmlUpdateTransform()},a.attr({text:t,x:Math.round(r),y:Math.round(n)}).css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize,position:"absolute"}),l.style.whiteSpace="nowrap",a.css=a.htmlCss,u&&(a.add=function(t){var r,n=d.box.parentNode,c=[];if(this.parentGroup=t){if(!(r=t.div)){for(;t;)c.push(t),t=t.parentGroup;s(c.reverse(),function(t){function s(e,i){t[i]=e,h?l[d.getTransformKey()]="translate("+(t.x||t.translateX)+"px,"+(t.y||t.translateY)+"px)":"translateX"===i?l.left=e+"px":l.top=e+"px",t.doTransform=!0}var l,u=e(t.element,"class");u&&(u={className:u}),r=t.div=t.div||i("div",u,{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px",display:t.display,opacity:t.opacity,pointerEvents:t.styles&&t.styles.pointerEvents},r||n),l=r.style,o(t,{classSetter:function(t){this.element.setAttribute("class",t),r.className=t},on:function(){return c[0].div&&a.on.apply({element:c[0].div},arguments),t},translateXSetter:s,translateYSetter:s}),p(t,l)})}}else r=n;return r.appendChild(l),a.added=!0,a.alignOnAdd&&a.htmlUpdateTransform(),a}),a}})}(e),function(t){function e(){var e,i=t.defaultOptions.global,n=i.useUTC,a=n?"getUTC":"get",h=n?"setUTC":"set",l="Minutes Hours Day Date Month FullYear".split(" "),c=l.concat(["Milliseconds","Seconds"]);for(t.Date=e=i.Date||o.Date,e.hcTimezoneOffset=n&&i.timezoneOffset,e.hcGetTimezoneOffset=function(){var e=t.defaultOptions.global,i=o.moment;if(e.timezone){if(i)return function(t){return-i.tz(t,e.timezone).utcOffset()};t.error(25)}return e.useUTC&&e.getTimezoneOffset}(),e.hcMakeTime=function(t,i,o,a,h,l){var c;return n?(c=e.UTC.apply(0,arguments),c+=r(c)):c=new e(t,i,s(o,1),s(a,0),s(h,0),s(l,0)).getTime(),c},i=0;i<l.length;i++)e["hcGet"+l[i]]=a+l[i];for(i=0;i<c.length;i++)e["hcSet"+c[i]]=h+c[i]}var i=t.color,r=t.getTZOffset,n=t.merge,s=t.pick,o=t.win;t.defaultOptions={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0},chart:{borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:t.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:t.isTouchDevice?25:10,backgroundColor:i("#f7f7f7").setOpacity(.85).get(),borderWidth:1,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,style:{color:"#333333",cursor:"default",fontSize:"12px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}},t.setOptions=function(i){return t.defaultOptions=n(!0,t.defaultOptions,i),e(),t.defaultOptions},t.getOptions=function(){return t.defaultOptions},t.defaultPlotOptions=t.defaultOptions.plotOptions,e()}(e),function(t){var e=t.correctFloat,i=t.defined,r=t.destroyObjectProperties,n=t.isNumber,s=t.merge,o=t.pick,a=t.deg2rad;t.Tick=function(t,e,i,r){this.axis=t,this.pos=e,this.type=i||"",this.isNewLabel=this.isNew=!0,i||r||this.addLabel()},t.Tick.prototype={addLabel:function(){var t,r=this.axis,n=r.options,a=r.chart,h=r.categories,l=r.names,c=this.pos,d=n.labels,u=c===(f=r.tickPositions)[0],p=c===f[f.length-1],f=(l=h?o(h[c],l[c],c):c,h=this.label,f.info);r.isDatetimeAxis&&f&&(t=n.dateTimeLabelFormats[f.higherRanks[c]||f.unitName]),this.isFirst=u,this.isLast=p,n=r.labelFormatter.call({axis:r,chart:a,isFirst:u,isLast:p,dateTimeLabelFormat:t,value:r.isLog?e(r.lin2log(l)):l,pos:c}),i(h)?h&&h.attr({text:n}):(this.labelLength=(this.label=h=i(n)&&d.enabled?a.renderer.text(n,0,0,d.useHTML).css(s(d.style)).add(r.labelGroup):null)&&h.getBBox().width,this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(t){var e,i=this.axis,r=t.x,n=i.chart.chartWidth,s=i.chart.spacing,h=o(i.labelLeft,Math.min(i.pos,s[3])),l=(s=o(i.labelRight,Math.max(i.pos+i.len,n-s[1])),this.label),c=this.rotation,d={left:0,center:.5,right:1}[i.labelAlign],u=l.getBBox().width,p=i.getSlotWidth(),f=p,g=1,m={};c?0>c&&r-d*u<h?e=Math.round(r/Math.cos(c*a)-h):0<c&&r+d*u>s&&(e=Math.round((n-r)/Math.cos(c*a))):(n=r+(1-d)*u,r-d*u<h?f=t.x+f*(1-d)-h:n>s&&(f=s-t.x+f*d,g=-1),(f=Math.min(p,f))<p&&"center"===i.labelAlign&&(t.x+=g*(p-f-d*(p-Math.min(u,f)))),(u>f||i.autoRotation&&(l.styles||{}).width)&&(e=f)),e&&(m.width=e,(i.options.labels.style||{}).textOverflow||(m.textOverflow="ellipsis"),l.css(m))},getPosition:function(t,e,i,r){var n=this.axis,s=n.chart,o=r&&s.oldChartHeight||s.chartHeight;return{x:t?n.translate(e+i,null,null,r)+n.transB:n.left+n.offset+(n.opposite?(r&&s.oldChartWidth||s.chartWidth)-n.right-n.left:0),y:t?o-n.bottom+n.offset-(n.opposite?n.height:0):o-n.translate(e+i,null,null,r)-n.transB}},getLabelPosition:function(t,e,r,n,s,o,h,l){var c=this.axis,d=c.transA,u=c.reversed,p=c.staggerLines,f=c.tickRotCorr||{x:0,y:0},g=s.y;return i(g)||(g=0===c.side?r.rotation?-8:-r.getBBox().height:2===c.side?f.y+8:Math.cos(r.rotation*a)*(f.y-r.getBBox(!1,0).height/2)),t=t+s.x+f.x-(o&&n?o*d*(u?-1:1):0),e=e+g-(o&&!n?o*d*(u?1:-1):0),p&&(r=h/(l||1)%p,c.opposite&&(r=p-r-1),e+=c.labelOffset/p*r),{x:t,y:Math.round(e)}},getMarkPath:function(t,e,i,r,n,s){return s.crispLine(["M",t,e,"L",t+(n?0:-i),e+(n?i:0)],r)},renderGridLine:function(t,e,i){var r=this.axis,n=r.options,s=this.gridLine,o={},a=this.pos,h=this.type,l=r.tickmarkOffset,c=r.chart.renderer,d=h?h+"Grid":"grid",u=n[d+"LineWidth"],p=n[d+"LineColor"];n=n[d+"LineDashStyle"];s||(o.stroke=p,o["stroke-width"]=u,n&&(o.dashstyle=n),h||(o.zIndex=1),t&&(o.opacity=0),this.gridLine=s=c.path().attr(o).addClass("highcharts-"+(h?h+"-":"")+"grid-line").add(r.gridGroup)),!t&&s&&(t=r.getPlotLinePath(a+l,s.strokeWidth()*i,t,!0))&&s[this.isNew?"attr":"animate"]({d:t,opacity:e})},renderMark:function(t,e,i){var r=this.axis,n=r.options,s=r.chart.renderer,a=this.type,h=a?a+"Tick":"tick",l=r.tickSize(h),c=this.mark,d=!c,u=t.x;t=t.y;var p=o(n[h+"Width"],!a&&r.isXAxis?1:0);n=n[h+"Color"];l&&(r.opposite&&(l[0]=-l[0]),d&&(this.mark=c=s.path().addClass("highcharts-"+(a?a+"-":"")+"tick").add(r.axisGroup),c.attr({stroke:n,"stroke-width":p})),c[d?"attr":"animate"]({d:this.getMarkPath(u,t,l[0],c.strokeWidth()*i,r.horiz,s),opacity:e}))},renderLabel:function(t,e,i,r){var s=this.axis,a=s.horiz,h=s.options,l=this.label,c=h.labels,d=c.step,u=s.tickmarkOffset,p=!0,f=t.x;t=t.y,l&&n(f)&&(l.xy=t=this.getLabelPosition(f,t,l,a,c,u,r,d),this.isFirst&&!this.isLast&&!o(h.showFirstLabel,1)||this.isLast&&!this.isFirst&&!o(h.showLastLabel,1)?p=!1:!a||s.isRadial||c.step||c.rotation||e||0===i||this.handleOverflow(t),d&&r%d&&(p=!1),p&&n(t.y)?(t.opacity=i,l[this.isNewLabel?"attr":"animate"](t),this.isNewLabel=!1):(l.attr("y",-9999),this.isNewLabel=!0))},render:function(t,e,i){var r=(h=this.axis).horiz,n=this.getPosition(r,this.pos,h.tickmarkOffset,e),s=n.x,a=n.y,h=r&&s===h.pos+h.len||!r&&a===h.pos?-1:1;i=o(i,1),this.isActive=!0,this.renderGridLine(e,i,h),this.renderMark(n,i,h),this.renderLabel(n,e,i,t),this.isNew=!1},destroy:function(){r(this,this.axis)}}}(e);var i=function(t){var e=t.addEvent,i=t.animObject,r=t.arrayMax,n=t.arrayMin,s=t.color,o=t.correctFloat,a=t.defaultOptions,h=t.defined,l=t.deg2rad,c=t.destroyObjectProperties,d=t.each,u=t.extend,p=t.fireEvent,f=t.format,g=t.getMagnitude,m=t.grep,v=t.inArray,y=t.isArray,b=t.isNumber,x=t.isString,w=t.merge,k=t.normalizeTickInterval,_=t.objectEach,S=t.pick,M=t.removeEvent,A=t.splat,C=t.syncTimeout,T=t.Tick,L=function(){this.init.apply(this,arguments)};return t.extend(L.prototype,{defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,labels:{enabled:!0,style:{color:"#666666",cursor:"default",fontSize:"11px"},x:0},maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",minPadding:.01,startOfWeek:1,startOnTick:!1,tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#666666"}},type:"linear",minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",tickColor:"#ccd6eb"},defaultYAxisOptions:{endOnTick:!0,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{allowOverlap:!1,enabled:!1,formatter:function(){return t.numberFormat(this.total,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"#000000",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(t,i){var r=i.isX,n=this;n.chart=t,n.horiz=t.inverted&&!n.isZAxis?!r:r,n.isXAxis=r,n.coll=n.coll||(r?"xAxis":"yAxis"),n.opposite=i.opposite,n.side=i.side||(n.horiz?n.opposite?0:2:n.opposite?1:3),n.setOptions(i);var s=this.options,o=s.type;n.labelFormatter=s.labels.formatter||n.defaultLabelFormatter,n.userOptions=i,n.minPixelPadding=0,n.reversed=s.reversed,n.visible=!1!==s.visible,n.zoomEnabled=!1!==s.zoomEnabled,n.hasNames="category"===o||!0===s.categories,n.categories=s.categories||n.hasNames,n.names=n.names||[],n.plotLinesAndBandsGroups={},n.isLog="logarithmic"===o,n.isDatetimeAxis="datetime"===o,n.positiveValuesOnly=n.isLog&&!n.allowNegativeLog,n.isLinked=h(s.linkedTo),n.ticks={},n.labelEdge=[],n.minorTicks={},n.plotLinesAndBands=[],n.alternateBands={},n.len=0,n.minRange=n.userMinRange=s.minRange||s.maxZoom,n.range=s.range,n.offset=s.offset||0,n.stacks={},n.oldStacks={},n.stacksTouched=0,n.max=null,n.min=null,n.crosshair=S(s.crosshair,A(t.options.tooltip.crosshairs)[r?0:1],!1),i=n.options.events,-1===v(n,t.axes)&&(r?t.axes.splice(t.xAxis.length,0,n):t.axes.push(n),t[n.coll].push(n)),n.series=n.series||[],t.inverted&&!n.isZAxis&&r&&void 0===n.reversed&&(n.reversed=!0),_(i,function(t,i){e(n,i,t)}),n.lin2log=s.linearToLogConverter||n.lin2log,n.isLog&&(n.val2lin=n.log2lin,n.lin2val=n.lin2log)},setOptions:function(t){this.options=w(this.defaultOptions,"yAxis"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],w(a[this.coll],t))},defaultLabelFormatter:function(){var e,i=this.axis,r=this.value,n=i.categories,s=this.dateTimeLabelFormat,o=(h=a.lang).numericSymbols,h=h.numericSymbolMagnitude||1e3,l=o&&o.length,c=i.options.labels.format;i=i.isLog?Math.abs(r):i.tickInterval;if(c)e=f(c,this);else if(n)e=r;else if(s)e=t.dateFormat(s,r);else if(l&&1e3<=i)for(;l--&&void 0===e;)n=Math.pow(h,l+1),i>=n&&0==10*r%n&&null!==o[l]&&0!==r&&(e=t.numberFormat(r/n,-1)+o[l]);return void 0===e&&(e=1e4<=Math.abs(r)?t.numberFormat(r,-1):t.numberFormat(r,-1,void 0,"")),e},getSeriesExtremes:function(){var t=this,e=t.chart;t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.threshold=null,t.softThreshold=!t.isXAxis,t.buildStacks&&t.buildStacks(),d(t.series,function(i){if(i.visible||!e.options.chart.ignoreHiddenSeries){var s,o=i.options,a=o.threshold;t.hasVisibleSeries=!0,t.positiveValuesOnly&&0>=a&&(a=null),t.isXAxis?(o=i.xData).length&&(i=n(o),s=r(o),b(i)||i instanceof Date||(o=m(o,b),i=n(o)),t.dataMin=Math.min(S(t.dataMin,o[0],i),i),t.dataMax=Math.max(S(t.dataMax,o[0],s),s)):(i.getExtremes(),s=i.dataMax,i=i.dataMin,h(i)&&h(s)&&(t.dataMin=Math.min(S(t.dataMin,i),i),t.dataMax=Math.max(S(t.dataMax,s),s)),h(a)&&(t.threshold=a),(!o.softThreshold||t.positiveValuesOnly)&&(t.softThreshold=!1))}})},translate:function(t,e,i,r,n,s){var o=this.linkedParent||this,a=1,h=0,l=r?o.oldTransA:o.transA;r=r?o.oldMin:o.min;var c=o.minPixelPadding;return n=(o.isOrdinal||o.isBroken||o.isLog&&n)&&o.lin2val,l||(l=o.transA),i&&(a*=-1,h=o.len),o.reversed&&(a*=-1,h-=a*(o.sector||o.len)),e?(t=(t*a+h-c)/l+r,n&&(t=o.lin2val(t))):(n&&(t=o.val2lin(t)),t=b(r)?a*(t-r)*l+h+a*c+(b(s)?l*s:0):void 0),t},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,i,r,n){var s,o,a,h=this.chart,l=this.left,c=this.top,d=i&&h.oldChartHeight||h.chartHeight,u=i&&h.oldChartWidth||h.chartWidth;s=this.transB;var p=function(t,e,i){return(t<e||t>i)&&(r?t=Math.min(Math.max(e,t),i):a=!0),t};return n=S(n,this.translate(t,null,null,i)),t=i=Math.round(n+s),s=o=Math.round(d-n-s),b(n)?this.horiz?(s=c,o=d-this.bottom,t=i=p(t,l,l+this.width)):(t=l,i=u-this.right,s=o=p(s,c,c+this.height)):(a=!0,r=!1),a&&!r?null:h.renderer.crispLine(["M",t,s,"L",i,o],e||1)},getLinearTickPositions:function(t,e,i){var r,n=o(Math.floor(e/t)*t);i=o(Math.ceil(i/t)*t);var s,a=[];if(o(n+t)===n&&(s=20),this.single)return[e];for(e=n;e<=i&&(a.push(e),(e=o(e+t,s))!==r);)r=e;return a},getMinorTickInterval:function(){var t=this.options;return!0===t.minorTicks?S(t.minorTickInterval,"auto"):!1===t.minorTicks?null:t.minorTickInterval},getMinorTickPositions:function(){var t=this,e=t.options,i=t.tickPositions,r=t.minorTickInterval,n=[],s=t.pointRangePadding||0,o=t.min-s,a=(s=t.max+s)-o;if(a&&a/r<t.len/3)if(t.isLog)d(this.paddedTicks,function(e,i,s){i&&n.push.apply(n,t.getLogTickPositions(r,s[i-1],s[i],!0))});else if(t.isDatetimeAxis&&"auto"===this.getMinorTickInterval())n=n.concat(t.getTimeTicks(t.normalizeTimeTickInterval(r),o,s,e.startOfWeek));else for(e=o+(i[0]-o)%r;e<=s&&e!==n[0];e+=r)n.push(e);return 0!==n.length&&t.trimTicks(n),n},adjustForMinRange:function(){var t,e,i,s,o,a,l,c=this.options,u=this.min,p=this.max;this.isXAxis&&void 0===this.minRange&&!this.isLog&&(h(c.min)||h(c.max)?this.minRange=null:(d(this.series,function(t){for(a=t.xData,s=t.xIncrement?1:a.length-1;0<s;s--)o=a[s]-a[s-1],(void 0===i||o<i)&&(i=o)}),this.minRange=Math.min(5*i,this.dataMax-this.dataMin))),p-u<this.minRange&&(e=this.dataMax-this.dataMin>=this.minRange,l=this.minRange,t=(l-p+u)/2,t=[u-t,S(c.min,u-t)],e&&(t[2]=this.isLog?this.log2lin(this.dataMin):this.dataMin),u=r(t),p=[u+l,S(c.max,u+l)],e&&(p[2]=this.isLog?this.log2lin(this.dataMax):this.dataMax),(p=n(p))-u<l&&(t[0]=p-l,t[1]=S(c.min,p-l),u=r(t))),this.min=u,this.max=p},getClosest:function(){var t;return this.categories?t=1:d(this.series,function(e){var i=e.closestPointRange,r=e.visible||!e.chart.options.chart.ignoreHiddenSeries;!e.noSharedTooltip&&h(i)&&r&&(t=h(t)?Math.min(t,i):i)}),t},nameToX:function(t){var e,i=y(this.categories),r=i?this.categories:this.names,n=t.options.x;return t.series.requireSorting=!1,h(n)||(n=!1===this.options.uniqueNames?t.series.autoIncrement():v(t.name,r)),-1===n?i||(e=r.length):e=n,void 0!==e&&(this.names[e]=t.name),e},updateNames:function(){var t=this;0<this.names.length&&(this.names.length=0,this.minRange=this.userMinRange,d(this.series||[],function(e){e.xIncrement=null,e.points&&!e.isDirtyData||(e.processData(),e.generatePoints()),d(e.points,function(i,r){var n;i.options&&void 0!==(n=t.nameToX(i))&&n!==i.x&&(i.x=n,e.xData[r]=n)})}))},setAxisTranslation:function(t){var e,i=this,r=i.max-i.min,n=i.axisPointRange||0,s=0,o=0,a=i.linkedParent,h=!!i.categories,l=i.transA,c=i.isXAxis;(c||h||n)&&(e=i.getClosest(),a?(s=a.minPointOffset,o=a.pointRangePadding):d(i.series,function(t){var r=h?1:c?S(t.options.pointRange,e,0):i.axisPointRange||0;t=t.options.pointPlacement,n=Math.max(n,r),i.single||(s=Math.max(s,x(t)?0:r/2),o=Math.max(o,"on"===t?0:r))}),a=i.ordinalSlope&&e?i.ordinalSlope/e:1,i.minPointOffset=s*=a,i.pointRangePadding=o*=a,i.pointRange=Math.min(n,r),c&&(i.closestPointRange=e)),t&&(i.oldTransA=l),i.translationSlope=i.transA=l=i.options.staticScale||i.len/(r+o||1),i.transB=i.horiz?i.left:i.bottom,i.minPixelPadding=l*s},minFromRange:function(){return this.max-this.range},setTickInterval:function(e){var i,r,n,s,a=this,l=a.chart,c=a.options,u=a.isLog,f=a.log2lin,m=a.isDatetimeAxis,v=a.isXAxis,y=a.isLinked,x=c.maxPadding,w=c.minPadding,_=c.tickInterval,M=c.tickPixelInterval,A=a.categories,C=a.threshold,T=a.softThreshold;m||A||y||this.getTickAmount(),n=S(a.userMin,c.min),s=S(a.userMax,c.max),y?(a.linkedParent=l[a.coll][c.linkedTo],l=a.linkedParent.getExtremes(),a.min=S(l.min,l.dataMin),a.max=S(l.max,l.dataMax),c.type!==a.linkedParent.options.type&&t.error(11,1)):(!T&&h(C)&&(a.dataMin>=C?(i=C,w=0):a.dataMax<=C&&(r=C,x=0)),a.min=S(n,i,a.dataMin),a.max=S(s,r,a.dataMax)),u&&(a.positiveValuesOnly&&!e&&0>=Math.min(a.min,S(a.dataMin,a.min))&&t.error(10,1),a.min=o(f(a.min),15),a.max=o(f(a.max),15)),a.range&&h(a.max)&&(a.userMin=a.min=n=Math.max(a.dataMin,a.minFromRange()),a.userMax=s=a.max,a.range=null),p(a,"foundExtremes"),a.beforePadding&&a.beforePadding(),a.adjustForMinRange(),!(A||a.axisPointRange||a.usePercentage||y)&&h(a.min)&&h(a.max)&&(f=a.max-a.min)&&(!h(n)&&w&&(a.min-=f*w),!h(s)&&x&&(a.max+=f*x)),b(c.softMin)&&(a.min=Math.min(a.min,c.softMin)),b(c.softMax)&&(a.max=Math.max(a.max,c.softMax)),b(c.floor)&&(a.min=Math.max(a.min,c.floor)),b(c.ceiling)&&(a.max=Math.min(a.max,c.ceiling)),T&&h(a.dataMin)&&(C=C||0,!h(n)&&a.min<C&&a.dataMin>=C?a.min=C:!h(s)&&a.max>C&&a.dataMax<=C&&(a.max=C)),a.tickInterval=a.min===a.max||void 0===a.min||void 0===a.max?1:y&&!_&&M===a.linkedParent.options.tickPixelInterval?_=a.linkedParent.tickInterval:S(_,this.tickAmount?(a.max-a.min)/Math.max(this.tickAmount-1,1):void 0,A?1:(a.max-a.min)*M/Math.max(a.len,M)),v&&!e&&d(a.series,function(t){t.processData(a.min!==a.oldMin||a.max!==a.oldMax)}),a.setAxisTranslation(!0),a.beforeSetTickPositions&&a.beforeSetTickPositions(),a.postProcessTickInterval&&(a.tickInterval=a.postProcessTickInterval(a.tickInterval)),a.pointRange&&!_&&(a.tickInterval=Math.max(a.pointRange,a.tickInterval)),e=S(c.minTickInterval,a.isDatetimeAxis&&a.closestPointRange),!_&&a.tickInterval<e&&(a.tickInterval=e),m||u||_||(a.tickInterval=k(a.tickInterval,null,g(a.tickInterval),S(c.allowDecimals,!(.5<a.tickInterval&&5>a.tickInterval&&1e3<a.max&&9999>a.max)),!!this.tickAmount)),this.tickAmount||(a.tickInterval=a.unsquish()),this.setTickPositions()},setTickPositions:function(){var t,e=this.options,i=e.tickPositions;t=this.getMinorTickInterval();var r=e.tickPositioner,n=e.startOnTick,s=e.endOnTick;this.tickmarkOffset=this.categories&&"between"===e.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===t&&this.tickInterval?this.tickInterval/5:t,this.single=this.min===this.max&&h(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==e.allowDecimals),this.tickPositions=t=i&&i.slice(),!t&&((t=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,e.units),this.min,this.max,e.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max)).length>this.len&&(t=[t[0],t.pop()])[0]===t[1]&&(t.length=1),this.tickPositions=t,r&&(r=r.apply(this,[this.min,this.max])))&&(this.tickPositions=t=r),this.paddedTicks=t.slice(0),this.trimTicks(t,n,s),this.isLinked||(this.single&&2>t.length&&(this.min-=.5,this.max+=.5),i||r||this.adjustTickAmount())},trimTicks:function(t,e,i){var r=t[0],n=t[t.length-1],s=this.minPointOffset||0;if(!this.isLinked){if(e&&-1/0!==r)this.min=r;else for(;this.min-s>t[0];)t.shift();if(i)this.max=n;else for(;this.max+s<t[t.length-1];)t.pop();0===t.length&&h(r)&&t.push((n+r)/2)}},alignToOthers:function(){var t,e={},i=this.options;return!1===this.chart.options.chart.alignTicks||!1===i.alignTicks||this.isLog||d(this.chart[this.coll],function(i){var r=i.options;r=[i.horiz?r.left:r.top,r.width,r.height,r.pane].join();i.series.length&&(e[r]?t=!0:e[r]=1)}),t},getTickAmount:function(){var t=this.options,e=t.tickAmount,i=t.tickPixelInterval;!h(t.tickInterval)&&this.len<i&&!this.isRadial&&!this.isLog&&t.startOnTick&&t.endOnTick&&(e=2),!e&&this.alignToOthers()&&(e=Math.ceil(this.len/i)+1),4>e&&(this.finalTickAmt=e,e=5),this.tickAmount=e},adjustTickAmount:function(){var t=this.tickInterval,e=this.tickPositions,i=this.tickAmount,r=this.finalTickAmt,n=e&&e.length;if(n<i){for(;e.length<i;)e.push(o(e[e.length-1]+t));this.transA*=(n-1)/(i-1),this.max=e[e.length-1]}else n>i&&(this.tickInterval*=2,this.setTickPositions());if(h(r)){for(t=i=e.length;t--;)(3===r&&1==t%2||2>=r&&0<t&&t<i-1)&&e.splice(t,1);this.finalTickAmt=void 0}},setScale:function(){var t,e;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),e=this.len!==this.oldAxisLength,d(this.series,function(e){(e.isDirtyData||e.isDirty||e.xAxis.isDirty)&&(t=!0)}),e||t||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=e||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks()},setExtremes:function(t,e,i,r,n){var s=this,o=s.chart;i=S(i,!0),d(s.series,function(t){delete t.kdTree}),n=u(n,{min:t,max:e}),p(s,"setExtremes",n,function(){s.userMin=t,s.userMax=e,s.eventArgs=n,i&&o.redraw(r)})},zoom:function(t,e){var i=this.dataMin,r=this.dataMax,n=this.options,s=Math.min(i,S(n.min,i));n=Math.max(r,S(n.max,r));return t===this.min&&e===this.max||(this.allowZoomOutside||(h(i)&&(t<s&&(t=s),t>n&&(t=n)),h(r)&&(e<s&&(e=s),e>n&&(e=n))),this.displayBtn=void 0!==t||void 0!==e,this.setExtremes(t,e,!1,void 0,{trigger:"zoom"})),!0},setAxisSize:function(){var e=this.chart,i=(a=this.options).offsets||[0,0,0,0],r=this.horiz,n=this.width=Math.round(t.relativeLength(S(a.width,e.plotWidth-i[3]+i[1]),e.plotWidth)),s=this.height=Math.round(t.relativeLength(S(a.height,e.plotHeight-i[0]+i[2]),e.plotHeight)),o=this.top=Math.round(t.relativeLength(S(a.top,e.plotTop+i[0]),e.plotHeight,e.plotTop)),a=this.left=Math.round(t.relativeLength(S(a.left,e.plotLeft+i[3]),e.plotWidth,e.plotLeft));this.bottom=e.chartHeight-s-o,this.right=e.chartWidth-n-a,this.len=Math.max(r?n:s,0),this.pos=r?a:o},getExtremes:function(){var t=this.isLog,e=this.lin2log;return{min:t?o(e(this.min)):this.min,max:t?o(e(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(t){var e=this.isLog,i=this.lin2log,r=e?i(this.min):this.min;e=e?i(this.max):this.max;return null===t?t=r:r>t?t=r:e<t&&(t=e),this.translate(t,0,1,0,1)},autoLabelAlign:function(t){return 15<(t=(S(t,0)-90*this.side+720)%360)&&165>t?"right":195<t&&345>t?"left":"center"},tickSize:function(t){var e=this.options,i=e[t+"Length"],r=S(e[t+"Width"],"tick"===t&&this.isXAxis?1:0);if(r&&i)return"inside"===e[t+"Position"]&&(i=-i),[i,r]},labelMetrics:function(){var t=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[t]&&this.ticks[t].label)},unsquish:function(){var t,e,i,r=this.options.labels,n=this.horiz,s=this.tickInterval,o=s,a=this.len/(((this.categories?1:0)+this.max-this.min)/s),c=r.rotation,u=this.labelMetrics(),p=Number.MAX_VALUE,f=function(t){return t/=a||1,(t=1<t?Math.ceil(t):1)*s};return n?(i=!r.staggerLines&&!r.step&&(h(c)?[c]:a<S(r.autoRotationLimit,80)&&r.autoRotation))&&d(i,function(i){var r;(i===c||i&&-90<=i&&90>=i)&&(e=f(Math.abs(u.h/Math.sin(l*i))),(r=e+Math.abs(i/360))<p&&(p=r,t=i,o=e))}):r.step||(o=f(u.h)),this.autoRotation=i,this.labelRotation=S(t,c),o},getSlotWidth:function(){var t=this.chart,e=this.horiz,i=this.options.labels,r=Math.max(this.tickPositions.length-(this.categories?0:1),1),n=t.margin[3];return e&&2>(i.step||0)&&!i.rotation&&(this.staggerLines||1)*this.len/r||!e&&(i.style&&parseInt(i.style.width,10)||n&&n-t.spacing[3]||.33*t.chartWidth)},renderUnsquish:function(){var t,e,i,r=this.chart,n=r.renderer,s=this.tickPositions,o=this.ticks,a=this.options.labels,h=this.horiz,l=this.getSlotWidth(),c=Math.max(1,Math.round(l-2*(a.padding||5))),u={},p=this.labelMetrics(),f=a.style&&a.style.textOverflow,g=0;if(x(a.rotation)||(u.rotation=a.rotation||0),d(s,function(t){(t=o[t])&&t.labelLength>g&&(g=t.labelLength)}),this.maxLabelLength=g,this.autoRotation)g>c&&g>p.h?u.rotation=this.labelRotation:this.labelRotation=0;else if(l&&(t={width:c+"px"},!f))for(t.textOverflow="clip",e=s.length;!h&&e--;)i=s[e],(c=o[i].label)&&(c.styles&&"ellipsis"===c.styles.textOverflow?c.css({textOverflow:"clip"}):o[i].labelLength>l&&c.css({width:l+"px"}),c.getBBox().height>this.len/s.length-(p.h-p.f)&&(c.specCss={textOverflow:"ellipsis"}));u.rotation&&(t={width:(g>.5*r.chartHeight?.33*r.chartHeight:r.chartHeight)+"px"},f||(t.textOverflow="ellipsis")),(this.labelAlign=a.align||this.autoLabelAlign(this.labelRotation))&&(u.align=this.labelAlign),d(s,function(e){var i=(e=o[e])&&e.label;i&&(i.attr(u),t&&i.css(w(t,i.specCss)),delete i.specCss,e.rotation=u.rotation)}),this.tickRotCorr=n.rotCorr(p.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||h(this.min)&&h(this.max)&&this.tickPositions&&0<this.tickPositions.length},addTitle:function(t){var e,i=this.chart.renderer,r=this.horiz,n=this.opposite,s=this.options.title;this.axisTitle||((e=s.textAlign)||(e=(r?{low:"left",middle:"center",high:"right"}:{low:n?"right":"left",middle:"center",high:n?"left":"right"})[s.align]),this.axisTitle=i.text(s.text,0,0,s.useHTML).attr({zIndex:7,rotation:s.rotation||0,align:e}).addClass("highcharts-axis-title").css(s.style).add(this.axisGroup),this.axisTitle.isNew=!0),s.style.width||this.isRadial||this.axisTitle.css({width:this.len}),this.axisTitle[t?"show":"hide"](!0)},generateTick:function(t){var e=this.ticks;e[t]?e[t].addLabel():e[t]=new T(this,t)},getOffset:function(){var t,e,i,r=this,n=(b=r.chart).renderer,s=r.options,o=r.tickPositions,a=r.ticks,l=r.horiz,c=r.side,u=b.inverted&&!r.isZAxis?[1,0,3,2][c]:c,p=0,f=0,g=s.title,m=s.labels,v=0,y=b.axisOffset,b=b.clipOffset,x=[-1,1,1,-1][c],w=s.className,k=r.axisParent,M=this.tickSize("tick");t=r.hasData(),r.showAxis=e=t||S(s.showEmpty,!0),r.staggerLines=r.horiz&&m.staggerLines,r.axisGroup||(r.gridGroup=n.g("grid").attr({zIndex:s.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid "+(w||"")).add(k),r.axisGroup=n.g("axis").attr({zIndex:s.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" "+(w||"")).add(k),r.labelGroup=n.g("axis-labels").attr({zIndex:m.zIndex||7}).addClass("highcharts-"+r.coll.toLowerCase()+"-labels "+(w||"")).add(k)),t||r.isLinked?(d(o,function(t,e){r.generateTick(t,e)}),r.renderUnsquish(),!1===m.reserveSpace||0!==c&&2!==c&&{1:"left",3:"right"}[c]!==r.labelAlign&&"center"!==r.labelAlign||d(o,function(t){v=Math.max(a[t].getLabelSize(),v)}),r.staggerLines&&(v*=r.staggerLines,r.labelOffset=v*(r.opposite?-1:1))):_(a,function(t,e){t.destroy(),delete a[e]}),g&&g.text&&!1!==g.enabled&&(r.addTitle(e),e&&!1!==g.reserveSpace&&(r.titleOffset=p=r.axisTitle.getBBox()[l?"height":"width"],i=g.offset,f=h(i)?0:S(g.margin,l?5:10))),r.renderLine(),r.offset=x*S(s.offset,y[c]),r.tickRotCorr=r.tickRotCorr||{x:0,y:0},n=0===c?-r.labelMetrics().h:2===c?r.tickRotCorr.y:0,f=Math.abs(v)+f,v&&(f=f-n+x*(l?S(m.y,r.tickRotCorr.y+8*x):m.x)),r.axisTitleMargin=S(i,f),y[c]=Math.max(y[c],r.axisTitleMargin+p+x*r.offset,f,t&&o.length&&M?M[0]+x*r.offset:0),s=s.offset?0:2*Math.floor(r.axisLine.strokeWidth()/2),b[u]=Math.max(b[u],s)},getLinePath:function(t){var e=this.chart,i=this.opposite,r=this.offset,n=this.horiz,s=this.left+(i?this.width:0)+r;r=e.chartHeight-this.bottom-(i?this.height:0)+r;return i&&(t*=-1),e.renderer.crispLine(["M",n?this.left:s,n?r:this.top,"L",n?e.chartWidth-this.right:s,n?r:e.chartHeight-this.bottom],t)},renderLine:function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},getTitlePosition:function(){var t=this.horiz,e=this.left,i=this.top,r=this.len,n=this.options.title,s=t?e:i,o=this.opposite,a=this.offset,h=n.x||0,l=n.y||0,c=this.axisTitle,d=this.chart.renderer.fontMetrics(n.style&&n.style.fontSize,c);c=Math.max(c.getBBox(null,0).height-d.h-1,0),r={low:s+(t?0:r),middle:s+r/2,high:s+(t?r:0)}[n.align],e=(t?i+this.height:e)+(t?1:-1)*(o?-1:1)*this.axisTitleMargin+[-c,c,d.f,-c][this.side];return{x:t?r+h:e+(o?this.width:0)+a+h,y:t?e+l-(o?this.height:0)+a:r+l}},renderMinorTick:function(t){var e=this.chart.hasRendered&&b(this.oldMin),i=this.minorTicks;i[t]||(i[t]=new T(this,t,"minor")),e&&i[t].isNew&&i[t].render(null,!0),i[t].render(null,!1,1)},renderTick:function(t,e){var i=this.isLinked,r=this.ticks,n=this.chart.hasRendered&&b(this.oldMin);(!i||t>=this.min&&t<=this.max)&&(r[t]||(r[t]=new T(this,t)),n&&r[t].isNew&&r[t].render(e,!0,.1),r[t].render(e))},render:function(){var e,r,n=this,s=n.chart,o=n.options,a=n.isLog,h=n.lin2log,l=n.isLinked,c=n.tickPositions,u=n.axisTitle,p=n.ticks,f=n.minorTicks,g=n.alternateBands,m=o.stackLabels,v=o.alternateGridColor,y=n.tickmarkOffset,x=n.axisLine,w=n.showAxis,k=i(s.renderer.globalAnimation);n.labelEdge.length=0,n.overlap=!1,d([p,f,g],function(t){_(t,function(t){t.isActive=!1})}),(n.hasData()||l)&&(n.minorTickInterval&&!n.categories&&d(n.getMinorTickPositions(),function(t){n.renderMinorTick(t)}),c.length&&(d(c,function(t,e){n.renderTick(t,e)}),y&&(0===n.min||n.single)&&(p[-1]||(p[-1]=new T(n,-1,null,!0)),p[-1].render(-1))),v&&d(c,function(i,o){r=void 0!==c[o+1]?c[o+1]+y:n.max-y,0==o%2&&i<n.max&&r<=n.max+(s.polar?-y:y)&&(g[i]||(g[i]=new t.PlotLineOrBand(n)),e=i+y,g[i].options={from:a?h(e):e,to:a?h(r):r,color:v},g[i].render(),g[i].isActive=!0)}),n._addedPlotLB||(d((o.plotLines||[]).concat(o.plotBands||[]),function(t){n.addPlotBandOrLine(t)}),n._addedPlotLB=!0)),d([p,f,g],function(t){var e,i=[],r=k.duration;_(t,function(t,e){t.isActive||(t.render(e,!1,0),t.isActive=!1,i.push(e))}),C(function(){for(e=i.length;e--;)t[i[e]]&&!t[i[e]].isActive&&(t[i[e]].destroy(),delete t[i[e]])},t!==g&&s.hasRendered&&r?r:0)}),x&&(x[x.isPlaced?"animate":"attr"]({d:this.getLinePath(x.strokeWidth())}),x.isPlaced=!0,x[w?"show":"hide"](!0)),u&&w&&(o=n.getTitlePosition(),b(o.y)?(u[u.isNew?"attr":"animate"](o),u.isNew=!1):(u.attr("y",-9999),u.isNew=!0)),m&&m.enabled&&n.renderStackTotals(),n.isDirty=!1},redraw:function(){this.visible&&(this.render(),d(this.plotLinesAndBands,function(t){t.render()})),d(this.series,function(t){t.isDirty=!0})},keepProps:"extKey hcEvents names series userMax userMin".split(" "),destroy:function(t){var e,i=this,r=i.stacks,n=i.plotLinesAndBands;if(t||M(i),_(r,function(t,e){c(t),r[e]=null}),d([i.ticks,i.minorTicks,i.alternateBands],function(t){c(t)}),n)for(t=n.length;t--;)n[t].destroy();d("stackTotalGroup axisLine axisTitle axisGroup gridGroup labelGroup cross".split(" "),function(t){i[t]&&(i[t]=i[t].destroy())});for(e in i.plotLinesAndBandsGroups)i.plotLinesAndBandsGroups[e]=i.plotLinesAndBandsGroups[e].destroy();_(i,function(t,e){-1===v(e,i.keepProps)&&delete i[e]})},drawCrosshair:function(t,e){var i,r,n=this.crosshair,o=S(n.snap,!0),a=this.cross;t||(t=this.cross&&this.cross.e),this.crosshair&&!1!==(h(e)||!o)?(o?h(e)&&(r=this.isXAxis?e.plotX:this.len-e.plotY):r=t&&(this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos),h(r)&&(i=this.getPlotLinePath(e&&(this.isXAxis?e.x:S(e.stackY,e.y)),null,null,null,r)||null),h(i)?(e=this.categories&&!this.isRadial,a||(this.cross=a=this.chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(e?"category ":"thin ")+n.className).attr({zIndex:S(n.zIndex,2)}).add(),a.attr({stroke:n.color||(e?s("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":S(n.width,1)}).css({"pointer-events":"none"}),n.dashStyle&&a.attr({dashstyle:n.dashStyle})),a.show().attr({d:i}),e&&!n.width&&a.attr({"stroke-width":this.transA}),this.cross.e=t):this.hideCrosshair()):this.hideCrosshair()},hideCrosshair:function(){this.cross&&this.cross.hide()}}),t.Axis=L}(e);return function(t){var e=t.Axis,i=t.Date,r=t.dateFormat,n=t.defaultOptions,s=t.defined,o=t.each,a=t.extend,h=t.getMagnitude,l=t.getTZOffset,c=t.normalizeTickInterval,d=t.pick,u=t.timeUnits;e.prototype.getTimeTicks=function(t,e,h,c){var p,f,g,m=[],v={},y=n.global.useUTC,b=new i(e-Math.max(l(e),l(h))),x=i.hcMakeTime,w=t.unitRange,k=t.count;if(s(e)){b[i.hcSetMilliseconds](w>=u.second?0:k*Math.floor(b.getMilliseconds()/k)),w>=u.second&&b[i.hcSetSeconds](w>=u.minute?0:k*Math.floor(b.getSeconds()/k)),w>=u.minute&&b[i.hcSetMinutes](w>=u.hour?0:k*Math.floor(b[i.hcGetMinutes]()/k)),w>=u.hour&&b[i.hcSetHours](w>=u.day?0:k*Math.floor(b[i.hcGetHours]()/k)),w>=u.day&&b[i.hcSetDate](w>=u.month?1:k*Math.floor(b[i.hcGetDate]()/k)),w>=u.month&&(b[i.hcSetMonth](w>=u.year?0:k*Math.floor(b[i.hcGetMonth]()/k)),p=b[i.hcGetFullYear]()),w>=u.year&&b[i.hcSetFullYear](p-p%k),w===u.week&&b[i.hcSetDate](b[i.hcGetDate]()-b[i.hcGetDay]()+d(c,1)),p=b[i.hcGetFullYear](),c=b[i.hcGetMonth]();var _=b[i.hcGetDate](),S=b[i.hcGetHours]();for((i.hcTimezoneOffset||i.hcGetTimezoneOffset)&&(g=(!y||!!i.hcGetTimezoneOffset)&&(h-e>4*u.month||l(e)!==l(h)),b=b.getTime(),f=l(b),b=new i(b+f)),y=b.getTime(),e=1;y<h;)m.push(y),y=w===u.year?x(p+e*k,0):w===u.month?x(p,c+e*k):!g||w!==u.day&&w!==u.week?g&&w===u.hour?x(p,c,_,S+e*k,0,0,f)-f:y+w*k:x(p,c,_+e*k*(w===u.day?1:7)),e++;m.push(y),w<=u.hour&&1e4>m.length&&o(m,function(t){0==t%18e5&&"000000000"===r("%H%M%S%L",t)&&(v[t]="day")})}return m.info=a(t,{higherRanks:v,totalRange:w*k}),m},e.prototype.normalizeTimeTickInterval=function(t,e){var i,r=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],n=u[(e=r[r.length-1])[0]],s=e[1];for(i=0;i<r.length&&(e=r[i],n=u[e[0]],s=e[1],!(r[i+1]&&t<=(n*s[s.length-1]+u[r[i+1][0]])/2));i++);return n===u.year&&t<5*n&&(s=[1,2,5]),t=c(t/n,s,"year"===e[0]?Math.max(h(t/n),1):1),{unitRange:n,count:t,unitName:e[0]}}}(e),function(t){var e=t.Axis,i=t.getMagnitude,r=t.map,n=t.normalizeTickInterval,s=t.pick;e.prototype.getLogTickPositions=function(t,e,o,a){var h=this.options,l=this.len,c=this.lin2log,d=this.log2lin,u=[];if(a||(this._minorAutoInterval=null),.5<=t)t=Math.round(t),u=this.getLinearTickPositions(t,e,o);else if(.08<=t){var p,f,g,m,v;for(l=Math.floor(e),h=.3<t?[1,2,4]:.15<t?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];l<o+1&&!v;l++)for(f=h.length,p=0;p<f&&!v;p++)(g=d(c(l)*h[p]))>e&&(!a||m<=o)&&void 0!==m&&u.push(m),m>o&&(v=!0),m=g}else e=c(e),o=c(o),t=a?this.getMinorTickInterval():h.tickInterval,t=s("auto"===t?null:t,this._minorAutoInterval,h.tickPixelInterval/(a?5:1)*(o-e)/((a?l/this.tickPositions.length:l)||1)),t=n(t,null,i(t)),u=r(this.getLinearTickPositions(t,e,o),d),a||(this._minorAutoInterval=t/5);return a||(this.tickInterval=t),u},e.prototype.log2lin=function(t){return Math.log(t)/Math.LN10},e.prototype.lin2log=function(t){return Math.pow(10,t)}}(e),function(t,e){var i=t.arrayMax,r=t.arrayMin,n=t.defined,s=t.destroyObjectProperties,o=t.each,a=t.erase,h=t.merge,l=t.pick;t.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},t.PlotLineOrBand.prototype={render:function(){var e=this,i=e.axis,r=i.horiz,s=e.options,o=s.label,a=e.label,c=s.to,d=s.from,u=s.value,p=n(d)&&n(c),f=n(u),g=e.svgElem,m=!g,v=[],y=s.color,b=l(s.zIndex,0),x=s.events,w=(v={class:"highcharts-plot-"+(p?"band ":"line ")+(s.className||"")},{}),k=i.chart.renderer,_=p?"bands":"lines",S=i.log2lin;if(i.isLog&&(d=S(d),c=S(c),u=S(u)),f?(v={stroke:y,"stroke-width":s.width},s.dashStyle&&(v.dashstyle=s.dashStyle)):p&&(y&&(v.fill=y),s.borderWidth&&(v.stroke=s.borderColor,v["stroke-width"]=s.borderWidth)),w.zIndex=b,_+="-"+b,(y=i.plotLinesAndBandsGroups[_])||(i.plotLinesAndBandsGroups[_]=y=k.g("plot-"+_).attr(w).add()),m&&(e.svgElem=g=k.path().attr(v).add(y)),f)v=i.getPlotLinePath(u,g.strokeWidth());else{if(!p)return;v=i.getPlotBandPath(d,c,s)}return m&&v&&v.length?(g.attr({d:v}),x&&t.objectEach(x,function(t,i){g.on(i,function(t){x[i].apply(e,[t])})})):g&&(v?(g.show(),g.animate({d:v})):(g.hide(),a&&(e.label=a=a.destroy()))),o&&n(o.text)&&v&&v.length&&0<i.width&&0<i.height&&!v.flat?(o=h({align:r&&p&&"center",x:r?!p&&4:10,verticalAlign:!r&&p&&"middle",y:r?p?16:10:p?6:-4,rotation:r&&!p&&90},o),this.renderLabel(o,v,p,b)):a&&a.hide(),e},renderLabel:function(t,e,n,s){var o=this.label,a=this.axis.chart.renderer;o||(o={align:t.textAlign||t.align,rotation:t.rotation,class:"highcharts-plot-"+(n?"band":"line")+"-label "+(t.className||"")},o.zIndex=s,this.label=o=a.text(t.text,0,0,t.useHTML).attr(o).add(),o.css(t.style)),s=e.xBounds||[e[1],e[4],n?e[6]:e[1]],e=e.yBounds||[e[2],e[5],n?e[7]:e[2]],n=r(s),a=r(e),o.align(t,!1,{x:n,y:a,width:i(s)-n,height:i(e)-a}),o.show()},destroy:function(){a(this.axis.plotLinesAndBands,this),delete this.axis,s(this)}},t.extend(e.prototype,{getPlotBandPath:function(t,e){var i,r=this.getPlotLinePath(e,null,null,!0),n=this.getPlotLinePath(t,null,null,!0),s=[],o=this.horiz,a=1;if(t=t<this.min&&e<this.min||t>this.max&&e>this.max,n&&r)for(t&&(i=n.toString()===r.toString(),a=0),t=0;t<n.length;t+=6)o&&r[t+1]===n[t+1]?(r[t+1]+=a,r[t+4]+=a):o||r[t+2]!==n[t+2]||(r[t+2]+=a,r[t+5]+=a),s.push("M",n[t+1],n[t+2],"L",n[t+4],n[t+5],r[t+4],r[t+5],r[t+1],r[t+2],"z"),s.flat=i;return s},addPlotBand:function(t){return this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){return this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(e,i){var r=new t.PlotLineOrBand(this,e).render(),n=this.userOptions;return r&&(i&&(n[i]=n[i]||[],n[i].push(e)),this.plotLinesAndBands.push(r)),r},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,i=this.options,r=this.userOptions,n=e.length;n--;)e[n].id===t&&e[n].destroy();o([i.plotLines||[],r.plotLines||[],i.plotBands||[],r.plotBands||[]],function(e){for(n=e.length;n--;)e[n].id===t&&a(e,e[n])})},removePlotBand:function(t){this.removePlotBandOrLine(t)},removePlotLine:function(t){this.removePlotBandOrLine(t)}})}(e,i),function(t){var e=t.dateFormat,i=t.each,r=t.extend,n=t.format,s=t.isNumber,o=t.map,a=t.merge,h=t.pick,l=t.splat,c=t.syncTimeout,d=t.timeUnits;t.Tooltip=function(){this.init.apply(this,arguments)},t.Tooltip.prototype={init:function(t,e){this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=e.split&&!t.inverted,this.shared=e.shared||this.split},cleanSplit:function(t){i(this.chart.series,function(e){var i=e&&e.tt;i&&(!i.isActive||t?e.tt=i.destroy():i.isActive=!1)})},getLabel:function(){var t=this.chart.renderer,e=this.options;return this.label||(this.split?this.label=t.g("tooltip"):(this.label=t.label("",0,0,e.shape||"callout",null,null,e.useHTML,null,"tooltip").attr({padding:e.padding,r:e.borderRadius}),this.label.attr({fill:e.backgroundColor,"stroke-width":e.borderWidth}).css(e.style).shadow(e.shadow)),this.label.attr({zIndex:8}).add()),this.label},update:function(t){this.destroy(),a(!0,this.chart.options.tooltip.userOptions,t),this.init(this.chart,a(!0,this.options,t))},destroy:function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(t,e,i,n){var s=this,o=s.now,a=!1!==s.options.animation&&!s.isHidden&&(1<Math.abs(t-o.x)||1<Math.abs(e-o.y)),h=s.followPointer||1<s.len;r(o,{x:a?(2*o.x+t)/3:t,y:a?(o.y+e)/2:e,anchorX:h?void 0:a?(2*o.anchorX+i)/3:i,anchorY:h?void 0:a?(o.anchorY+n)/2:n}),s.getLabel().attr(o),a&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){s&&s.move(t,e,i,n)},32))},hide:function(t){var e=this;clearTimeout(this.hideTimer),t=h(t,this.options.hideDelay,500),this.isHidden||(this.hideTimer=c(function(){e.getLabel()[t?"fadeOut":"hide"](),e.isHidden=!0},t))},getAnchor:function(t,e){var r,n,s,a=this.chart,h=a.inverted,c=a.plotTop,d=a.plotLeft,u=0,p=0;return t=l(t),r=t[0].tooltipPos,this.followPointer&&e&&(void 0===e.chartX&&(e=a.pointer.normalize(e)),r=[e.chartX-a.plotLeft,e.chartY-c]),r||(i(t,function(t){n=t.series.yAxis,s=t.series.xAxis,u+=t.plotX+(!h&&s?s.left-d:0),p+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!h&&n?n.top-c:0)}),u/=t.length,p/=t.length,r=[h?a.plotWidth-p:u,this.shared&&!h&&1<t.length&&e?e.chartY-c:h?a.plotHeight-u:p]),o(r,Math.round)},getPosition:function(t,e,i){var r,n=this.chart,s=this.distance,o={},a=n.inverted&&i.h||0,l=["y",n.chartHeight,e,i.plotY+n.plotTop,n.plotTop,n.plotTop+n.plotHeight],c=["x",n.chartWidth,t,i.plotX+n.plotLeft,n.plotLeft,n.plotLeft+n.plotWidth],d=!this.followPointer&&h(i.ttBelow,!n.inverted==!!i.negative),u=function(t){var e=l;l=c,c=e,r=t},p=function(){!1!==function(t,e,i,r,n,h){var l=i<r-s,c=r+s+i<e,u=r-s-i;if(r+=s,d&&c)o[t]=r;else if(!d&&l)o[t]=u;else if(l)o[t]=Math.min(h-i,0>u-a?u:u-a);else{if(!c)return!1;o[t]=Math.max(n,r+a+i>e?r:r+a)}}.apply(0,l)?!1!==function(t,e,i,r){var n;return r<s||r>e-s?n=!1:o[t]=r<i/2?1:r>e-i/2?e-i-2:r-i/2,n}.apply(0,c)||r||(u(!0),p()):r?o.x=o.y=0:(u(!0),p())};return(n.inverted||1<this.len)&&u(),p(),o},defaultFormatter:function(t){var e,i=this.points||l(this);return e=[t.tooltipFooterHeaderFormatter(i[0])],(e=e.concat(t.bodyFormatter(i))).push(t.tooltipFooterHeaderFormatter(i[0],!0)),e},refresh:function(t,e){var r,n,s,o=this.options,a=t,c={},d=[];r=o.formatter||this.defaultFormatter;var u;c=this.shared;o.enabled&&(clearTimeout(this.hideTimer),this.followPointer=l(a)[0].series.tooltipOptions.followPointer,s=this.getAnchor(a,e),e=s[0],n=s[1],!c||a.series&&a.series.noSharedTooltip?c=a.getLabelConfig():(i(a,function(t){t.setState("hover"),d.push(t.getLabelConfig())}),c={x:a[0].category,y:a[0].y},c.points=d,a=a[0]),this.len=d.length,c=r.call(c,this),u=a.series,this.distance=h(u.tooltipOptions.distance,16),!1===c?this.hide():(r=this.getLabel(),this.isHidden&&r.attr({opacity:1}).show(),this.split?this.renderSplit(c,l(t)):(o.style.width||r.css({width:this.chart.spacingBox.width}),r.attr({text:c&&c.join?c.join(""):c}),r.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+h(a.colorIndex,u.colorIndex)),r.attr({stroke:o.borderColor||a.color||u.color||"#666666"}),this.updatePosition({plotX:e,plotY:n,negative:a.negative,ttBelow:a.ttBelow,h:s[2]||0})),this.isHidden=!1))},renderSplit:function(e,r){var n=this,s=[],o=this.chart,a=o.renderer,l=!0,c=this.options,d=0,u=this.getLabel();t.isString(e)&&(e=[!1,e]),i(e.slice(0,r.length+1),function(t,e){if(!1!==t){var i=(e=r[e-1]||{isHeader:!0,plotX:r[0].plotX}).series||n,p=i.tt,f=e.series||{},g="highcharts-color-"+h(e.colorIndex,f.colorIndex,"none");p||(i.tt=p=a.label(null,null,null,"callout",null,null,c.useHTML).addClass("highcharts-tooltip-box "+g).attr({padding:c.padding,r:c.borderRadius,fill:c.backgroundColor,stroke:c.borderColor||e.color||f.color||"#333333","stroke-width":c.borderWidth}).add(u)),p.isActive=!0,p.attr({text:t}),p.css(c.style).shadow(c.shadow),f=(t=p.getBBox()).width+p.strokeWidth(),e.isHeader?(d=t.height,f=Math.max(0,Math.min(e.plotX+o.plotLeft-f/2,o.chartWidth-f))):f=e.plotX+o.plotLeft-h(c.distance,16)-f,0>f&&(l=!1),t=(e.series&&e.series.yAxis&&e.series.yAxis.pos)+(e.plotY||0),t-=o.plotTop,s.push({target:e.isHeader?o.plotHeight+d:t,rank:e.isHeader?1:0,size:i.tt.getBBox().height+1,point:e,x:f,tt:p})}}),this.cleanSplit(),t.distribute(s,o.plotHeight+d),i(s,function(t){var e=t.point,i=e.series;t.tt.attr({visibility:void 0===t.pos?"hidden":"inherit",x:l||e.isHeader?t.x:e.plotX+o.plotLeft+h(c.distance,16),y:t.pos+o.plotTop,anchorX:e.isHeader?e.plotX+o.plotLeft:e.plotX+i.xAxis.pos,anchorY:e.isHeader?t.pos+o.plotTop-15:e.plotY+i.yAxis.pos})})},updatePosition:function(t){var e=this.chart,i=this.getLabel();i=(this.options.positioner||this.getPosition).call(this,i.width,i.height,t);this.move(Math.round(i.x),Math.round(i.y||0),t.plotX+e.plotLeft,t.plotY+e.plotTop)},getDateFormat:function(t,i,r,n){var s,o,a=e("%m-%d %H:%M:%S.%L",i),h={millisecond:15,second:12,minute:9,hour:6,day:3},l="millisecond";for(o in d){if(t===d.week&&+e("%w",i)===r&&"00:00:00.000"===a.substr(6)){o="week";break}if(d[o]>t){o=l;break}if(h[o]&&a.substr(h[o])!=="01-01 00:00:00.000".substr(h[o]))break;"week"!==o&&(l=o)}return o&&(s=n[o]),s},getXDateFormat:function(t,e,i){e=e.dateTimeLabelFormats;var r=i&&i.closestPointRange;return(r?this.getDateFormat(r,t.x,i.options.startOfWeek,e):e.day)||e.year},tooltipFooterHeaderFormatter:function(t,e){e=e?"footer":"header";var r=t.series,o=r.tooltipOptions,a=o.xDateFormat,h=r.xAxis,l=h&&"datetime"===h.options.type&&s(t.key),c=o[e+"Format"];return l&&!a&&(a=this.getXDateFormat(t,o,h)),l&&a&&i(t.point&&t.point.tooltipDateKeys||["key"],function(t){c=c.replace("{point."+t+"}","{point."+t+":"+a+"}")}),n(c,{point:t,series:r})},bodyFormatter:function(t){return o(t,function(t){var e=t.series.tooltipOptions;return(e[(t.point.formatPrefix||"point")+"Formatter"]||t.point.tooltipFormatter).call(t.point,e[(t.point.formatPrefix||"point")+"Format"])})}}}(e),function(t){var e=t.addEvent,i=t.attr,r=t.charts,n=t.color,s=t.css,o=t.defined,a=t.each,h=t.extend,l=t.find,c=t.fireEvent,d=t.isObject,u=t.offset,p=t.pick,f=t.splat,g=t.Tooltip;t.Pointer=function(t,e){this.init(t,e)},t.Pointer.prototype={init:function(t,e){this.options=e,this.chart=t,this.runChartClick=e.chart.events&&!!e.chart.events.click,this.pinchDown=[],this.lastValidTouch={},g&&(t.tooltip=new g(t,e.tooltip),this.followTouchMove=p(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},zoomOption:function(t){var e=(r=this.chart).options.chart,i=e.zoomType||"",r=r.inverted;/touch/.test(t.type)&&(i=p(e.pinchType,i)),this.zoomX=t=/x/.test(i),this.zoomY=i=/y/.test(i),this.zoomHor=t&&!r||i&&r,this.zoomVert=i&&!r||t&&r,this.hasZoom=t||i},normalize:function(t,e){var i;return i=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,e||(this.chartPosition=e=u(this.chart.container)),h(t,{chartX:Math.round(i.pageX-e.left),chartY:Math.round(i.pageY-e.top)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return a(this.chart.axes,function(i){e[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(t[i.horiz?"chartX":"chartY"])})}),e},findNearestKDPoint:function(t,e,i){var r;return a(t,function(t){var n=!(t.noSharedTooltip&&e)&&0>t.options.findNearestPointBy.indexOf("y");if(t=t.searchPoint(i,n),(n=d(t,!0))&&!(n=!d(r,!0))){n=r.distX-t.distX;var s=r.dist-t.dist,o=(t.series.group&&t.series.group.zIndex)-(r.series.group&&r.series.group.zIndex);n=0<(0!==n&&e?n:0!==s?s:0!==o?o:r.series.index>t.series.index?-1:1)}n&&(r=t)}),r},getPointFromEvent:function(t){t=t.target;for(var e;t&&!e;)e=t.point,t=t.parentNode;return e},getChartCoordinatesFromPoint:function(t,e){var i=(r=t.series).xAxis,r=r.yAxis,n=p(t.clientX,t.plotX);if(i&&r)return e?{chartX:i.len+i.pos-n,chartY:r.len+r.pos-t.plotY}:{chartX:n+i.pos,chartY:t.plotY+r.pos}},getHoverData:function(e,i,r,n,s,o,h){var c,u=[],f=h&&h.isBoosting;return n=!(!n||!e),h=i&&!i.stickyTracking?[i]:t.grep(r,function(t){return t.visible&&!(!s&&t.directTouch)&&p(t.options.enableMouseTracking,!0)&&t.stickyTracking}),i=(c=n?e:this.findNearestKDPoint(h,s,o))&&c.series,c&&(s&&!i.noSharedTooltip?(h=t.grep(r,function(t){return t.visible&&!(!s&&t.directTouch)&&p(t.options.enableMouseTracking,!0)&&!t.noSharedTooltip}),a(h,function(t){var e=l(t.points,function(t){return t.x===c.x&&!t.isNull});d(e)&&(f&&(e=t.getPoint(e)),u.push(e))})):u.push(c)),{hoverPoint:c,hoverSeries:i,hoverPoints:u}},runPointActions:function(i,n){var s,o=this.chart,h=o.tooltip&&o.tooltip.options.enabled?o.tooltip:void 0,l=!!h&&h.shared,c=(d=n||o.hoverPoint)&&d.series||o.hoverSeries,d=(c=this.getHoverData(d,c,o.series,!!n||c&&c.directTouch&&this.isDirectTouch,l,i,{isBoosting:o.isBoosting})).hoverPoint;if(s=c.hoverPoints,n=(c=c.hoverSeries)&&c.tooltipOptions.followPointer,l=l&&c&&!c.noSharedTooltip,d&&(d!==o.hoverPoint||h&&h.isHidden)){if(a(o.hoverPoints||[],function(e){-1===t.inArray(e,s)&&e.setState()}),a(s||[],function(t){t.setState("hover")}),o.hoverSeries!==c&&c.onMouseOver(),o.hoverPoint&&o.hoverPoint.firePointEvent("mouseOut"),!d.series)return;d.firePointEvent("mouseOver"),o.hoverPoints=s,o.hoverPoint=d,h&&h.refresh(l?s:d,i)}else n&&h&&!h.isHidden&&(d=h.getAnchor([{}],i),h.updatePosition({plotX:d[0],plotY:d[1]}));this.unDocMouseMove||(this.unDocMouseMove=e(o.container.ownerDocument,"mousemove",function(e){var i=r[t.hoverChartIndex];i&&i.pointer.onDocumentMouseMove(e)})),a(o.axes,function(e){var r=p(e.crosshair.snap,!0),n=r?t.find(s,function(t){return t.series[e.coll]===e}):void 0;n||!r?e.drawCrosshair(i,n):e.hideCrosshair()})},reset:function(t,e){var i=this.chart,r=i.hoverSeries,n=i.hoverPoint,s=i.hoverPoints,o=i.tooltip,h=o&&o.shared?s:n;t&&h&&a(f(h),function(e){e.series.isCartesian&&void 0===e.plotX&&(t=!1)}),t?o&&h&&(o.refresh(h),n&&(n.setState(n.state,!0),a(i.axes,function(t){t.crosshair&&t.drawCrosshair(null,n)}))):(n&&n.onMouseOut(),s&&a(s,function(t){t.setState()}),r&&r.onMouseOut(),o&&o.hide(e),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),a(i.axes,function(t){t.hideCrosshair()}),this.hoverX=i.hoverPoints=i.hoverPoint=null)},scaleGroups:function(t,e){var i,r=this.chart;a(r.series,function(n){i=t||n.getPlotBox(),n.xAxis&&n.xAxis.zoomEnabled&&n.group&&(n.group.attr(i),n.markerGroup&&(n.markerGroup.attr(i),n.markerGroup.clip(e?r.clipRect:null)),n.dataLabelsGroup&&n.dataLabelsGroup.attr(i))}),r.clipRect.attr(e||r.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,i=this.chart,r=i.options.chart,s=t.chartX,o=t.chartY,a=this.zoomHor,h=this.zoomVert,l=i.plotLeft,c=i.plotTop,d=i.plotWidth,u=i.plotHeight,p=this.selectionMarker,f=this.mouseDownX,g=this.mouseDownY,m=r.panKey&&t[r.panKey+"Key"];p&&p.touch||(s<l?s=l:s>l+d&&(s=l+d),o<c?o=c:o>c+u&&(o=c+u),this.hasDragged=Math.sqrt(Math.pow(f-s,2)+Math.pow(g-o,2)),10<this.hasDragged&&(e=i.isInsidePlot(f-l,g-c),i.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!m&&!p&&(this.selectionMarker=p=i.renderer.rect(l,c,a?1:d,h?1:u,0).attr({fill:r.selectionMarkerFill||n("#335cad").setOpacity(.25).get(),class:"highcharts-selection-marker",zIndex:7}).add()),p&&a&&(s-=f,p.attr({width:Math.abs(s),x:(0<s?0:s)+f})),p&&h&&(s=o-g,p.attr({height:Math.abs(s),y:(0<s?0:s)+g})),e&&!p&&r.panning&&i.pan(t,r.panning)))},drop:function(t){var e=this,i=this.chart,r=this.hasPinched;if(this.selectionMarker){var n,l={originalEvent:t,xAxis:[],yAxis:[]},d=this.selectionMarker,u=d.attr?d.attr("x"):d.x,p=d.attr?d.attr("y"):d.y,f=d.attr?d.attr("width"):d.width,g=d.attr?d.attr("height"):d.height;(this.hasDragged||r)&&(a(i.axes,function(i){if(i.zoomEnabled&&o(i.min)&&(r||e[{xAxis:"zoomX",yAxis:"zoomY"}[i.coll]])){var s=i.horiz,a="touchend"===t.type?i.minPixelPadding:0,h=i.toValue((s?u:p)+a);s=i.toValue((s?u+f:p+g)-a);l[i.coll].push({axis:i,min:Math.min(h,s),max:Math.max(h,s)}),n=!0}}),n&&c(i,"selection",l,function(t){i.zoom(h(t,r?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),r&&this.scaleGroups()}i&&(s(i.container,{cursor:i._cursor}),i.cancelClick=10<this.hasDragged,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){t=this.normalize(t),this.zoomOption(t),t.preventDefault&&t.preventDefault(),this.dragStart(t)},onDocumentMouseUp:function(e){r[t.hoverChartIndex]&&r[t.hoverChartIndex].pointer.drop(e)},onDocumentMouseMove:function(t){var e=this.chart,i=this.chartPosition;t=this.normalize(t,i),!i||this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||this.reset()},onContainerMouseLeave:function(e){var i=r[t.hoverChartIndex];i&&(e.relatedTarget||e.toElement)&&(i.pointer.reset(),i.pointer.chartPosition=null)},onContainerMouseMove:function(e){var i=this.chart;o(t.hoverChartIndex)&&r[t.hoverChartIndex]&&r[t.hoverChartIndex].mouseIsDown||(t.hoverChartIndex=i.index),(e=this.normalize(e)).returnValue=!1,"mousedown"===i.mouseIsDown&&this.drag(e),!this.inClass(e.target,"highcharts-tracker")&&!i.isInsidePlot(e.chartX-i.plotLeft,e.chartY-i.plotTop)||i.openMenu||this.runPointActions(e)},inClass:function(t,e){for(var r;t;){if(r=i(t,"class")){if(-1!==r.indexOf(e))return!0;if(-1!==r.indexOf("highcharts-container"))return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries;t=t.relatedTarget||t.toElement,this.isDirectTouch=!1,!e||!t||e.stickyTracking||this.inClass(t,"highcharts-tooltip")||this.inClass(t,"highcharts-series-"+e.index)&&this.inClass(t,"highcharts-tracker")||e.onMouseOut()},onContainerClick:function(t){var e=this.chart,i=e.hoverPoint,r=e.plotLeft,n=e.plotTop;t=this.normalize(t),e.cancelClick||(i&&this.inClass(t.target,"highcharts-tracker")?(c(i.series,"click",h(t,{point:i})),e.hoverPoint&&i.firePointEvent("click",t)):(h(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-r,t.chartY-n)&&c(e,"click",t)))},setDOMEvents:function(){var i=this,r=i.chart.container,n=r.ownerDocument;r.onmousedown=function(t){i.onContainerMouseDown(t)},r.onmousemove=function(t){i.onContainerMouseMove(t)},r.onclick=function(t){i.onContainerClick(t)},this.unbindContainerMouseLeave=e(r,"mouseleave",i.onContainerMouseLeave),t.unbindDocumentMouseUp||(t.unbindDocumentMouseUp=e(n,"mouseup",i.onDocumentMouseUp)),t.hasTouch&&(r.ontouchstart=function(t){i.onContainerTouchStart(t)},r.ontouchmove=function(t){i.onContainerTouchMove(t)},t.unbindDocumentTouchEnd||(t.unbindDocumentTouchEnd=e(n,"touchend",i.onDocumentTouchEnd)))},destroy:function(){var e=this;e.unDocMouseMove&&e.unDocMouseMove(),this.unbindContainerMouseLeave(),t.chartCount||(t.unbindDocumentMouseUp&&(t.unbindDocumentMouseUp=t.unbindDocumentMouseUp()),t.unbindDocumentTouchEnd&&(t.unbindDocumentTouchEnd=t.unbindDocumentTouchEnd())),clearInterval(e.tooltipTimeout),t.objectEach(e,function(t,i){e[i]=null})}}}(e),function(t){var e=t.charts,i=t.each,r=t.extend,n=t.map,s=t.noop,o=t.pick;r(t.Pointer.prototype,{pinchTranslate:function(t,e,i,r,n,s){this.zoomHor&&this.pinchTranslateDirection(!0,t,e,i,r,n,s),this.zoomVert&&this.pinchTranslateDirection(!1,t,e,i,r,n,s)},pinchTranslateDirection:function(t,e,i,r,n,s,o,a){var h,l,c,d=this.chart,u=t?"x":"y",p=t?"X":"Y",f="chart"+p,g=t?"width":"height",m=d["plot"+(t?"Left":"Top")],v=a||1,y=d.inverted,b=d.bounds[t?"h":"v"],x=1===e.length,w=e[0][f],k=i[0][f],_=!x&&e[1][f],S=!x&&i[1][f];(i=function(){!x&&20<Math.abs(w-_)&&(v=a||Math.abs(k-S)/Math.abs(w-_)),l=(m-k)/v+w,h=d["plot"+(t?"Width":"Height")]/v})(),(e=l)<b.min?(e=b.min,c=!0):e+h>b.max&&(e=b.max-h,c=!0),c?(k-=.8*(k-o[u][0]),x||(S-=.8*(S-o[u][1])),i()):o[u]=[k,S],y||(s[u]=l-m,s[g]=h),s=y?1/v:v,n[g]=h,n[u]=e,r[y?t?"scaleY":"scaleX":"scale"+p]=v,r["translate"+p]=s*m+(k-s*w)},pinch:function(t){var e=this,a=e.chart,h=e.pinchDown,l=t.touches,c=l.length,d=e.lastValidTouch,u=e.hasZoom,p=e.selectionMarker,f={},g=1===c&&(e.inClass(t.target,"highcharts-tracker")&&a.runTrackerClick||e.runChartClick),m={};1<c&&(e.initiated=!0),u&&e.initiated&&!g&&t.preventDefault(),n(l,function(t){return e.normalize(t)}),"touchstart"===t.type?(i(l,function(t,e){h[e]={chartX:t.chartX,chartY:t.chartY}}),d.x=[h[0].chartX,h[1]&&h[1].chartX],d.y=[h[0].chartY,h[1]&&h[1].chartY],i(a.axes,function(t){if(t.zoomEnabled){var e=a.bounds[t.horiz?"h":"v"],i=t.minPixelPadding,r=t.toPixels(o(t.options.min,t.dataMin)),n=t.toPixels(o(t.options.max,t.dataMax)),s=Math.max(r,n);e.min=Math.min(t.pos,Math.min(r,n)-i),e.max=Math.max(t.pos+t.len,s+i)}}),e.res=!0):e.followTouchMove&&1===c?this.runPointActions(e.normalize(t)):h.length&&(p||(e.selectionMarker=p=r({destroy:s,touch:!0},a.plotBox)),e.pinchTranslate(h,l,f,p,m,d),e.hasPinched=u,e.scaleGroups(f,m),e.res&&(e.res=!1,this.reset(!1,0)))},touch:function(e,i){var r,n=this.chart;n.index!==t.hoverChartIndex&&this.onContainerMouseLeave({relatedTarget:!0}),t.hoverChartIndex=n.index,1===e.touches.length?(e=this.normalize(e),n.isInsidePlot(e.chartX-n.plotLeft,e.chartY-n.plotTop)&&!n.openMenu?(i&&this.runPointActions(e),"touchmove"===e.type&&(i=this.pinchDown,r=!!i[0]&&4<=Math.sqrt(Math.pow(i[0].chartX-e.chartX,2)+Math.pow(i[0].chartY-e.chartY,2))),o(r,!0)&&this.pinch(e)):i&&this.reset()):2===e.touches.length&&this.pinch(e)},onContainerTouchStart:function(t){this.zoomOption(t),this.touch(t,!0)},onContainerTouchMove:function(t){this.touch(t)},onDocumentTouchEnd:function(i){e[t.hoverChartIndex]&&e[t.hoverChartIndex].pointer.drop(i)}})}(e),function(t){var e=t.addEvent,i=t.charts,r=t.css,n=t.doc,s=t.extend,o=t.noop,a=t.Pointer,h=t.removeEvent,l=t.win,c=t.wrap;if(!t.hasTouch&&(l.PointerEvent||l.MSPointerEvent)){var d={},u=!!l.PointerEvent,p=function(e,r,n,s){"touch"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||!i[t.hoverChartIndex]||(s(e),(s=i[t.hoverChartIndex].pointer)[r]({type:n,target:e.currentTarget,preventDefault:o,touches:function(){var e=[];return e.item=function(t){return this[t]},t.objectEach(d,function(t){e.push({pageX:t.pageX,pageY:t.pageY,target:t.target})}),e}()}))};s(a.prototype,{onContainerPointerDown:function(t){p(t,"onContainerTouchStart","touchstart",function(t){d[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}})},onContainerPointerMove:function(t){p(t,"onContainerTouchMove","touchmove",function(t){d[t.pointerId]={pageX:t.pageX,pageY:t.pageY},d[t.pointerId].target||(d[t.pointerId].target=t.currentTarget)})},onDocumentPointerUp:function(t){p(t,"onDocumentTouchEnd","touchend",function(t){delete d[t.pointerId]})},batchMSEvents:function(t){t(this.chart.container,u?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,u?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(n,u?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),c(a.prototype,"init",function(t,e,i){t.call(this,e,i),this.hasZoom&&r(e.container,{"-ms-touch-action":"none","touch-action":"none"})}),c(a.prototype,"setDOMEvents",function(t){t.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(e)}),c(a.prototype,"destroy",function(t){this.batchMSEvents(h),t.call(this)})}}(e),function(t){var e=t.addEvent,i=t.css,r=t.discardElement,n=t.defined,s=t.each,o=t.isFirefox,a=t.marginNames,h=t.merge,l=t.pick,c=t.setAnimation,d=t.stableSort,u=t.win,p=t.wrap;t.Legend=function(t,e){this.init(t,e)},t.Legend.prototype={init:function(t,i){this.chart=t,this.setOptions(i),i.enabled&&(this.render(),e(this.chart,"endResize",function(){this.legend.positionCheckboxes()}))},setOptions:function(t){var e=l(t.padding,8);this.options=t,this.itemStyle=t.itemStyle,this.itemHiddenStyle=h(this.itemStyle,t.itemHiddenStyle),this.itemMarginTop=t.itemMarginTop||0,this.padding=e,this.initialItemY=e-5,this.itemHeight=this.maxItemWidth=0,this.symbolWidth=l(t.symbolWidth,16),this.pages=[]},update:function(t,e){var i=this.chart;this.setOptions(h(!0,this.options,t)),this.destroy(),i.isDirtyLegend=i.isDirtyBox=!0,l(e,!0)&&i.redraw()},colorizeItem:function(t,e){t.legendGroup[e?"removeClass":"addClass"]("highcharts-legend-item-hidden");var i=this.options,r=t.legendItem,n=t.legendLine,s=t.legendSymbol,o=this.itemHiddenStyle.color,a=(i=e?i.itemStyle.color:o,e?t.color||o:o),h=t.options&&t.options.marker,l={fill:a};r&&r.css({fill:i,color:i}),n&&n.attr({stroke:a}),s&&(h&&s.isMarker&&(l=t.pointAttribs(),e||(l.stroke=l.fill=o)),s.attr(l))},positionItem:function(t){var e=(i=this.options).symbolPadding,i=!i.rtl,r=(n=t._legendItemPos)[0],n=n[1],s=t.checkbox;(t=t.legendGroup)&&t.element&&t.translate(i?r:this.legendWidth-r-2*e-4,n),s&&(s.x=r,s.y=n)},destroyItem:function(t){var e=t.checkbox;s(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),e&&r(t.checkbox)},destroy:function(){function t(t){this[t]&&(this[t]=this[t].destroy())}s(this.getAllItems(),function(e){s(["legendItem","legendGroup"],t,e)}),s("clipRect up down pager nav box title group".split(" "),t,this),this.display=null},positionCheckboxes:function(){var t,e=this.group&&this.group.alignAttr,r=this.clipHeight||this.legendHeight,n=this.titleHeight;e&&(t=e.translateY,s(this.allItems,function(s){var o,a=s.checkbox;a&&(o=t+n+a.y+(this.scrollOffset||0)+3,i(a,{left:e.translateX+s.checkboxOffset+a.x-20+"px",top:o+"px",display:o>t-6&&o<t+r-6?"":"none"}))},this))},renderTitle:function(){var t=this.options,e=this.padding,i=t.title,r=0;i.text&&(this.title||(this.title=this.chart.renderer.label(i.text,e-3,e-4,null,null,null,t.useHTML,null,"legend-title").attr({zIndex:1}).css(i.style).add(this.group)),t=this.title.getBBox(),r=t.height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:r})),this.titleHeight=r},setText:function(e){var i=this.options;e.legendItem.attr({text:i.labelFormat?t.format(i.labelFormat,e):i.labelFormatter.call(e)})},renderItem:function(t){var e=this.chart,i=e.renderer,r=this.options,n="horizontal"===r.layout,s=this.symbolWidth,o=r.symbolPadding,a=this.itemStyle,c=this.itemHiddenStyle,d=this.padding,u=n?l(r.itemDistance,20):0,p=!r.rtl,f=r.width,g=r.itemMarginBottom||0,m=this.itemMarginTop,v=t.legendItem,y=!t.series,b=!y&&t.series.drawLegendSymbol?t.series:t,x=b.options,w=this.createCheckboxForItem&&x&&x.showCheckbox,k=(x=s+o+u+(w?20:0),r.useHTML),_=t.options.className;v||(t.legendGroup=i.g("legend-item").addClass("highcharts-"+b.type+"-series highcharts-color-"+t.colorIndex+(_?" "+_:"")+(y?" highcharts-series-"+t.index:"")).attr({zIndex:1}).add(this.scrollGroup),t.legendItem=v=i.text("",p?s+o:-o,this.baseline||0,k).css(h(t.visible?a:c)).attr({align:p?"left":"right",zIndex:2}).add(t.legendGroup),this.baseline||(s=a.fontSize,this.fontMetrics=i.fontMetrics(s,v),this.baseline=this.fontMetrics.f+3+m,v.attr("y",this.baseline)),this.symbolHeight=r.symbolHeight||this.fontMetrics.f,b.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,v,k),w&&this.createCheckboxForItem(t)),this.colorizeItem(t,t.visible),a.width||v.css({width:(r.itemWidth||r.width||e.spacingBox.width)-x}),this.setText(t),i=v.getBBox(),a=t.checkboxOffset=r.itemWidth||t.legendItemWidth||i.width+x,this.itemHeight=i=Math.round(t.legendItemHeight||i.height||this.symbolHeight),n&&this.itemX-d+a>(f||e.spacingBox.width-2*d-r.x)&&(this.itemX=d,this.itemY+=m+this.lastLineHeight+g,this.lastLineHeight=0),this.maxItemWidth=Math.max(this.maxItemWidth,a),this.lastItemY=m+this.itemY+g,this.lastLineHeight=Math.max(i,this.lastLineHeight),t._legendItemPos=[this.itemX,this.itemY],n?this.itemX+=a:(this.itemY+=m+i+g,this.lastLineHeight=i),this.offsetWidth=f||Math.max((n?this.itemX-d-(t.checkbox?0:u):a)+d,this.offsetWidth)},getAllItems:function(){var t=[];return s(this.chart.series,function(e){var i=e&&e.options;e&&l(i.showInLegend,!n(i.linkedTo)&&void 0,!0)&&(t=t.concat(e.legendItems||("point"===i.legendType?e.data:e)))}),t},adjustMargins:function(t,e){var i=this.chart,r=this.options,o=r.align.charAt(0)+r.verticalAlign.charAt(0)+r.layout.charAt(0);r.floating||s([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(s,h){s.test(o)&&!n(t[h])&&(i[a[h]]=Math.max(i[a[h]],i.legend[(h+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][h]*r[h%2?"x":"y"]+l(r.margin,12)+e[h]))})},render:function(){var t,e,i,r,n=this,o=n.chart,a=o.renderer,l=n.group,c=n.box,u=n.options,p=n.padding;n.itemX=p,n.itemY=n.initialItemY,n.offsetWidth=0,n.lastItemY=0,l||(n.group=l=a.g("legend").attr({zIndex:7}).add(),n.contentGroup=a.g().attr({zIndex:1}).add(l),n.scrollGroup=a.g().add(n.contentGroup)),n.renderTitle(),t=n.getAllItems(),d(t,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),u.reversed&&t.reverse(),n.allItems=t,n.display=e=!!t.length,n.lastLineHeight=0,s(t,function(t){n.renderItem(t)}),i=(u.width||n.offsetWidth)+p,r=n.lastItemY+n.lastLineHeight+n.titleHeight,r=n.handleOverflow(r),r+=p,c||(n.box=c=a.rect().addClass("highcharts-legend-box").attr({r:u.borderRadius}).add(l),c.isNew=!0),c.attr({stroke:u.borderColor,"stroke-width":u.borderWidth||0,fill:u.backgroundColor||"none"}).shadow(u.shadow),0<i&&0<r&&(c[c.isNew?"attr":"animate"](c.crisp.call({},{x:0,y:0,width:i,height:r},c.strokeWidth())),c.isNew=!1),c[e?"show":"hide"](),n.legendWidth=i,n.legendHeight=r,s(t,function(t){n.positionItem(t)}),e&&l.align(h(u,{width:i,height:r}),!0,"spacingBox"),o.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var e,i,r=this,n=(c=this.chart).renderer,o=this.options,a=o.y,h=this.padding,c=c.spacingBox.height+("top"===o.verticalAlign?-a:a)-h,d=(a=o.maxHeight,this.clipRect),u=o.navigation,p=l(u.animation,!0),f=u.arrowSize||12,g=this.nav,m=this.pages,v=this.allItems,y=function(t){"number"==typeof t?d.attr({height:t}):d&&(r.clipRect=d.destroy(),r.contentGroup.clip()),r.contentGroup.div&&(r.contentGroup.div.style.clip=t?"rect("+h+"px,9999px,"+(h+t)+"px,0)":"auto")};return"horizontal"!==o.layout||"middle"===o.verticalAlign||o.floating||(c/=2),a&&(c=Math.min(c,a)),m.length=0,t>c&&!1!==u.enabled?(this.clipHeight=e=Math.max(c-20-this.titleHeight-h,0),this.currentPage=l(this.currentPage,1),this.fullHeight=t,s(v,function(t,r){var n=t._legendItemPos[1];t=Math.round(t.legendItem.getBBox().height);var s=m.length;(!s||n-m[s-1]>e&&(i||n)!==m[s-1])&&(m.push(i||n),s++),r===v.length-1&&n+t-m[s-1]>e&&m.push(n),n!==i&&(i=n)}),d||(d=r.clipRect=n.clipRect(0,h,9999,0),r.contentGroup.clip(d)),y(e),g||(this.nav=g=n.g().attr({zIndex:1}).add(this.group),this.up=n.symbol("triangle",0,0,f,f).on("click",function(){r.scroll(-1,p)}).add(g),this.pager=n.text("",15,10).addClass("highcharts-legend-navigation").css(u.style).add(g),this.down=n.symbol("triangle-down",0,0,f,f).on("click",function(){r.scroll(1,p)}).add(g)),r.scroll(0),t=c):g&&(y(),this.nav=g.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var i=this.pages,r=i.length;t=this.currentPage+t;var n=this.clipHeight,s=this.options.navigation,o=this.pager,a=this.padding;t>r&&(t=r),0<t&&(void 0!==e&&c(e,this.chart),this.nav.attr({translateX:a,translateY:n+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({class:1===t?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),o.attr({text:t+"/"+r}),this.down.attr({x:18+this.pager.getBBox().width,class:t===r?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),this.up.attr({fill:1===t?s.inactiveColor:s.activeColor}).css({cursor:1===t?"default":"pointer"}),this.down.attr({fill:t===r?s.inactiveColor:s.activeColor}).css({cursor:t===r?"default":"pointer"}),this.scrollOffset=-i[t-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=t,this.positionCheckboxes())}},t.LegendSymbolMixin={drawRectangle:function(t,e){var i=t.symbolHeight,r=t.options.squareSymbol;e.legendSymbol=this.chart.renderer.rect(r?(t.symbolWidth-i)/2:0,t.baseline-i+1,r?i:t.symbolWidth,i,l(t.options.symbolRadius,i/2)).addClass("highcharts-point").attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e=this.options,i=e.marker,r=t.symbolWidth,n=t.symbolHeight,s=n/2,o=this.chart.renderer,a=this.legendGroup;t=t.baseline-Math.round(.3*t.fontMetrics.b);var c;c={"stroke-width":e.lineWidth||0},e.dashStyle&&(c.dashstyle=e.dashStyle),this.legendLine=o.path(["M",0,t,"L",r,t]).addClass("highcharts-graph").attr(c).add(a),i&&!1!==i.enabled&&(e=Math.min(l(i.radius,s),s),0===this.symbol.indexOf("url")&&(i=h(i,{width:n,height:n}),e=0),this.legendSymbol=i=o.symbol(this.symbol,r/2-e,t-e,2*e,2*e,i).addClass("highcharts-point").add(a),i.isMarker=!0)}},(/Trident\/7\.0/.test(u.navigator.userAgent)||o)&&p(t.Legend.prototype,"positionItem",function(t,e){var i=this,r=function(){e._legendItemPos&&t.call(i,e)};r(),setTimeout(r)})}(e),function(t){var e=t.addEvent,i=t.animate,r=t.animObject,n=t.attr,s=t.doc,o=t.Axis,a=t.createElement,h=t.defaultOptions,l=t.discardElement,c=t.charts,d=t.css,u=t.defined,p=t.each,f=t.extend,g=t.find,m=t.fireEvent,v=t.grep,y=t.isNumber,b=t.isObject,x=t.isString,w=t.Legend,k=t.marginNames,_=t.merge,S=t.objectEach,M=t.Pointer,A=t.pick,C=t.pInt,T=t.removeEvent,L=t.seriesTypes,P=t.splat,E=t.svg,O=t.syncTimeout,D=t.win,I=t.Chart=function(){this.getArgs.apply(this,arguments)};t.chart=function(t,e,i){return new I(t,e,i)},f(I.prototype,{callbacks:[],getArgs:function(){var t=[].slice.call(arguments);(x(t[0])||t[0].nodeName)&&(this.renderTo=t.shift()),this.init(t[0],t[1])},init:function(i,r){var n,s,o=i.series,a=i.plotOptions||{};i.series=null,n=_(h,i);for(s in n.plotOptions)n.plotOptions[s].tooltip=a[s]&&_(a[s].tooltip)||void 0;n.tooltip.userOptions=i.chart&&i.chart.forExport&&i.tooltip.userOptions||i.tooltip,n.series=i.series=o,this.userOptions=i,s=(i=n.chart).events,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=r,this.isResizing=0,this.options=n,this.axes=[],this.series=[],this.hasCartesianSeries=i.showAxes;var l=this;l.index=c.length,c.push(l),t.chartCount++,s&&S(s,function(t,i){e(l,i,t)}),l.xAxis=[],l.yAxis=[],l.pointCount=l.colorCounter=l.symbolCounter=0,l.firstRender()},initSeries:function(e){var i=this.options.chart;return(i=L[e.type||i.type||i.defaultSeriesType])||t.error(17,!0),(i=new i).init(this,e),i},orderSeries:function(t){var e=this.series;for(t=t||0;t<e.length;t++)e[t]&&(e[t].index=t,e[t].name=e[t].name||"Series "+(e[t].index+1))},isInsidePlot:function(t,e,i){var r=i?e:t;return t=i?t:e,0<=r&&r<=this.plotWidth&&0<=t&&t<=this.plotHeight},redraw:function(e){var i,r,n,s=this.axes,o=this.series,a=this.pointer,h=this.legend,l=this.isDirtyLegend,c=this.hasCartesianSeries,d=this.isDirtyBox,u=this.renderer,g=u.isHidden(),v=[];for(this.setResponsive&&this.setResponsive(!1),t.setAnimation(e,this),g&&this.temporaryDisplay(),this.layOutTitles(),e=o.length;e--;)if((n=o[e]).options.stacking&&(i=!0,n.isDirty)){r=!0;break}if(r)for(e=o.length;e--;)(n=o[e]).options.stacking&&(n.isDirty=!0);p(o,function(t){t.isDirty&&"point"===t.options.legendType&&(t.updateTotals&&t.updateTotals(),l=!0),t.isDirtyData&&m(t,"updatedData")}),l&&h.options.enabled&&(h.render(),this.isDirtyLegend=!1),i&&this.getStacks(),c&&p(s,function(t){t.updateNames(),t.setScale()}),this.getMargins(),c&&(p(s,function(t){t.isDirty&&(d=!0)}),p(s,function(t){var e=t.min+","+t.max;t.extKey!==e&&(t.extKey=e,v.push(function(){m(t,"afterSetExtremes",f(t.eventArgs,t.getExtremes())),delete t.eventArgs})),(d||i)&&t.redraw()})),d&&this.drawChartBox(),m(this,"predraw"),p(o,function(t){(d||t.isDirty)&&t.visible&&t.redraw(),t.isDirtyData=!1}),a&&a.reset(!0),u.draw(),m(this,"redraw"),m(this,"render"),g&&this.temporaryDisplay(!0),p(v,function(t){t.call()})},get:function(t){function e(e){return e.id===t||e.options&&e.options.id===t}var i,r,n=this.series;for(i=g(this.axes,e)||g(this.series,e),r=0;!i&&r<n.length;r++)i=g(n[r].points||[],e);return i},getAxes:function(){var t=this,e=(i=this.options).xAxis=P(i.xAxis||{}),i=i.yAxis=P(i.yAxis||{});p(e,function(t,e){t.index=e,t.isX=!0}),p(i,function(t,e){t.index=e}),e=e.concat(i),p(e,function(e){new o(t,e)})},getSelectedPoints:function(){var t=[];return p(this.series,function(e){t=t.concat(v(e.data||[],function(t){return t.selected}))}),t},getSelectedSeries:function(){return v(this.series,function(t){return t.selected})},setTitle:function(t,e,i){var r,n=this,s=n.options;r=s.title=_({style:{color:"#333333",fontSize:s.isStock?"16px":"18px"}},s.title,t),s=s.subtitle=_({style:{color:"#666666"}},s.subtitle,e),p([["title",t,r],["subtitle",e,s]],function(t,e){var i=t[0],r=n[i],s=t[1];t=t[2],r&&s&&(n[i]=r=r.destroy()),t&&!r&&(n[i]=n.renderer.text(t.text,0,0,t.useHTML).attr({align:t.align,class:"highcharts-"+i,zIndex:t.zIndex||4}).add(),n[i].update=function(t){n.setTitle(!e&&t,e&&t)},n[i].css(t.style))}),n.layOutTitles(i)},layOutTitles:function(t){var e,i=0,r=this.renderer,n=this.spacingBox;p(["title","subtitle"],function(t){var e=this[t],s=this.options[t];t="title"===t?-3:s.verticalAlign?0:i+2;var o;e&&(o=s.style.fontSize,o=r.fontMetrics(o,e).b,e.css({width:(s.width||n.width+s.widthAdjust)+"px"}).align(f({y:t+o},s),!1,"spacingBox"),s.floating||s.verticalAlign||(i=Math.ceil(i+e.getBBox(s.useHTML).height)))},this),e=this.titleOffset!==i,this.titleOffset=i,!this.isDirtyBox&&e&&(this.isDirtyBox=e,this.hasRendered&&A(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var e=(i=this.options.chart).width,i=i.height,r=this.renderTo;u(e)||(this.containerWidth=t.getStyle(r,"width")),u(i)||(this.containerHeight=t.getStyle(r,"height")),this.chartWidth=Math.max(0,e||this.containerWidth||600),this.chartHeight=Math.max(0,t.relativeLength(i,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},temporaryDisplay:function(e){var i=this.renderTo;if(e)for(;i&&i.style;)i.hcOrigStyle&&(t.css(i,i.hcOrigStyle),delete i.hcOrigStyle),i.hcOrigDetached&&(s.body.removeChild(i),i.hcOrigDetached=!1),i=i.parentNode;else for(;i&&i.style&&(s.body.contains(i)||i.parentNode||(i.hcOrigDetached=!0,s.body.appendChild(i)),("none"===t.getStyle(i,"display",!1)||i.hcOricDetached)&&(i.hcOrigStyle={display:i.style.display,height:i.style.height,overflow:i.style.overflow},e={display:"block",overflow:"hidden"},i!==this.renderTo&&(e.height=0),t.css(i,e),i.offsetWidth||i.style.setProperty("display","block","important")),(i=i.parentNode)!==s.body););},setClassName:function(t){this.container.className="highcharts-container "+(t||"")},getContainer:function(){var e,i,r,o=this.options,h=o.chart;e=this.renderTo;var l,d=t.uniqueKey();e||(this.renderTo=e=h.renderTo),x(e)&&(this.renderTo=e=s.getElementById(e)),e||t.error(13,!0),i=C(n(e,"data-highcharts-chart")),y(i)&&c[i]&&c[i].hasRendered&&c[i].destroy(),n(e,"data-highcharts-chart",this.index),e.innerHTML="",h.skipClone||e.offsetWidth||this.temporaryDisplay(),this.getChartSize(),i=this.chartWidth,r=this.chartHeight,l=f({position:"relative",overflow:"hidden",width:i+"px",height:r+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},h.style),this.container=e=a("div",{id:d},l,e),this._cursor=e.style.cursor,this.renderer=new(t[h.renderer]||t.Renderer)(e,i,r,null,h.forExport,o.exporting&&o.exporting.allowHTML),this.setClassName(h.className),this.renderer.setStyle(h.style),this.renderer.chartIndex=this.index},getMargins:function(t){var e=this.spacing,i=this.margin,r=this.titleOffset;this.resetMargins(),r&&!u(i[0])&&(this.plotTop=Math.max(this.plotTop,r+this.options.title.margin+e[0])),this.legend&&this.legend.display&&this.legend.adjustMargins(i,e),this.extraMargin&&(this[this.extraMargin.type]=(this[this.extraMargin.type]||0)+this.extraMargin.value),this.adjustPlotArea&&this.adjustPlotArea(),t||this.getAxisMargins()},getAxisMargins:function(){var t=this,e=t.axisOffset=[0,0,0,0],i=t.margin;t.hasCartesianSeries&&p(t.axes,function(t){t.visible&&t.getOffset()}),p(k,function(r,n){u(i[n])||(t[r]+=e[n])}),t.setChartSize()},reflow:function(e){var i=this,r=i.options.chart,n=i.renderTo,o=u(r.width)&&u(r.height),a=r.width||t.getStyle(n,"width");r=r.height||t.getStyle(n,"height"),n=e?e.target:D;o||i.isPrinting||!a||!r||n!==D&&n!==s||(a===i.containerWidth&&r===i.containerHeight||(clearTimeout(i.reflowTimeout),i.reflowTimeout=O(function(){i.container&&i.setSize(void 0,void 0,!1)},e?100:0)),i.containerWidth=a,i.containerHeight=r)},initReflow:function(){var t,i=this;t=e(D,"resize",function(t){i.reflow(t)}),e(i,"destroy",t)},setSize:function(e,n,s){var o=this,a=o.renderer;o.isResizing+=1,t.setAnimation(s,o),o.oldChartHeight=o.chartHeight,o.oldChartWidth=o.chartWidth,void 0!==e&&(o.options.chart.width=e),void 0!==n&&(o.options.chart.height=n),o.getChartSize(),((e=a.globalAnimation)?i:d)(o.container,{width:o.chartWidth+"px",height:o.chartHeight+"px"},e),o.setChartSize(!0),a.setSize(o.chartWidth,o.chartHeight,s),p(o.axes,function(t){t.isDirty=!0,t.setScale()}),o.isDirtyLegend=!0,o.isDirtyBox=!0,o.layOutTitles(),o.getMargins(),o.redraw(s),o.oldChartHeight=null,m(o,"resize"),O(function(){o&&m(o,"endResize",null,function(){--o.isResizing})},r(e).duration)},setChartSize:function(t){var e,i,r,n,s=this.inverted,o=this.renderer,a=this.chartWidth,h=this.chartHeight,l=this.options.chart,c=this.spacing,d=this.clipOffset;this.plotLeft=e=Math.round(this.plotLeft),this.plotTop=i=Math.round(this.plotTop),this.plotWidth=r=Math.max(0,Math.round(a-e-this.marginRight)),this.plotHeight=n=Math.max(0,Math.round(h-i-this.marginBottom)),this.plotSizeX=s?n:r,this.plotSizeY=s?r:n,this.plotBorderWidth=l.plotBorderWidth||0,this.spacingBox=o.spacingBox={x:c[3],y:c[0],width:a-c[3]-c[1],height:h-c[0]-c[2]},this.plotBox=o.plotBox={x:e,y:i,width:r,height:n},a=2*Math.floor(this.plotBorderWidth/2),s=Math.ceil(Math.max(a,d[3])/2),o=Math.ceil(Math.max(a,d[0])/2),this.clipBox={x:s,y:o,width:Math.floor(this.plotSizeX-Math.max(a,d[1])/2-s),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(a,d[2])/2-o))},t||p(this.axes,function(t){t.setAxisSize(),t.setAxisTranslation()})},resetMargins:function(){var t=this,e=t.options.chart;p(["margin","spacing"],function(i){var r=e[i],n=b(r)?r:[r,r,r,r];p(["Top","Right","Bottom","Left"],function(r,s){t[i][s]=A(e[i+r],n[s])})}),p(k,function(e,i){t[e]=A(t.margin[i],t.spacing[i])}),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e,i=this.options.chart,r=this.renderer,n=this.chartWidth,s=this.chartHeight,o=this.chartBackground,a=this.plotBackground,h=this.plotBorder,l=this.plotBGImage,c=i.backgroundColor,d=i.plotBackgroundColor,u=i.plotBackgroundImage,p=this.plotLeft,f=this.plotTop,g=this.plotWidth,m=this.plotHeight,v=this.plotBox,y=this.clipRect,b=this.clipBox,x="animate";o||(this.chartBackground=o=r.rect().addClass("highcharts-background").add(),x="attr"),e=(t=i.borderWidth||0)+(i.shadow?8:0),c={fill:c||"none"},(t||o["stroke-width"])&&(c.stroke=i.borderColor,c["stroke-width"]=t),o.attr(c).shadow(i.shadow),o[x]({x:e/2,y:e/2,width:n-e-t%2,height:s-e-t%2,r:i.borderRadius}),x="animate",a||(x="attr",this.plotBackground=a=r.rect().addClass("highcharts-plot-background").add()),a[x](v),a.attr({fill:d||"none"}).shadow(i.plotShadow),u&&(l?l.animate(v):this.plotBGImage=r.image(u,p,f,g,m).add()),y?y.animate({width:b.width,height:b.height}):this.clipRect=r.clipRect(b),x="animate",h||(x="attr",this.plotBorder=h=r.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),h.attr({stroke:i.plotBorderColor,"stroke-width":i.plotBorderWidth||0,fill:"none"}),h[x](h.crisp({x:p,y:f,width:g,height:m},-h.strokeWidth())),this.isDirtyBox=!1},propFromSeries:function(){var t,e,i,r=this,n=r.options.chart,s=r.options.series;p(["inverted","angular","polar"],function(o){for(t=L[n.type||n.defaultSeriesType],i=n[o]||t&&t.prototype[o],e=s&&s.length;!i&&e--;)(t=L[s[e].type])&&t.prototype[o]&&(i=!0);r[o]=i})},linkSeries:function(){var t=this,e=t.series;p(e,function(t){t.linkedSeries.length=0}),p(e,function(e){var i=e.options.linkedTo;x(i)&&(i=":previous"===i?t.series[e.index-1]:t.get(i))&&i.linkedParent!==e&&(i.linkedSeries.push(e),e.linkedParent=i,e.visible=A(e.options.visible,i.options.visible,e.visible))})},renderSeries:function(){p(this.series,function(t){t.translate(),t.render()})},renderLabels:function(){var t=this,e=t.options.labels;e.items&&p(e.items,function(i){var r=f(e.style,i.style),n=C(r.left)+t.plotLeft,s=C(r.top)+t.plotTop+12;delete r.left,delete r.top,t.renderer.text(i.html,n,s).attr({zIndex:2}).css(r).add()})},render:function(){var t,e,i,r=this.axes,n=this.renderer,s=this.options;this.setTitle(),this.legend=new w(this,s.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),s=this.plotWidth,t=this.plotHeight=Math.max(this.plotHeight-21,0),p(r,function(t){t.setScale()}),this.getAxisMargins(),e=1.1<s/this.plotWidth,i=1.05<t/this.plotHeight,(e||i)&&(p(r,function(t){(t.horiz&&e||!t.horiz&&i)&&t.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&p(r,function(t){t.visible&&t.render()}),this.seriesGroup||(this.seriesGroup=n.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},addCredits:function(t){var e=this;(t=_(!0,this.options.credits,t)).enabled&&!this.credits&&(this.credits=this.renderer.text(t.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){t.href&&(D.location.href=t.href)}).attr({align:t.position.align,zIndex:8}).css(t.style).add().align(t.position),this.credits.update=function(t){e.credits=e.credits.destroy(),e.addCredits(t)})},destroy:function(){var e,i=this,r=i.axes,n=i.series,s=i.container,o=s&&s.parentNode;for(m(i,"destroy"),i.renderer.forExport?t.erase(c,i):c[i.index]=void 0,t.chartCount--,i.renderTo.removeAttribute("data-highcharts-chart"),T(i),e=r.length;e--;)r[e]=r[e].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),e=n.length;e--;)n[e]=n[e].destroy();p("title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" "),function(t){var e=i[t];e&&e.destroy&&(i[t]=e.destroy())}),s&&(s.innerHTML="",T(s),o&&l(s)),S(i,function(t,e){delete i[e]})},isReadyToRender:function(){var t=this;return!(!E&&D==D.top&&"complete"!==s.readyState)||(s.attachEvent("onreadystatechange",function(){s.detachEvent("onreadystatechange",t.firstRender),"complete"===s.readyState&&t.firstRender()}),!1)},firstRender:function(){var t=this,e=t.options;t.isReadyToRender()&&(t.getContainer(),m(t,"init"),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),p(e.series||[],function(e){t.initSeries(e)}),t.linkSeries(),m(t,"beforeRender"),M&&(t.pointer=new M(t,e)),t.render(),!t.renderer.imgCount&&t.onload&&t.onload(),t.temporaryDisplay(!0))},onload:function(){p([this.callback].concat(this.callbacks),function(t){t&&void 0!==this.index&&t.apply(this,[this])},this),m(this,"load"),m(this,"render"),u(this.index)&&!1!==this.options.chart.reflow&&this.initReflow(),this.onload=null}})}(e),function(t){var e,i=t.each,r=t.extend,n=t.erase,s=t.fireEvent,o=t.format,a=t.isArray,h=t.isNumber,l=t.pick,c=t.removeEvent;t.Point=e=function(){},t.Point.prototype={init:function(t,e,i){return this.series=t,this.color=t.color,this.applyOptions(e,i),t.options.colorByPoint?(e=t.options.colors||t.chart.options.colors,this.color=this.color||e[t.colorCounter],e=e.length,i=t.colorCounter,t.colorCounter++,t.colorCounter===e&&(t.colorCounter=0)):i=t.colorIndex,this.colorIndex=l(this.colorIndex,i),t.chart.pointCount++,this},applyOptions:function(t,i){var n=this.series,s=n.options.pointValKey||n.pointValKey;return t=e.prototype.optionsToObject.call(this,t),r(this,t),this.options=this.options?r(this.options,t):t,t.group&&delete this.group,s&&(this.y=this[s]),this.isNull=l(this.isValid&&!this.isValid(),null===this.x||!h(this.y,!0)),this.selected&&(this.state="select"),"name"in this&&void 0===i&&n.xAxis&&n.xAxis.hasNames&&(this.x=n.xAxis.nameToX(this)),void 0===this.x&&n&&(this.x=void 0===i?n.autoIncrement(this):i),this},optionsToObject:function(t){var e={},i=this.series,r=i.options.keys,n=r||i.pointArrayMap||["y"],s=n.length,o=0,l=0;if(h(t)||null===t)e[n[0]]=t;else if(a(t))for(!r&&t.length>s&&("string"===(i=typeof t[0])?e.name=t[0]:"number"===i&&(e.x=t[0]),o++);l<s;)r&&void 0===t[o]||(e[n[l]]=t[o]),o++,l++;else"object"==typeof t&&(e=t,t.dataLabels&&(i._hasPointLabels=!0),t.marker&&(i._hasPointMarkers=!0));return e},getClassName:function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},getZone:function(){var t,e=(i=this.series).zones,i=i.zoneAxis||"y",r=0;for(t=e[r];this[i]>=t.value;)t=e[++r];return t&&t.color&&!this.options.color&&(this.color=t.color),t},destroy:function(){var t,e=this.series.chart,i=e.hoverPoints;e.pointCount--,i&&(this.setState(),n(i,this),i.length||(e.hoverPoints=null)),this===e.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(c(this),this.destroyElements()),this.legendItem&&e.legend.destroyItem(this);for(t in this)this[t]=null},destroyElements:function(){for(var t,e=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],i=6;i--;)t=e[i],this[t]&&(this[t]=this[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(t){var e=this.series,r=e.tooltipOptions,n=l(r.valueDecimals,""),s=r.valuePrefix||"",a=r.valueSuffix||"";return i(e.pointArrayMap||["y"],function(e){e="{point."+e,(s||a)&&(t=t.replace(e+"}",s+e+"}"+a)),t=t.replace(e+"}",e+":,."+n+"f}")}),o(t,{point:this,series:this.series})},firePointEvent:function(t,e,i){var r=this,n=this.series.options;(n.point.events[t]||r.options&&r.options.events&&r.options.events[t])&&this.importEvents(),"click"===t&&n.allowPointSelect&&(i=function(t){r.select&&r.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),s(this,t,e,i)},visible:!0}}(e),function(t){var e=t.addEvent,i=t.animObject,r=t.arrayMax,n=t.arrayMin,s=t.correctFloat,o=t.Date,a=t.defaultOptions,h=t.defaultPlotOptions,l=t.defined,c=t.each,d=t.erase,u=t.extend,p=t.fireEvent,f=t.grep,g=t.isArray,m=t.isNumber,v=t.isString,y=t.merge,b=t.objectEach,x=t.pick,w=t.removeEvent,k=t.splat,_=t.SVGElement,S=t.syncTimeout,M=t.win;t.Series=t.seriesType("line",null,{lineWidth:2,allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{lineWidth:0,lineColor:"#ffffff",radius:4,states:{hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":t.numberFormat(this.y,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},{isCartesian:!0,pointClass:t.Point,sorted:!0,requireSorting:!0,directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],coll:"series",init:function(t,i){var r,n,s=this,o=t.series;s.chart=t,s.options=i=s.setOptions(i),s.linkedSeries=[],s.bindAxes(),u(s,{name:i.name,state:"",visible:!1!==i.visible,selected:!0===i.selected}),r=i.events,b(r,function(t,i){e(s,i,t)}),(r&&r.click||i.point&&i.point.events&&i.point.events.click||i.allowPointSelect)&&(t.runTrackerClick=!0),s.getColor(),s.getSymbol(),c(s.parallelArrays,function(t){s[t+"Data"]=[]}),s.setData(i.data,!1),s.isCartesian&&(t.hasCartesianSeries=!0),o.length&&(n=o[o.length-1]),s._i=x(n&&n._i,-1)+1,t.orderSeries(this.insert(o))},insert:function(t){var e,i=this.options.index;if(m(i)){for(e=t.length;e--;)if(i>=x(t[e].options.index,t[e]._i)){t.splice(e+1,0,this);break}-1===e&&t.unshift(this),e+=1}else t.push(this);return x(e,t.length-1)},bindAxes:function(){var e,i=this,r=i.options,n=i.chart;c(i.axisTypes||[],function(s){c(n[s],function(t){e=t.options,(r[s]===e.index||void 0!==r[s]&&r[s]===e.id||void 0===r[s]&&0===e.index)&&(i.insert(t.series),i[s]=t,t.isDirty=!0)}),i[s]||i.optionalAxis===s||t.error(18,!0)})},updateParallelArrays:function(t,e){var i=t.series,r=arguments,n=m(e)?function(r){var n="y"===r&&i.toYData?i.toYData(t):t[r];i[r+"Data"][e]=n}:function(t){Array.prototype[e].apply(i[t+"Data"],Array.prototype.slice.call(r,2))};c(i.parallelArrays,n)},autoIncrement:function(){var t,e=this.options,i=this.xIncrement,r=e.pointIntervalUnit;i=x(i,e.pointStart,0);return this.pointInterval=t=x(this.pointInterval,e.pointInterval,1),r&&(e=new o(i),"day"===r?e=+e[o.hcSetDate](e[o.hcGetDate]()+t):"month"===r?e=+e[o.hcSetMonth](e[o.hcGetMonth]()+t):"year"===r&&(e=+e[o.hcSetFullYear](e[o.hcGetFullYear]()+t)),t=e-i),this.xIncrement=i+t,i},setOptions:function(t){var e=this.chart,i=e.options,r=i.plotOptions,n=(e.userOptions||{}).plotOptions||{},s=r[this.type];return this.userOptions=t,e=y(s,r.series,t),this.tooltipOptions=y(a.tooltip,a.plotOptions.series&&a.plotOptions.series.tooltip,a.plotOptions[this.type].tooltip,i.tooltip.userOptions,r.series&&r.series.tooltip,r[this.type].tooltip,t.tooltip),this.stickyTracking=x(t.stickyTracking,n[this.type]&&n[this.type].stickyTracking,n.series&&n.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||e.stickyTracking),null===s.marker&&delete e.marker,this.zoneAxis=e.zoneAxis,t=this.zones=(e.zones||[]).slice(),!e.negativeColor&&!e.negativeFillColor||e.zones||t.push({value:e[this.zoneAxis+"Threshold"]||e.threshold||0,className:"highcharts-negative",color:e.negativeColor,fillColor:e.negativeFillColor}),t.length&&l(t[t.length-1].value)&&t.push({color:this.color,fillColor:this.fillColor}),e},getCyclic:function(t,e,i){var r,n=this.chart,s=this.userOptions,o=t+"Index",a=t+"Counter",h=i?i.length:x(n.options.chart[t+"Count"],n[t+"Count"]);e||(r=x(s[o],s["_"+o]),l(r)||(n.series.length||(n[a]=0),s["_"+o]=r=n[a]%h,n[a]+=1),i&&(e=i[r])),void 0!==r&&(this[o]=r),this[t]=e},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||h[this.type].color,this.chart.options.colors)},getSymbol:function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},drawLegendSymbol:t.LegendSymbolMixin.drawLineMarker,setData:function(e,i,r,n){var s,o=this,a=o.points,h=a&&a.length||0,l=o.options,d=o.chart,u=null,p=o.xAxis,f=l.turboThreshold,y=this.xData,b=this.yData,w=(s=o.pointArrayMap)&&s.length;if(e=e||[],s=e.length,i=x(i,!0),!1!==n&&s&&h===s&&!o.cropped&&!o.hasGroupedData&&o.visible)c(e,function(t,e){a[e].update&&t!==l.data[e]&&a[e].update(t,!1,null,!1)});else{if(o.xIncrement=null,o.colorCounter=0,c(this.parallelArrays,function(t){o[t+"Data"].length=0}),f&&s>f){for(r=0;null===u&&r<s;)u=e[r],r++;if(m(u))for(r=0;r<s;r++)y[r]=this.autoIncrement(),b[r]=e[r];else if(g(u))if(w)for(r=0;r<s;r++)u=e[r],y[r]=u[0],b[r]=u.slice(1,w+1);else for(r=0;r<s;r++)u=e[r],y[r]=u[0],b[r]=u[1];else t.error(12)}else for(r=0;r<s;r++)void 0!==e[r]&&(u={series:o},o.pointClass.prototype.applyOptions.apply(u,[e[r]]),o.updateParallelArrays(u,r));for(b&&v(b[0])&&t.error(14,!0),o.data=[],o.options.data=o.userOptions.data=e,r=h;r--;)a[r]&&a[r].destroy&&a[r].destroy();p&&(p.minRange=p.userMinRange),o.isDirty=d.isDirtyBox=!0,o.isDirtyData=!!a,r=!1}"point"===l.legendType&&(this.processData(),this.generatePoints()),i&&d.redraw(r)},processData:function(e){var i,r=this.xData,n=this.yData,s=r.length;i=0;var o,a,h,l=this.xAxis;h=(f=this.options).cropThreshold;var c,d,u=this.getExtremesFromAll||f.getExtremesFromAll,p=this.isCartesian,f=l&&l.val2lin,g=l&&l.isLog,m=this.requireSorting;if(p&&!this.isDirty&&!l.isDirty&&!this.yAxis.isDirty&&!e)return!1;for(l&&(e=l.getExtremes(),c=e.min,d=e.max),p&&this.sorted&&!u&&(!h||s>h||this.forceCrop)&&(r[s-1]<c||r[0]>d?(r=[],n=[]):(r[0]<c||r[s-1]>d)&&(i=this.cropData(this.xData,this.yData,c,d),r=i.xData,n=i.yData,i=i.start,o=!0)),h=r.length||1;--h;)0<(s=g?f(r[h])-f(r[h-1]):r[h]-r[h-1])&&(void 0===a||s<a)?a=s:0>s&&m&&(t.error(15),m=!1);this.cropped=o,this.cropStart=i,this.processedXData=r,this.processedYData=n,this.closestPointRange=a},cropData:function(t,e,i,r){var n,s=t.length,o=0,a=s,h=x(this.cropShoulder,1);for(n=0;n<s;n++)if(t[n]>=i){o=Math.max(0,n-h);break}for(i=n;i<s;i++)if(t[i]>r){a=i+h;break}return{xData:t.slice(o,a),yData:e.slice(o,a),start:o,end:a}},generatePoints:function(){var t,e,i,r,n=(u=this.options).data,s=this.data,o=this.processedXData,a=this.processedYData,h=this.pointClass,l=o.length,c=this.cropStart||0,d=this.hasGroupedData,u=u.keys,p=[];for(s||d||(s=[],s.length=n.length,s=this.data=s),u&&d&&(this.options.keys=!1),r=0;r<l;r++)e=c+r,d?(i=(new h).init(this,[o[r]].concat(k(a[r]))),i.dataGroup=this.groupMap[r]):(i=s[e])||void 0===n[e]||(s[e]=i=(new h).init(this,n[e],o[r])),i&&(i.index=e,p[r]=i);if(this.options.keys=u,s&&(l!==(t=s.length)||d))for(r=0;r<t;r++)r!==c||d||(r+=l),s[r]&&(s[r].destroyElements(),s[r].plotX=void 0);this.data=s,this.points=p},getExtremes:function(t){var e,i,s,o,a,h=this.yAxis,l=this.processedXData,c=[],d=0,u=(e=this.xAxis.getExtremes()).min,p=e.max;for(e=(t=t||this.stackedYData||this.processedYData||[]).length,a=0;a<e;a++)if(s=l[a],o=t[a],i=(m(o,!0)||g(o))&&(!h.positiveValuesOnly||o.length||0<o),s=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(l[a+1]||s)>=u&&(l[a-1]||s)<=p,i&&s)if(i=o.length)for(;i--;)null!==o[i]&&(c[d++]=o[i]);else c[d++]=o;this.dataMin=n(c),this.dataMax=r(c)},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t,e,i,r,n=this.options,o=n.stacking,a=this.xAxis,h=a.categories,c=this.yAxis,d=this.points,u=d.length,p=!!this.modifyValue,f=n.pointPlacement,g="between"===f||m(f),v=n.threshold,y=n.startFromThreshold?v:0,b=Number.MAX_VALUE;for("between"===f&&(f=.5),m(f)&&(f*=x(n.pointRange||a.pointRange)),n=0;n<u;n++){var w=d[n],k=w.x,_=w.y;e=w.low;var S,M=o&&c.stacks[(this.negStacks&&_<(y?0:v)?"-":"")+this.stackKey];c.positiveValuesOnly&&null!==_&&0>=_&&(w.isNull=!0),w.plotX=t=s(Math.min(Math.max(-1e5,a.translate(k,0,0,0,1,f,"flags"===this.type)),1e5)),o&&this.visible&&!w.isNull&&M&&M[k]&&(r=this.getStackIndicator(r,k,this.index),S=M[k],_=S.points[r.key],e=_[0],_=_[1],e===y&&r.key===M[k].base&&(e=x(v,c.min)),c.positiveValuesOnly&&0>=e&&(e=null),w.total=w.stackTotal=S.total,w.percentage=S.total&&w.y/S.total*100,w.stackY=_,S.setOffset(this.pointXOffset||0,this.barW||0)),w.yBottom=l(e)?c.translate(e,0,1,0,1):null,p&&(_=this.modifyValue(_,w)),w.plotY=e="number"==typeof _&&1/0!==_?Math.min(Math.max(-1e5,c.translate(_,0,1,0,1)),1e5):void 0,w.isInside=void 0!==e&&0<=e&&e<=c.len&&0<=t&&t<=a.len,w.clientX=g?s(a.translate(k,0,0,0,1,f)):t,w.negative=w.y<(v||0),w.category=h&&void 0!==h[w.x]?h[w.x]:w.x,w.isNull||(void 0!==i&&(b=Math.min(b,Math.abs(t-i))),i=t),w.zone=this.zones.length&&w.getZone()}this.closestPointRangePx=b},getValidPoints:function(t,e){var i=this.chart;return f(t||this.points||[],function(t){return!(e&&!i.isInsidePlot(t.plotX,t.plotY,i.inverted))&&!t.isNull})},setClip:function(t){var e=this.chart,i=this.options,r=e.renderer,n=e.inverted,s=this.clipBox,o=s||e.clipBox,a=this.sharedClipKey||["_sharedClip",t&&t.duration,t&&t.easing,o.height,i.xAxis,i.yAxis].join(),h=e[a],l=e[a+"m"];h||(t&&(o.width=0,n&&(o.x=e.plotSizeX),e[a+"m"]=l=r.clipRect(n?e.plotSizeX+99:-99,n?-e.plotLeft:-e.plotTop,99,n?e.chartWidth:e.chartHeight)),e[a]=h=r.clipRect(o),h.count={length:0}),t&&!h.count[this.index]&&(h.count[this.index]=!0,h.count.length+=1),!1!==i.clip&&(this.group.clip(t||s?h:e.clipRect),this.markerGroup.clip(l),this.sharedClipKey=a),t||(h.count[this.index]&&(delete h.count[this.index],--h.count.length),0===h.count.length&&a&&e[a]&&(s||(e[a]=e[a].destroy()),e[a+"m"]&&(e[a+"m"]=e[a+"m"].destroy())))},animate:function(t){var e,r=this.chart,n=i(this.options.animation);t?this.setClip(n):(e=this.sharedClipKey,(t=r[e])&&t.animate({width:r.plotSizeX,x:0},n),r[e+"m"]&&r[e+"m"].animate({width:r.plotSizeX+99,x:0},n),this.animate=null)},afterAnimate:function(){this.setClip(),p(this,"afterAnimate"),this.finishedAnimating=!0},drawPoints:function(){var t,e,i,r,n,s,o,a,h=this.points,l=this.chart,c=this.options.marker,d=this[this.specialGroup]||this.markerGroup,u=x(c.enabled,!!this.xAxis.isRadial||null,this.closestPointRangePx>=2*c.radius);if(!1!==c.enabled||this._hasPointMarkers)for(t=0;t<h.length;t++)e=h[t],r=e.graphic,n=e.marker||{},s=!!e.marker,i=u&&void 0===n.enabled||n.enabled,o=e.isInside,i&&!e.isNull?(i=x(n.symbol,this.symbol),e.hasImage=0===i.indexOf("url"),a=this.markerAttribs(e,e.selected&&"select"),r?r[o?"show":"hide"](!0).animate(a):o&&(0<a.width||e.hasImage)&&(e.graphic=r=l.renderer.symbol(i,a.x,a.y,a.width,a.height,s?n:c).add(d)),r&&r.attr(this.pointAttribs(e,e.selected&&"select")),r&&r.addClass(e.getClassName(),!0)):r&&(e.graphic=r.destroy())},markerAttribs:function(t,e){var i=this.options.marker,r=t.marker||{},n=x(r.radius,i.radius);return e&&(i=i.states[e],e=r.states&&r.states[e],n=x(e&&e.radius,i&&i.radius,n+(i&&i.radiusPlus||0))),t.hasImage&&(n=0),t={x:Math.floor(t.plotX)-n,y:t.plotY-n},n&&(t.width=t.height=2*n),t},pointAttribs:function(t,e){var i=this.options.marker,r=(a=t&&t.options)&&a.marker||{},n=this.color,s=a&&a.color,o=t&&t.color,a=x(r.lineWidth,i.lineWidth);return t=t&&t.zone&&t.zone.color,n=s||t||o||n,t=r.fillColor||i.fillColor||n,n=r.lineColor||i.lineColor||n,e&&(i=i.states[e],e=r.states&&r.states[e]||{},a=x(e.lineWidth,i.lineWidth,a+x(e.lineWidthPlus,i.lineWidthPlus,0)),t=e.fillColor||i.fillColor||t,n=e.lineColor||i.lineColor||n),{stroke:n,"stroke-width":a,fill:t}},destroy:function(){var t,e,i,r,n=this,s=n.chart,o=/AppleWebKit\/533/.test(M.navigator.userAgent),a=n.data||[];for(p(n,"destroy"),w(n),c(n.axisTypes||[],function(t){(r=n[t])&&r.series&&(d(r.series,n),r.isDirty=r.forceRedraw=!0)}),n.legendItem&&n.chart.legend.destroyItem(n),e=a.length;e--;)(i=a[e])&&i.destroy&&i.destroy();n.points=null,clearTimeout(n.animationTimeout),b(n,function(e,i){e instanceof _&&!e.survive&&(t=o&&"group"===i?"hide":"destroy",e[t]())}),s.hoverSeries===n&&(s.hoverSeries=null),d(s.series,n),s.orderSeries(),b(n,function(t,e){delete n[e]})},getGraphPath:function(t,e,i){var r,n,s=this,o=s.options,a=o.step,h=[],d=[];return t=t||s.points,(r=t.reversed)&&t.reverse(),(a={right:1,center:2}[a]||a&&3)&&r&&(a=4-a),!o.connectNulls||e||i||(t=this.getValidPoints(t)),c(t,function(r,c){var u=r.plotX,p=r.plotY,f=t[c-1];(r.leftCliff||f&&f.rightCliff)&&!i&&(n=!0),r.isNull&&!l(e)&&0<c?n=!o.connectNulls:r.isNull&&!e?n=!0:(0===c||n?c=["M",r.plotX,r.plotY]:s.getPointSpline?c=s.getPointSpline(t,r,c):a?(c=1===a?["L",f.plotX,p]:2===a?["L",(f.plotX+u)/2,f.plotY,"L",(f.plotX+u)/2,p]:["L",u,f.plotY]).push("L",u,p):c=["L",u,p],d.push(r.x),a&&d.push(r.x),h.push.apply(h,c),n=!1)}),h.xMap=d,s.graphPath=h},drawGraph:function(){var t=this,e=this.options,i=(this.gappedPath||this.getGraphPath).call(this),r=[["graph","highcharts-graph",e.lineColor||this.color,e.dashStyle]];c(this.zones,function(i,n){r.push(["zone-graph-"+n,"highcharts-graph highcharts-zone-graph-"+n+" "+(i.className||""),i.color||t.color,i.dashStyle||e.dashStyle])}),c(r,function(r,n){var s=r[0],o=t[s];o?(o.endX=t.preventGraphAnimation?null:i.xMap,o.animate({d:i})):i.length&&(t[s]=t.chart.renderer.path(i).addClass(r[1]).attr({zIndex:1}).add(t.group),o={stroke:r[2],"stroke-width":e.lineWidth,fill:t.fillGraph&&t.color||"none"},r[3]?o.dashstyle=r[3]:"square"!==e.linecap&&(o["stroke-linecap"]=o["stroke-linejoin"]="round"),o=t[s].attr(o).shadow(2>n&&e.shadow)),o&&(o.startX=i.xMap,o.isArea=i.isArea)})},applyZones:function(){var t,e,i,r,n,s,o,a,h,l=this,d=this.chart,u=d.renderer,p=this.zones,f=this.clips||[],g=this.graph,m=this.area,v=Math.max(d.chartWidth,d.chartHeight),y=this[(this.zoneAxis||"y")+"Axis"],b=d.inverted,w=!1;p.length&&(g||m)&&y&&void 0!==y.min&&(n=y.reversed,s=y.horiz,g&&g.hide(),m&&m.hide(),r=y.getExtremes(),c(p,function(c,p){t=n?s?d.plotWidth:0:s?0:y.toPixels(r.min),t=Math.min(Math.max(x(e,t),0),v),e=Math.min(Math.max(Math.round(y.toPixels(x(c.value,r.max),!0)),0),v),w&&(t=e=y.toPixels(r.max)),o=Math.abs(t-e),a=Math.min(t,e),h=Math.max(t,e),y.isXAxis?(i={x:b?h:a,y:0,width:o,height:v},s||(i.x=d.plotHeight-i.x)):(i={x:0,y:b?h:a,width:v,height:o},s&&(i.y=d.plotWidth-i.y)),b&&u.isVML&&(i=y.isXAxis?{x:0,y:n?a:h,height:i.width,width:d.chartWidth}:{x:i.y-d.plotLeft-d.spacingBox.x,y:0,width:i.height,height:d.chartHeight}),f[p]?f[p].animate(i):(f[p]=u.clipRect(i),g&&l["zone-graph-"+p].clip(f[p]),m&&l["zone-area-"+p].clip(f[p])),w=c.value>r.max}),this.clips=f)},invertGroups:function(t){function i(){c(["group","markerGroup"],function(e){n[e]&&(s.renderer.isVML&&n[e].attr({width:n.yAxis.len,height:n.xAxis.len}),n[e].width=n.yAxis.len,n[e].height=n.xAxis.len,n[e].invert(t))})}var r,n=this,s=n.chart;n.xAxis&&(r=e(s,"resize",i),e(n,"destroy",r),i(),n.invertGroups=i)},plotGroup:function(t,e,i,r,n){var s=this[t],o=!s;return o&&(this[t]=s=this.chart.renderer.g().attr({zIndex:r||.1}).add(n)),s.addClass("highcharts-"+e+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(l(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(s.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),s.attr({visibility:i})[o?"attr":"animate"](this.getPlotBox()),s},getPlotBox:function(){var t=this.chart,e=this.xAxis,i=this.yAxis;return t.inverted&&(e=i,i=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:i?i.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,r=e.chart,n=e.options,s=!!e.animate&&r.renderer.isSVG&&i(n.animation).duration,o=e.visible?"inherit":"hidden",a=n.zIndex,h=e.hasRendered,l=r.seriesGroup,c=r.inverted;t=e.plotGroup("group","series",o,a,l),e.markerGroup=e.plotGroup("markerGroup","markers",o,a,l),s&&e.animate(!0),t.inverted=!!e.isCartesian&&c,e.drawGraph&&(e.drawGraph(),e.applyZones()),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&!1!==e.options.enableMouseTracking&&e.drawTracker(),e.invertGroups(c),!1===n.clip||e.sharedClipKey||h||t.clip(r.clipRect),s&&e.animate(),h||(e.animationTimeout=S(function(){e.afterAnimate()},s)),e.isDirty=!1,e.hasRendered=!0},redraw:function(){var t=this.chart,e=this.isDirty||this.isDirtyData,i=this.group,r=this.xAxis,n=this.yAxis;i&&(t.inverted&&i.attr({width:t.plotWidth,height:t.plotHeight}),i.animate({translateX:x(r&&r.left,t.plotLeft),translateY:x(n&&n.top,t.plotTop)})),this.translate(),this.render(),e&&delete this.kdTree},kdAxisArray:["clientX","plotY"],searchPoint:function(t,e){var i=this.xAxis,r=this.yAxis,n=this.chart.inverted;return this.searchKDTree({clientX:n?i.len-t.chartY+i.pos:t.chartX-i.pos,plotY:n?r.len-t.chartX+r.pos:t.chartY-r.pos},e)},buildKDTree:function(){function t(i,r,n){var s,o;if(o=i&&i.length)return s=e.kdAxisArray[r%n],i.sort(function(t,e){return t[s]-e[s]}),o=Math.floor(o/2),{point:i[o],left:t(i.slice(0,o),r+1,n),right:t(i.slice(o+1),r+1,n)}}this.buildingKdTree=!0;var e=this,i=-1<e.options.findNearestPointBy.indexOf("y")?2:1;delete e.kdTree,S(function(){e.kdTree=t(e.getValidPoints(null,!e.directTouch),i,i),e.buildingKdTree=!1},e.options.kdNow?0:1)},searchKDTree:function(t,e){function i(t,e,a,h){var c,d,u=e.point,p=r.kdAxisArray[a%h],f=u;return d=l(t[n])&&l(u[n])?Math.pow(t[n]-u[n],2):null,c=l(t[s])&&l(u[s])?Math.pow(t[s]-u[s],2):null,c=(d||0)+(c||0),u.dist=l(c)?Math.sqrt(c):Number.MAX_VALUE,u.distX=l(d)?Math.sqrt(d):Number.MAX_VALUE,p=t[p]-u[p],c=0>p?"left":"right",d=0>p?"right":"left",e[c]&&(c=i(t,e[c],a+1,h),f=c[o]<f[o]?c:u),e[d]&&Math.sqrt(p*p)<f[o]&&(t=i(t,e[d],a+1,h),f=t[o]<f[o]?t:f),f}var r=this,n=this.kdAxisArray[0],s=this.kdAxisArray[1],o=e?"distX":"dist";if(e=-1<r.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(),this.kdTree)return i(t,this.kdTree,e,e)}})}(e),function(t){var e=t.Axis,i=t.Chart,r=t.correctFloat,n=t.defined,s=t.destroyObjectProperties,o=t.each,a=t.format,h=t.objectEach,l=t.pick,c=t.Series;t.StackItem=function(t,e,i,r,n){var s=t.chart.inverted;this.axis=t,this.isNegative=i,this.options=e,this.x=r,this.total=null,this.points={},this.stack=n,this.rightCliff=this.leftCliff=0,this.alignOptions={align:e.align||(s?i?"left":"right":"center"),verticalAlign:e.verticalAlign||(s?"middle":i?"bottom":"top"),y:l(e.y,s?4:i?14:-6),x:l(e.x,s?i?-6:6:0)},this.textAlign=e.textAlign||(s?i?"right":"left":"center")},t.StackItem.prototype={destroy:function(){s(this,this.axis)},render:function(t){var e=this.options,i=(i=e.format)?a(i,this):e.formatter.call(this);this.label?this.label.attr({text:i,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(i,null,null,e.useHTML).css(e.style).attr({align:this.textAlign,rotation:e.rotation,visibility:"hidden"}).add(t)},setOffset:function(t,e){var i=(n=this.axis).chart,r=n.translate(n.usePercentage?100:this.total,0,0,0,1),n=n.translate(0);n=Math.abs(r-n);t=i.xAxis[0].translate(this.x)+t,r=this.getStackBox(i,this,t,r,e,n),(e=this.label)&&(e.align(this.alignOptions,null,r),r=e.alignAttr,e[!1===this.options.crop||i.isInsidePlot(r.x,r.y)?"show":"hide"](!0))},getStackBox:function(t,e,i,r,n,s){var o=e.axis.reversed,a=t.inverted;return t=t.plotHeight,e=e.isNegative&&!o||!e.isNegative&&o,{x:a?e?r:r-s:i,y:a?t-i-n:e?t-r-s:t-r,width:a?s:n,height:a?n:s}}},i.prototype.getStacks=function(){var t=this;o(t.yAxis,function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),o(t.series,function(e){!e.options.stacking||!0!==e.visible&&!1!==t.options.chart.ignoreHiddenSeries||(e.stackKey=e.type+l(e.options.stack,""))})},e.prototype.buildStacks=function(){var t,e=this.series,i=l(this.options.reversedStacks,!0),r=e.length;if(!this.isXAxis){for(this.usePercentage=!1,t=r;t--;)e[i?t:r-t-1].setStackedPoints();for(t=0;t<r;t++)e[t].modifyStacks()}},e.prototype.renderStackTotals=function(){var t=this.chart,e=t.renderer,i=this.stacks,r=this.stackTotalGroup;r||(this.stackTotalGroup=r=e.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),r.translate(t.plotLeft,t.plotTop),h(i,function(t){h(t,function(t){t.render(r)})})},e.prototype.resetStacks=function(){var t=this,e=t.stacks;t.isXAxis||h(e,function(e){h(e,function(i,r){i.touched<t.stacksTouched?(i.destroy(),delete e[r]):(i.total=null,i.cum=null)})})},e.prototype.cleanStacks=function(){var t;this.isXAxis||(this.oldStacks&&(t=this.stacks=this.oldStacks),h(t,function(t){h(t,function(t){t.cum=t.total})}))},c.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var e,i,s,o,a,h,c,d=this.processedXData,u=this.processedYData,p=[],f=u.length,g=(y=this.options).threshold,m=y.startFromThreshold?g:0,v=y.stack,y=y.stacking,b=this.stackKey,x="-"+b,w=this.negStacks,k=this.yAxis,_=k.stacks,S=k.oldStacks;for(k.stacksTouched+=1,a=0;a<f;a++)h=d[a],c=u[a],e=this.getStackIndicator(e,h,this.index),o=e.key,s=(i=w&&c<(m?0:g))?x:b,_[s]||(_[s]={}),_[s][h]||(S[s]&&S[s][h]?(_[s][h]=S[s][h],_[s][h].total=null):_[s][h]=new t.StackItem(k,k.options.stackLabels,i,h,v)),s=_[s][h],null!==c&&(s.points[o]=s.points[this.index]=[l(s.cum,m)],n(s.cum)||(s.base=o),s.touched=k.stacksTouched,0<e.index&&!1===this.singleStacks&&(s.points[o][0]=s.points[this.index+","+h+",0"][0])),"percent"===y?(i=i?b:x,w&&_[i]&&_[i][h]?(i=_[i][h],s.total=i.total=Math.max(i.total,s.total)+Math.abs(c)||0):s.total=r(s.total+(Math.abs(c)||0))):s.total=r(s.total+(c||0)),s.cum=l(s.cum,m)+(c||0),null!==c&&(s.points[o].push(s.cum),p[a]=s.cum);"percent"===y&&(k.usePercentage=!0),this.stackedYData=p,k.oldStacks={}}},c.prototype.modifyStacks=function(){var t,e=this,i=e.stackKey,r=e.yAxis.stacks,n=e.processedXData,s=e.options.stacking;e[s+"Stacker"]&&o([i,"-"+i],function(i){for(var o,a,h=n.length;h--;)o=n[h],t=e.getStackIndicator(t,o,e.index,i),(a=(o=r[i]&&r[i][o])&&o.points[t.key])&&e[s+"Stacker"](a,o,h)})},c.prototype.percentStacker=function(t,e,i){e=e.total?100/e.total:0,t[0]=r(t[0]*e),t[1]=r(t[1]*e),this.stackedYData[i]=t[1]},c.prototype.getStackIndicator=function(t,e,i,r){return!n(t)||t.x!==e||r&&t.key!==r?t={x:e,index:0,key:r}:t.index++,t.key=[i,e,t.index].join(),t}}(e),function(t){var e=t.addEvent,i=t.animate,r=t.Axis,n=t.createElement,s=t.css,o=t.defined,a=t.each,h=t.erase,l=t.extend,c=t.fireEvent,d=t.inArray,u=t.isNumber,p=t.isObject,f=t.isArray,g=t.merge,m=t.objectEach,v=t.pick,y=t.Point,b=t.Series,x=t.seriesTypes,w=t.setAnimation,k=t.splat;l(t.Chart.prototype,{addSeries:function(t,e,i){var r,n=this;return t&&(e=v(e,!0),c(n,"addSeries",{options:t},function(){r=n.initSeries(t),n.isDirtyLegend=!0,n.linkSeries(),e&&n.redraw(i)})),r},addAxis:function(t,e,i,n){var s=e?"xAxis":"yAxis",o=this.options;return t=g(t,{index:this[s].length,isX:e}),e=new r(this,t),o[s]=k(o[s]||{}),o[s].push(t),v(i,!0)&&this.redraw(n),e},showLoading:function(t){var r=this,o=r.options,a=r.loadingDiv,h=o.loading,c=function(){a&&s(a,{left:r.plotLeft+"px",top:r.plotTop+"px",width:r.plotWidth+"px",height:r.plotHeight+"px"})};a||(r.loadingDiv=a=n("div",{className:"highcharts-loading highcharts-loading-hidden"},null,r.container),r.loadingSpan=n("span",{className:"highcharts-loading-inner"},null,a),e(r,"redraw",c)),a.className="highcharts-loading",r.loadingSpan.innerHTML=t||o.lang.loading,s(a,l(h.style,{zIndex:10})),s(r.loadingSpan,h.labelStyle),r.loadingShown||(s(a,{opacity:0,display:""}),i(a,{opacity:h.style.opacity||.5},{duration:h.showDuration||0})),r.loadingShown=!0,c()},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&(e.className="highcharts-loading highcharts-loading-hidden",i(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){s(e,{display:"none"})}})),this.loadingShown=!1},propsRequireDirtyBox:"backgroundColor borderColor borderWidth margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions tooltip".split(" "),update:function(t,e,i){var r,n,s=this,h={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle"},l=t.chart,c=[];l&&(g(!0,s.options.chart,l),"className"in l&&s.setClassName(l.className),("inverted"in l||"polar"in l)&&(s.propFromSeries(),r=!0),"alignTicks"in l&&(r=!0),m(l,function(t,e){-1!==d("chart."+e,s.propsRequireUpdateSeries)&&(n=!0),-1!==d(e,s.propsRequireDirtyBox)&&(s.isDirtyBox=!0)}),"style"in l&&s.renderer.setStyle(l.style)),t.colors&&(this.options.colors=t.colors),t.plotOptions&&g(!0,this.options.plotOptions,t.plotOptions),m(t,function(t,e){s[e]&&"function"==typeof s[e].update?s[e].update(t,!1):"function"==typeof s[h[e]]&&s[h[e]](t),"chart"!==e&&-1!==d(e,s.propsRequireUpdateSeries)&&(n=!0)}),a("xAxis yAxis zAxis series colorAxis pane".split(" "),function(e){t[e]&&(a(k(t[e]),function(t,r){(r=o(t.id)&&s.get(t.id)||s[e][r])&&r.coll===e&&(r.update(t,!1),i&&(r.touched=!0)),!r&&i&&("series"===e?s.addSeries(t,!1).touched=!0:"xAxis"!==e&&"yAxis"!==e||(s.addAxis(t,"xAxis"===e,!1).touched=!0))}),i&&a(s[e],function(t){t.touched?delete t.touched:c.push(t)}))}),a(c,function(t){t.remove(!1)}),r&&a(s.axes,function(t){t.update({},!1)}),n&&a(s.series,function(t){t.update({},!1)}),t.loading&&g(!0,s.options.loading,t.loading),r=l&&l.width,l=l&&l.height,u(r)&&r!==s.chartWidth||u(l)&&l!==s.chartHeight?s.setSize(r,l):v(e,!0)&&s.redraw()},setSubtitle:function(t){this.setTitle(void 0,t)}}),l(y.prototype,{update:function(t,e,i,r){function n(){o.applyOptions(t),null===o.y&&h&&(o.graphic=h.destroy()),p(t,!0)&&(h&&h.element&&t&&t.marker&&void 0!==t.marker.symbol&&(o.graphic=h.destroy()),t&&t.dataLabels&&o.dataLabel&&(o.dataLabel=o.dataLabel.destroy()),o.connector&&(o.connector=o.connector.destroy())),s=o.index,a.updateParallelArrays(o,s),c.data[s]=p(c.data[s],!0)||p(t,!0)?o.options:t,a.isDirty=a.isDirtyData=!0,!a.fixedBox&&a.hasCartesianSeries&&(l.isDirtyBox=!0),"point"===c.legendType&&(l.isDirtyLegend=!0),e&&l.redraw(i)}var s,o=this,a=o.series,h=o.graphic,l=a.chart,c=a.options;e=v(e,!0),!1===r?n():o.firePointEvent("update",{options:t},n)},remove:function(t,e){this.series.removePoint(d(this,this.series.data),t,e)}}),l(b.prototype,{addPoint:function(t,e,i,r){var n,s,o,a,h=this.options,l=this.data,c=this.chart,d=(d=this.xAxis)&&d.hasNames&&d.names,u=h.data,p=this.xData;if(e=v(e,!0),n={series:this},this.pointClass.prototype.applyOptions.apply(n,[t]),a=n.x,o=p.length,this.requireSorting&&a<p[o-1])for(s=!0;o&&p[o-1]>a;)o--;this.updateParallelArrays(n,"splice",o,0,0),this.updateParallelArrays(n,o),d&&n.name&&(d[a]=n.name),u.splice(o,0,t),s&&(this.data.splice(o,0,null),this.processData()),"point"===h.legendType&&this.generatePoints(),i&&(l[0]&&l[0].remove?l[0].remove(!1):(l.shift(),this.updateParallelArrays(n,"shift"),u.shift())),this.isDirtyData=this.isDirty=!0,e&&c.redraw(r)},removePoint:function(t,e,i){var r=this,n=r.data,s=n[t],o=r.points,a=r.chart,h=function(){o&&o.length===n.length&&o.splice(t,1),n.splice(t,1),r.options.data.splice(t,1),r.updateParallelArrays(s||{series:r},"splice",t,1),s&&s.destroy(),r.isDirty=!0,r.isDirtyData=!0,e&&a.redraw()};w(i,a),e=v(e,!0),s?s.firePointEvent("remove",null,h):h()},remove:function(t,e,i){function r(){n.destroy(),s.isDirtyLegend=s.isDirtyBox=!0,s.linkSeries(),v(t,!0)&&s.redraw(e)}var n=this,s=n.chart;!1!==i?c(n,"remove",null,r):r()},update:function(t,e){var i,r=this,n=r.chart,s=r.userOptions,o=r.oldType||r.type,h=t.type||s.type||n.options.chart.type,c=x[o].prototype,d=["group","markerGroup","dataLabelsGroup"],u=["navigatorSeries","baseSeries"],p=r.finishedAnimating&&{animation:!1};if(Object.keys&&"data"===Object.keys(t).toString())return this.setData(t.data,e);(h&&h!==o||void 0!==t.zIndex)&&(d.length=0),u=d.concat(u),a(u,function(t){u[t]=r[t],delete r[t]}),t=g(s,p,{index:r.index,pointStart:r.xData[0]},{data:r.options.data},t),r.remove(!1,null,!1);for(i in c)r[i]=void 0;l(r,x[h||o].prototype),a(u,function(t){r[t]=u[t]}),r.init(n,t),r.oldType=o,n.linkSeries(),v(e,!0)&&n.redraw(!1)}}),l(r.prototype,{update:function(t,e){var i=this.chart;t=i.options[this.coll][this.options.index]=g(this.userOptions,t),this.destroy(!0),this.init(i,l(t,{events:void 0})),i.isDirtyBox=!0,v(e,!0)&&i.redraw()},remove:function(t){for(var e=this.chart,i=this.coll,r=this.series,n=r.length;n--;)r[n]&&r[n].remove(!1);h(e.axes,this),h(e[i],this),f(e.options[i])?e.options[i].splice(this.options.index,1):delete e.options[i],a(e[i],function(t,e){t.options.index=e}),this.destroy(),e.isDirtyBox=!0,v(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}})}(e),function(t){var e=t.color,i=t.each,r=t.map,n=t.pick,s=t.Series;(0,t.seriesType)("area","line",{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function(e){var s,o,a=[],h=[],l=this.xAxis,c=this.yAxis,d=c.stacks[this.stackKey],u={},p=this.index,f=c.series,g=f.length,m=n(c.options.reversedStacks,!0)?1:-1;if(e=e||this.points,this.options.stacking){for(o=0;o<e.length;o++)e[o].leftNull=e[o].rightNull=null,u[e[o].x]=e[o];t.objectEach(d,function(t,e){null!==t.total&&h.push(e)}),h.sort(function(t,e){return t-e}),s=r(f,function(){return this.visible}),i(h,function(t,e){var r,n,f=0;if(u[t]&&!u[t].isNull)a.push(u[t]),i([-1,1],function(i){var a=1===i?"rightNull":"leftNull",l=0,c=d[h[e+i]];if(c)for(o=p;0<=o&&o<g;)(r=c.points[o])||(o===p?u[t][a]=!0:s[o]&&(n=d[t].points[o])&&(l-=n[1]-n[0])),o+=m;u[t][1===i?"rightCliff":"leftCliff"]=l});else{for(o=p;0<=o&&o<g;){if(r=d[t].points[o]){f=r[1];break}o+=m}f=c.translate(f,0,1,0,1),a.push({isNull:!0,plotX:l.translate(t,0,0,0,1),x:t,plotY:f,yBottom:f})}})}return a},getGraphPath:function(t){var e,i,r,o,a=s.prototype.getGraphPath,h=(m=this.options).stacking,l=this.yAxis,c=[],d=[],u=this.index,p=l.stacks[this.stackKey],f=m.threshold,g=l.getThreshold(m.threshold),m=m.connectNulls||"percent"===h,v=function(e,i,n){var s=t[e];e=h&&p[s.x].points[u];var o=s[n+"Null"]||0;n=s[n+"Cliff"]||0;var a,m;s=!0;n||o?(a=(o?e[0]:e[1])+n,m=e[0]+n,s=!!o):!h&&t[i]&&t[i].isNull&&(a=m=f),void 0!==a&&(d.push({plotX:r,plotY:null===a?g:l.getThreshold(a),isNull:s,isCliff:!0}),c.push({plotX:r,plotY:null===m?g:l.getThreshold(m),doCurve:!1}))};for(t=t||this.points,h&&(t=this.getStackPoints(t)),e=0;e<t.length;e++)i=t[e].isNull,r=n(t[e].rectPlotX,t[e].plotX),o=n(t[e].yBottom,g),(!i||m)&&(m||v(e,e-1,"left"),i&&!h&&m||(d.push(t[e]),c.push({x:e,plotX:r,plotY:o})),m||v(e,e+1,"right"));return e=a.call(this,d,!0,!0),c.reversed=!0,(i=a.call(this,c,!0,!0)).length&&(i[0]="L"),i=e.concat(i),a=a.call(this,d,!1,m),i.xMap=e.xMap,this.areaPath=i,a},drawGraph:function(){this.areaPath=[],s.prototype.drawGraph.apply(this);var t=this,r=this.areaPath,o=this.options,a=[["area","highcharts-area",this.color,o.fillColor]];i(this.zones,function(e,i){a.push(["zone-area-"+i,"highcharts-area highcharts-zone-area-"+i+" "+e.className,e.color||t.color,e.fillColor||o.fillColor])}),i(a,function(i){var s=i[0],a=t[s];a?(a.endX=t.preventGraphAnimation?null:r.xMap,a.animate({d:r})):(a=t[s]=t.chart.renderer.path(r).addClass(i[1]).attr({fill:n(i[3],e(i[2]).setOpacity(n(o.fillOpacity,.75)).get()),zIndex:0}).add(t.group),a.isArea=!0),a.startX=r.xMap,a.shiftUnit=o.step?2:1})},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle})}(e),function(t){var e=t.pick;(t=t.seriesType)("spline","line",{},{getPointSpline:function(t,i,r){var n=i.plotX,s=i.plotY,o=t[r-1];r=t[r+1];var a,h,l,c;if(o&&!o.isNull&&!1!==o.doCurve&&!i.isCliff&&r&&!r.isNull&&!1!==r.doCurve&&!i.isCliff){t=o.plotY,l=r.plotX;var d=0;h=(1.5*s+t)/2.5,c=(1.5*s+(r=r.plotY))/2.5,(l=(1.5*n+l)/2.5)!==(a=(1.5*n+o.plotX)/2.5)&&(d=(c-h)*(l-n)/(l-a)+s-c),c+=d,(h+=d)>t&&h>s?(h=Math.max(t,s),c=2*s-h):h<t&&h<s&&(h=Math.min(t,s),c=2*s-h),c>r&&c>s?(c=Math.max(r,s),h=2*s-c):c<r&&c<s&&(c=Math.min(r,s),h=2*s-c),i.rightContX=l,i.rightContY=c}return i=["C",e(o.rightContX,o.plotX),e(o.rightContY,o.plotY),e(a,n),e(h,s),n,s],o.rightContX=o.rightContY=null,i}})}(e),function(t){var e=t.seriesTypes.area.prototype;(0,t.seriesType)("areaspline","spline",t.defaultPlotOptions.area,{getStackPoints:e.getStackPoints,getGraphPath:e.getGraphPath,drawGraph:e.drawGraph,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle})}(e),function(t){var e=t.animObject,i=t.color,r=t.each,n=t.extend,s=t.isNumber,o=t.merge,a=t.pick,h=t.Series,l=t.seriesType,c=t.svg;l("column","line",{borderRadius:0,crisp:!0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){h.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&r(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t,e=this,i=e.options,n=e.xAxis,s=e.yAxis,o=n.reversed,h={},l=0;!1===i.grouping?l=1:r(e.chart.series,function(i){var r,n=i.options,o=i.yAxis;i.type!==e.type||!i.visible&&e.chart.options.chart.ignoreHiddenSeries||s.len!==o.len||s.pos!==o.pos||(n.stacking?(t=i.stackKey,void 0===h[t]&&(h[t]=l++),r=h[t]):!1!==n.grouping&&(r=l++),i.columnIndex=r)});var c=Math.min(Math.abs(n.transA)*(n.ordinalSlope||i.pointRange||n.closestPointRange||n.tickInterval||1),n.len),d=c*i.groupPadding,u=(c-2*d)/(l||1);i=Math.min(i.maxPointWidth||n.len,a(i.pointWidth,u*(1-2*i.pointPadding)));return e.columnMetrics={width:i,offset:(u-i)/2+(d+((e.columnIndex||0)+(o?1:0))*u-c/2)*(o?-1:1)},e.columnMetrics},crispCol:function(t,e,i,r){var n=this.chart,s=-((o=this.borderWidth)%2?.5:0),o=o%2?.5:1;return n.inverted&&n.renderer.isVML&&(o+=1),this.options.crisp&&(i=Math.round(t+i)+s,t=Math.round(t)+s,i-=t),r=Math.round(e+r)+o,s=.5>=Math.abs(e)&&.5<r,e=Math.round(e)+o,r-=e,s&&r&&(--e,r+=1),{x:t,y:e,width:i,height:r}},translate:function(){var t=this,e=t.chart,i=t.options,n=t.dense=2>t.closestPointRange*t.xAxis.transA,s=(n=t.borderWidth=a(i.borderWidth,n?0:1),t.yAxis),o=i.threshold,l=t.translatedThreshold=s.getThreshold(o),c=a(i.minPointLength,5),d=t.getColumnMetrics(),u=d.width,p=t.barW=Math.max(u,1+2*n),f=t.pointXOffset=d.offset;e.inverted&&(l-=.5),i.pointPadding&&(p=Math.ceil(p)),h.prototype.translate.apply(t),r(t.points,function(i){var r,n=a(i.yBottom,l),h=999+Math.abs(n),d=(h=Math.min(Math.max(-h,i.plotY),s.len+h),i.plotX+f),g=p,m=Math.min(h,n),v=Math.max(h,n)-m;c&&Math.abs(v)<c&&(v=c,r=!s.reversed&&!i.negative||s.reversed&&i.negative,i.y===o&&t.dataMax<=o&&s.min<o&&(r=!r),m=Math.abs(m-l)>c?n-c:l-(r?c:0)),i.barX=d,i.pointWidth=u,i.tooltipPos=e.inverted?[s.len+s.pos-e.plotLeft-h,t.xAxis.len-d-g/2,v]:[d+g/2,h+s.pos-e.plotTop,v],i.shapeType="rect",i.shapeArgs=t.crispCol.apply(t,i.isNull?[d,l,g,0]:[d,m,g,v])})},getSymbol:t.noop,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,drawGraph:function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},pointAttribs:function(t,e){var r,n=this.options;r=(c=this.pointAttrToOptions||{}).stroke||"borderColor";var s=c["stroke-width"]||"borderWidth",a=t&&t.color||this.color,h=t&&t[r]||n[r]||this.color||a,l=t&&t[s]||n[s]||this[s]||0,c=n.dashStyle;return t&&this.zones.length&&(a=t.getZone(),a=t.options.color||a&&a.color||this.color),e&&(t=o(n.states[e],t.options.states&&t.options.states[e]||{}),e=t.brightness,a=t.color||void 0!==e&&i(a).brighten(t.brightness).get()||a,h=t[r]||h,l=t[s]||l,c=t.dashStyle||c),r={fill:a,stroke:h,"stroke-width":l},c&&(r.dashstyle=c),r},drawPoints:function(){var t,e=this,i=this.chart,n=e.options,a=i.renderer,h=n.animationLimit||250;r(e.points,function(r){var l=r.graphic;s(r.plotY)&&null!==r.y?(t=r.shapeArgs,l?l[i.pointCount<h?"animate":"attr"](o(t)):r.graphic=l=a[r.shapeType](t).add(r.group||e.group),n.borderRadius&&l.attr({r:n.borderRadius}),l.attr(e.pointAttribs(r,r.selected&&"select")).shadow(n.shadow,null,n.stacking&&!n.borderRadius),l.addClass(r.getClassName(),!0)):l&&(r.graphic=l.destroy())})},animate:function(t){var i,r=this,s=this.yAxis,o=r.options,a=this.chart.inverted,h={},l=a?"translateX":"translateY";c&&(t?(h.scaleY=.001,t=Math.min(s.pos+s.len,Math.max(s.pos,s.toPixels(o.threshold))),a?h.translateX=t-s.len:h.translateY=t,r.group.attr(h)):(i=r.group.attr(l),r.group.animate({scaleY:1},n(e(r.options.animation),{step:function(t,e){h[l]=i+e.pos*(s.pos-i),r.group.attr(h)}})),r.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&r(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),h.prototype.remove.apply(t,arguments)}})}(e),function(t){(t=t.seriesType)("bar","column",null,{inverted:!0})}(e),function(t){var e=t.Series;(t=t.seriesType)("scatter","line",{lineWidth:0,findNearestPointBy:"xy",marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.85em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,drawGraph:function(){this.options.lineWidth&&e.prototype.drawGraph.call(this)}})}(e),function(t){var e=t.deg2rad,i=t.isNumber,r=t.pick,n=t.relativeLength;t.CenteredSeriesMixin={getCenter:function(){var t,e,i=this.options,s=this.chart,o=2*(i.slicedOffset||0),a=s.plotWidth-2*o,h=(s=s.plotHeight-2*o,i.center),l=(h=[r(h[0],"50%"),r(h[1],"50%"),i.size||"100%",i.innerSize||0],Math.min(a,s));for(t=0;4>t;++t)e=h[t],i=2>t||2===t&&/%$/.test(e),h[t]=n(e,[a,s,l,h[2]][t])+(i?o:0);return h[3]>h[2]&&(h[3]=h[2]),h},getStartAndEndRadians:function(t,r){return t=i(t)?t:0,r=i(r)&&r>t&&360>r-t?r:t+360,{start:e*(t+-90),end:e*(r+-90)}}}}(e),function(t){var e=t.addEvent,i=t.CenteredSeriesMixin,r=t.defined,n=t.each,s=t.extend,o=i.getStartAndEndRadians,a=t.inArray,h=t.noop,l=t.pick,c=t.Point,d=t.Series,u=t.seriesType,p=t.setAnimation;u("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,states:{hover:{brightness:.1,shadow:!1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:t.seriesTypes.column.prototype.pointAttribs,animate:function(t){var e=this,i=e.points,r=e.startAngleRad;t||(n(i,function(t){var i=t.graphic,n=t.shapeArgs;i&&(i.attr({r:t.startR||e.center[3]/2,start:r,end:r}),i.animate({r:n.r,start:n.start,end:n.end},e.options.animation))}),e.animate=null)},updateTotals:function(){var t,e,i=0,r=this.points,n=r.length,s=this.options.ignoreHiddenPoint;for(t=0;t<n;t++)e=r[t],i+=s&&!e.visible?0:e.isNull?0:e.y;for(this.total=i,t=0;t<n;t++)e=r[t],e.percentage=0<i&&(e.visible||!s)?e.y/i*100:0,e.total=i},generatePoints:function(){d.prototype.generatePoints.call(this),this.updateTotals()},translate:function(t){this.generatePoints();var e,i,r,n,s,a,h=0,c=(m=this.options).slicedOffset,d=c+(m.borderWidth||0),u=o(m.startAngle,m.endAngle),p=this.startAngleRad=u.start,f=(u=(this.endAngleRad=u.end)-p,this.points),g=m.dataLabels.distance,m=m.ignoreHiddenPoint,v=f.length;for(t||(this.center=t=this.getCenter()),this.getX=function(e,i,n){return r=Math.asin(Math.min((e-t[1])/(t[2]/2+n.labelDistance),1)),t[0]+(i?-1:1)*Math.cos(r)*(t[2]/2+n.labelDistance)},s=0;s<v;s++)(a=f[s]).labelDistance=l(a.options.dataLabels&&a.options.dataLabels.distance,g),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,a.labelDistance),e=p+h*u,m&&!a.visible||(h+=a.percentage/100),i=p+h*u,a.shapeType="arc",a.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:Math.round(1e3*e)/1e3,end:Math.round(1e3*i)/1e3},(r=(i+e)/2)>1.5*Math.PI?r-=2*Math.PI:r<-Math.PI/2&&(r+=2*Math.PI),a.slicedTranslation={translateX:Math.round(Math.cos(r)*c),translateY:Math.round(Math.sin(r)*c)},i=Math.cos(r)*t[2]/2,n=Math.sin(r)*t[2]/2,a.tooltipPos=[t[0]+.7*i,t[1]+.7*n],a.half=r<-Math.PI/2||r>Math.PI/2?1:0,a.angle=r,e=Math.min(d,a.labelDistance/5),a.labelPos=[t[0]+i+Math.cos(r)*a.labelDistance,t[1]+n+Math.sin(r)*a.labelDistance,t[0]+i+Math.cos(r)*e,t[1]+n+Math.sin(r)*e,t[0]+i,t[1]+n,0>a.labelDistance?"center":a.half?"right":"left",r]},drawGraph:null,drawPoints:function(){var t,e,i,r,o=this,a=o.chart.renderer,h=o.options.shadow;h&&!o.shadowGroup&&(o.shadowGroup=a.g("shadow").add(o.group)),n(o.points,function(n){if(e=n.graphic,n.isNull)e&&(n.graphic=e.destroy());else{r=n.shapeArgs,t=n.getTranslate();var l=n.shadowGroup;h&&!l&&(l=n.shadowGroup=a.g("shadow").add(o.shadowGroup)),l&&l.attr(t),i=o.pointAttribs(n,n.selected&&"select"),e?e.setRadialReference(o.center).attr(i).animate(s(r,t)):(n.graphic=e=a[n.shapeType](r).setRadialReference(o.center).attr(t).add(o.group),n.visible||e.attr({visibility:"hidden"}),e.attr(i).attr({"stroke-linejoin":"round"}).shadow(h,l)),e.addClass(n.getClassName())}})},searchPoint:h,sortByAngle:function(t,e){t.sort(function(t,i){return void 0!==t.angle&&(i.angle-t.angle)*e})},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,getCenter:i.getCenter,getSymbol:h},{init:function(){c.prototype.init.apply(this,arguments);var t,i=this;return i.name=l(i.name,"Slice"),t=function(t){i.slice("select"===t.type)},e(i,"select",t),e(i,"unselect",t),i},isValid:function(){return t.isNumber(this.y,!0)&&0<=this.y},setVisible:function(t,e){var i=this,r=i.series,s=r.chart,o=r.options.ignoreHiddenPoint;e=l(e,o),t!==i.visible&&(i.visible=i.options.visible=t=void 0===t?!i.visible:t,r.options.data[a(i,r.data)]=i.options,n(["graphic","dataLabel","connector","shadowGroup"],function(e){i[e]&&i[e][t?"show":"hide"](!0)}),i.legendItem&&s.legend.colorizeItem(i,t),t||"hover"!==i.state||i.setState(""),o&&(r.isDirty=!0),e&&s.redraw())},slice:function(t,e,i){var n=this.series;p(i,n.chart),l(e,!0),this.sliced=this.options.sliced=r(t)?t:!this.sliced,n.options.data[a(this,n.data)]=this.options,this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},getTranslate:function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},haloPath:function(t){var e=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(e.x,e.y,e.r+t,e.r+t,{innerR:this.shapeArgs.r,start:e.start,end:e.end})}})}(e),function(t){var e=t.addEvent,i=t.arrayMax,r=t.defined,n=t.each,s=t.extend,o=t.format,a=t.map,h=t.merge,l=t.noop,c=t.pick,d=t.relativeLength,u=t.Series,p=t.seriesTypes,f=t.stableSort;t.distribute=function(t,e){function i(t,e){return t.target-e.target}var r,s,o=!0,h=t,l=[];for(s=0,r=t.length;r--;)s+=t[r].size;if(s>e){for(f(t,function(t,e){return(e.rank||0)-(t.rank||0)}),s=r=0;s<=e;)s+=t[r].size,r++;l=t.splice(r-1,t.length)}for(f(t,i),t=a(t,function(t){return{size:t.size,targets:[t.target],align:c(t.align,.5)}});o;){for(r=t.length;r--;)o=t[r],s=(Math.min.apply(0,o.targets)+Math.max.apply(0,o.targets))/2,o.pos=Math.min(Math.max(0,s-o.size*o.align),e-o.size);for(r=t.length,o=!1;r--;)0<r&&t[r-1].pos+t[r-1].size>t[r].pos&&(t[r-1].size+=t[r].size,t[r-1].targets=t[r-1].targets.concat(t[r].targets),t[r-1].align=.5,t[r-1].pos+t[r-1].size>e&&(t[r-1].pos=e-t[r-1].size),t.splice(r,1),o=!0)}r=0,n(t,function(t){var e=0;n(t.targets,function(){h[r].pos=t.pos+e,e+=h[r].size,r++})}),h.push.apply(h,l),f(h,i)},u.prototype.drawDataLabels=function(){var i,s,a,l,d=this,u=d.options,p=u.dataLabels,f=d.points,g=d.hasRendered||0,m=c(p.defer,!!u.animation),v=d.chart.renderer;(p.enabled||d._hasPointLabels)&&(d.dlProcessOptions&&d.dlProcessOptions(p),l=d.plotGroup("dataLabelsGroup","data-labels",m&&!g?"hidden":"visible",p.zIndex||6),m&&(l.attr({opacity:+g}),g||e(d,"afterAnimate",function(){d.visible&&l.show(!0),l[u.animation?"animate":"attr"]({opacity:1},{duration:200})})),s=p,n(f,function(e){var n,f,g,m,y=e.dataLabel,b=e.connector,x=!y;i=e.dlOptions||e.options&&e.options.dataLabels,(n=c(i&&i.enabled,s.enabled)&&!e.isNull)&&(n=!0===function(t,e){var i=e.filter;return!i||(e=i.operator,t=t[i.property],i=i.value,">"===e&&t>i||"<"===e&&t<i||">="===e&&t>=i||"<="===e&&t<=i||"=="===e&&t==i||"==="===e&&t===i)}(e,i||p)),n&&(p=h(s,i),f=e.getLabelConfig(),m=p[e.formatPrefix+"Format"]||p.format,a=r(m)?o(m,f):(p[e.formatPrefix+"Formatter"]||p.formatter).call(f,p),m=p.style,f=p.rotation,m.color=c(p.color,m.color,d.color,"#000000"),"contrast"===m.color&&(e.contrastColor=v.getContrast(e.color||d.color),m.color=p.inside||0>c(e.labelDistance,p.distance)||u.stacking?e.contrastColor:"#000000"),u.cursor&&(m.cursor=u.cursor),g={fill:p.backgroundColor,stroke:p.borderColor,"stroke-width":p.borderWidth,r:p.borderRadius||0,rotation:f,padding:p.padding,zIndex:1},t.objectEach(g,function(t,e){void 0===t&&delete g[e]})),!y||n&&r(a)?n&&r(a)&&(y?g.text=a:(y=e.dataLabel=v[f?"text":"label"](a,0,-9999,p.shape,null,null,p.useHTML,null,"data-label")).addClass("highcharts-data-label-color-"+e.colorIndex+" "+(p.className||"")+(p.useHTML?"highcharts-tracker":"")),y.attr(g),y.css(m).shadow(p.shadow),y.added||y.add(l),d.alignDataLabel(e,y,p,null,x)):(e.dataLabel=y=y.destroy(),b&&(e.connector=b.destroy()))}))},u.prototype.alignDataLabel=function(t,e,i,r,n){var o,a=this.chart,h=a.inverted,l=c(t.dlBox&&t.dlBox.centerX,t.plotX,-9999),d=c(t.plotY,-9999),u=e.getBBox(),p=i.rotation,f=i.align,g=this.visible&&(t.series.forceDL||a.isInsidePlot(l,Math.round(d),h)||r&&a.isInsidePlot(l,h?r.x+1:r.y+r.height-1,h)),m="justify"===c(i.overflow,"justify");g&&(o=i.style.fontSize,o=a.renderer.fontMetrics(o,e).b,r=s({x:h?this.yAxis.len-d:l,y:Math.round(h?this.xAxis.len-l:d),width:0,height:0},r),s(i,{width:u.width,height:u.height}),p?(m=!1,l=a.renderer.rotCorr(o,p),l={x:r.x+i.x+r.width/2+l.x,y:r.y+i.y+{top:0,middle:.5,bottom:1}[i.verticalAlign]*r.height},e[n?"attr":"animate"](l).attr({align:f}),d=(p+720)%360,d=180<d&&360>d,"left"===f?l.y-=d?u.height:0:"center"===f?(l.x-=u.width/2,l.y-=u.height/2):"right"===f&&(l.x-=u.width,l.y-=d?0:u.height)):(e.align(i,null,r),l=e.alignAttr),m?t.isLabelJustified=this.justifyDataLabel(e,i,l,u,r,n):c(i.crop,!0)&&(g=a.isInsidePlot(l.x,l.y)&&a.isInsidePlot(l.x+u.width,l.y+u.height)),i.shape&&!p)&&e[n?"attr":"animate"]({anchorX:h?a.plotWidth-t.plotY:t.plotX,anchorY:h?a.plotHeight-t.plotX:t.plotY}),g||(e.attr({y:-9999}),e.placed=!1)},u.prototype.justifyDataLabel=function(t,e,i,r,n,s){var o,a,h=this.chart,l=e.align,c=e.verticalAlign,d=t.box?0:t.padding||0;return 0>(o=i.x+d)&&("right"===l?e.align="left":e.x=-o,a=!0),(o=i.x+r.width-d)>h.plotWidth&&("left"===l?e.align="right":e.x=h.plotWidth-o,a=!0),0>(o=i.y+d)&&("bottom"===c?e.verticalAlign="top":e.y=-o,a=!0),(o=i.y+r.height-d)>h.plotHeight&&("top"===c?e.verticalAlign="bottom":e.y=h.plotHeight-o,a=!0),a&&(t.placed=!s,t.align(e,null,n)),a},p.pie&&(p.pie.prototype.drawDataLabels=function(){var e,s,o,a,h,l,d,p,f,g,m=this,v=m.data,y=m.chart,b=m.options.dataLabels,x=c(b.connectorPadding,10),w=c(b.connectorWidth,1),k=y.plotWidth,_=y.plotHeight,S=m.center,M=S[2]/2,A=S[1],C=[[],[]],T=[0,0,0,0];m.visible&&(b.enabled||m._hasPointLabels)&&(n(v,function(t){t.dataLabel&&t.visible&&t.dataLabel.shortened&&(t.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),t.dataLabel.shortened=!1)}),u.prototype.drawDataLabels.apply(m),n(v,function(t){t.dataLabel&&t.visible&&(C[t.half].push(t),t.dataLabel._pos=null)}),n(C,function(i,s){var u,v,w,C=i.length,L=[];if(C)for(m.sortByAngle(i,s-.5),0<m.maxLabelDistance&&(u=Math.max(0,A-M-m.maxLabelDistance),v=Math.min(A+M+m.maxLabelDistance,y.plotHeight),n(i,function(t){0<t.labelDistance&&t.dataLabel&&(t.top=Math.max(0,A-M-t.labelDistance),t.bottom=Math.min(A+M+t.labelDistance,y.plotHeight),w=t.dataLabel.getBBox().height||21,t.positionsIndex=L.push({target:t.labelPos[1]-t.top+w/2,size:w,rank:t.y})-1)}),t.distribute(L,v+w-u)),g=0;g<C;g++)e=i[g],v=e.positionsIndex,h=e.labelPos,o=e.dataLabel,f=!1===e.visible?"hidden":"inherit",p=u=h[1],L&&r(L[v])&&(void 0===L[v].pos?f="hidden":(l=L[v].size,p=e.top+L[v].pos)),delete e.positionIndex,d=b.justify?S[0]+(s?-1:1)*(M+e.labelDistance):m.getX(p<e.top+2||p>e.bottom-2?u:p,s,e),o._attr={visibility:f,align:h[6]},o._pos={x:d+b.x+({left:x,right:-x}[h[6]]||0),y:p+b.y-10},h.x=d,h.y=p,c(b.crop,!0)&&(a=o.getBBox().width,u=null,d-a<x?(u=Math.round(a-d+x),T[3]=Math.max(u,T[3])):d+a>k-x&&(u=Math.round(d+a-k+x),T[1]=Math.max(u,T[1])),0>p-l/2?T[0]=Math.max(Math.round(l/2-p),T[0]):p+l/2>_&&(T[2]=Math.max(Math.round(p+l/2-_),T[2])),o.sideOverflow=u)}),0===i(T)||this.verifyDataLabelOverflow(T))&&(this.placeDataLabels(),w&&n(this.points,function(t){var e;s=t.connector,(o=t.dataLabel)&&o._pos&&t.visible&&0<t.labelDistance?(f=o._attr.visibility,(e=!s)&&(t.connector=s=y.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+t.colorIndex).add(m.dataLabelsGroup),s.attr({"stroke-width":w,stroke:b.connectorColor||t.color||"#666666"})),s[e?"attr":"animate"]({d:m.connectorPath(t.labelPos)}),s.attr("visibility",f)):s&&(t.connector=s.destroy())}))},p.pie.prototype.connectorPath=function(t){var e=t.x,i=t.y;return c(this.options.dataLabels.softConnector,!0)?["M",e+("left"===t[6]?5:-5),i,"C",e,i,2*t[2]-t[4],2*t[3]-t[5],t[2],t[3],"L",t[4],t[5]]:["M",e+("left"===t[6]?5:-5),i,"L",t[2],t[3],"L",t[4],t[5]]},p.pie.prototype.placeDataLabels=function(){n(this.points,function(t){var e=t.dataLabel;e&&t.visible&&((t=e._pos)?(e.sideOverflow&&(e._attr.width=e.getBBox().width-e.sideOverflow,e.css({width:e._attr.width+"px",textOverflow:"ellipsis"}),e.shortened=!0),e.attr(e._attr),e[e.moved?"animate":"attr"](t),e.moved=!0):e&&e.attr({y:-9999}))},this)},p.pie.prototype.alignDataLabel=l,p.pie.prototype.verifyDataLabelOverflow=function(t){var e,i=this.center,r=this.options,n=r.center,s=r.minSize||80,o=null!==r.size;return o||(null!==n[0]?e=Math.max(i[2]-Math.max(t[1],t[3]),s):(e=Math.max(i[2]-t[1]-t[3],s),i[0]+=(t[3]-t[1])/2),null!==n[1]?e=Math.max(Math.min(e,i[2]-Math.max(t[0],t[2])),s):(e=Math.max(Math.min(e,i[2]-t[0]-t[2]),s),i[1]+=(t[0]-t[2])/2),e<i[2]?(i[2]=e,i[3]=Math.min(d(r.innerSize||0,e),e),this.translate(i),this.drawDataLabels&&this.drawDataLabels()):o=!0),o}),p.column&&(p.column.prototype.alignDataLabel=function(t,e,i,r,n){var s=this.chart.inverted,o=t.series,a=t.dlBox||t.shapeArgs,l=c(t.below,t.plotY>c(this.translatedThreshold,o.yAxis.len)),d=c(i.inside,!!this.options.stacking);a&&(0>(r=h(a)).y&&(r.height+=r.y,r.y=0),0<(a=r.y+r.height-o.yAxis.len)&&(r.height-=a),s&&(r={x:o.yAxis.len-r.y-r.height,y:o.xAxis.len-r.x-r.width,width:r.height,height:r.width}),d||(s?(r.x+=l?0:r.width,r.width=0):(r.y+=l?r.height:0,r.height=0))),i.align=c(i.align,!s||d?"center":l?"right":"left"),i.verticalAlign=c(i.verticalAlign,s||d?"middle":l?"top":"bottom"),u.prototype.alignDataLabel.call(this,t,e,i,r,n),t.isLabelJustified&&t.contrastColor&&t.dataLabel.css({color:t.contrastColor})})}(e),function(t){var e=t.Chart,i=t.each,r=t.objectEach,n=t.pick;(t=t.addEvent)(e.prototype,"render",function(){var t=[];i(this.labelCollectors||[],function(e){t=t.concat(e())}),i(this.yAxis||[],function(e){e.options.stackLabels&&!e.options.stackLabels.allowOverlap&&r(e.stacks,function(e){r(e,function(e){t.push(e.label)})})}),i(this.series||[],function(e){var r=e.options.dataLabels,s=e.dataLabelCollections||["dataLabel"];(r.enabled||e._hasPointLabels)&&!r.allowOverlap&&e.visible&&i(s,function(r){i(e.points,function(e){e[r]&&(e[r].labelrank=n(e.labelrank,e.shapeArgs&&e.shapeArgs.height),t.push(e[r]))})})}),this.hideOverlappingLabels(t)}),e.prototype.hideOverlappingLabels=function(t){var e,r,n,s,o,a,h,l,c,d=t.length,u=function(t,e,i,r,n,s,o,a){return!(n>t+i||n+o<t||s>e+r||s+a<e)};for(r=0;r<d;r++)(e=t[r])&&(e.oldOpacity=e.opacity,e.newOpacity=1,e.width||(n=e.getBBox(),e.width=n.width,e.height=n.height));for(t.sort(function(t,e){return(e.labelrank||0)-(t.labelrank||0)}),r=0;r<d;r++)for(n=t[r],e=r+1;e<d;++e)s=t[e],n&&s&&n!==s&&n.placed&&s.placed&&0!==n.newOpacity&&0!==s.newOpacity&&(o=n.alignAttr,a=s.alignAttr,h=n.parentGroup,l=s.parentGroup,c=2*(n.box?0:n.padding||0),o=u(o.x+h.translateX,o.y+h.translateY,n.width-c,n.height-c,a.x+l.translateX,a.y+l.translateY,s.width-c,s.height-c))&&((n.labelrank<s.labelrank?n:s).newOpacity=0);i(t,function(t){var e,i;t&&(i=t.newOpacity,t.oldOpacity!==i&&t.placed&&(i?t.show(!0):e=function(){t.hide()},t.alignAttr.opacity=i,t[t.isOld?"animate":"attr"](t.alignAttr,null,e)),t.isOld=!0)})}}(e),function(t){var e,i=t.addEvent,r=t.Chart,n=t.createElement,s=t.css,o=t.defaultOptions,a=t.defaultPlotOptions,h=t.each,l=t.extend,c=t.fireEvent,d=t.hasTouch,u=t.inArray,p=t.isObject,f=t.Legend,g=t.merge,m=t.pick,v=t.Point,y=t.Series,b=t.seriesTypes,x=t.svg;e=t.TrackerMixin={drawTrackerPoint:function(){var t=this,e=t.chart.pointer,i=function(t){var i=e.getPointFromEvent(t);void 0!==i&&(e.isDirectTouch=!0,i.onMouseOver(t))};h(t.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.div?t.dataLabel.div.point=t:t.dataLabel.element.point=t)}),t._hasTracking||(h(t.trackerGroups,function(r){t[r]&&(t[r].addClass("highcharts-tracker").on("mouseover",i).on("mouseout",function(t){e.onTrackerMouseOut(t)}),d&&t[r].on("touchstart",i),t.options.cursor&&t[r].css(s).css({cursor:t.options.cursor}))}),t._hasTracking=!0)},drawTrackerGraph:function(){var t,e=this,i=e.options,r=i.trackByArea,n=[].concat(r?e.areaPath:e.graphPath),s=n.length,o=e.chart,a=o.pointer,l=o.renderer,c=o.options.tooltip.snap,u=e.tracker,p=function(){o.hoverSeries!==e&&e.onMouseOver()},f="rgba(192,192,192,"+(x?1e-4:.002)+")";if(s&&!r)for(t=s+1;t--;)"M"===n[t]&&n.splice(t+1,0,n[t+1]-c,n[t+2],"L"),(t&&"M"===n[t]||t===s)&&n.splice(t,0,"L",n[t-2]+c,n[t-1]);u?u.attr({d:n}):e.graph&&(e.tracker=l.path(n).attr({"stroke-linejoin":"round",visibility:e.visible?"visible":"hidden",stroke:f,fill:r?f:"none","stroke-width":e.graph.strokeWidth()+(r?0:2*c),zIndex:2}).add(e.group),h([e.tracker,e.markerGroup],function(t){t.addClass("highcharts-tracker").on("mouseover",p).on("mouseout",function(t){a.onTrackerMouseOut(t)}),i.cursor&&t.css({cursor:i.cursor}),d&&t.on("touchstart",p)}))}},b.column&&(b.column.prototype.drawTracker=e.drawTrackerPoint),b.pie&&(b.pie.prototype.drawTracker=e.drawTrackerPoint),b.scatter&&(b.scatter.prototype.drawTracker=e.drawTrackerPoint),l(f.prototype,{setItemEvents:function(t,e,i){var r=this,n=r.chart.renderer.boxWrapper,s="highcharts-legend-"+(t.series?"point":"series")+"-active";(i?e:t.legendGroup).on("mouseover",function(){t.setState("hover"),n.addClass(s),e.css(r.options.itemHoverStyle)}).on("mouseout",function(){e.css(g(t.visible?r.itemStyle:r.itemHiddenStyle)),n.removeClass(s),t.setState()}).on("click",function(e){var i=function(){t.setVisible&&t.setVisible()};e={browserEvent:e},t.firePointEvent?t.firePointEvent("legendItemClick",e,i):c(t,"legendItemClick",e,i)})},createCheckboxForItem:function(t){t.checkbox=n("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),i(t.checkbox,"click",function(e){c(t.series||t,"checkboxClick",{checked:e.target.checked,item:t},function(){t.select()})})}}),o.legend.itemStyle.cursor="pointer",l(r.prototype,{showResetZoom:function(){var t=this,e=o.lang,i=t.options.chart.resetZoomButton,r=i.theme,n=r.states,s="chart"===i.relativeTo?null:"plotBox";this.resetZoomButton=t.renderer.button(e.resetZoom,null,null,function(){t.zoomOut()},r,n&&n.hover).attr({align:i.position.align,title:e.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(i.position,!1,s)},zoomOut:function(){var t=this;c(t,"selection",{resetSelection:!0},function(){t.zoom()})},zoom:function(t){var e,i,r=this.pointer,n=!1;!t||t.resetSelection?(h(this.axes,function(t){e=t.zoom()}),r.initiated=!1):h(t.xAxis.concat(t.yAxis),function(t){var i=t.axis;r[i.isXAxis?"zoomX":"zoomY"]&&(e=i.zoom(t.min,t.max),i.displayBtn&&(n=!0))}),i=this.resetZoomButton,n&&!i?this.showResetZoom():!n&&p(i)&&(this.resetZoomButton=i.destroy()),e&&this.redraw(m(this.options.chart.animation,t&&t.animation,100>this.pointCount))},pan:function(t,e){var i,r=this,n=r.hoverPoints;n&&h(n,function(t){t.setState()}),h("xy"===e?[1,0]:[1],function(e){var n,s=(e=r[e?"xAxis":"yAxis"][0]).horiz,o=t[s?"chartX":"chartY"],a=r[s=s?"mouseDownX":"mouseDownY"],h=(e.pointRange||0)/2,l=e.getExtremes(),c=e.toValue(a-o,!0)+h,d=(a=(d=(h=e.toValue(a+e.len-o,!0)-h)<c)?h:c,c=d?c:h,h=Math.min(l.dataMin,e.toValue(e.toPixels(l.min)-e.minPixelPadding)),Math.max(l.dataMax,e.toValue(e.toPixels(l.max)+e.minPixelPadding)));0<(n=h-a)&&(c+=n,a=h),0<(n=c-d)&&(c=d,a-=n),e.series.length&&a!==l.min&&c!==l.max&&(e.setExtremes(a,c,!1,!1,{trigger:"pan"}),i=!0),r[s]=o}),i&&r.redraw(!1),s(r.container,{cursor:"move"})}}),l(v.prototype,{select:function(t,e){var i=this,r=i.series,n=r.chart;t=m(t,!i.selected),i.firePointEvent(t?"select":"unselect",{accumulate:e},function(){i.selected=i.options.selected=t,r.options.data[u(i,r.data)]=i.options,i.setState(t&&"select"),e||h(n.getSelectedPoints(),function(t){t.selected&&t!==i&&(t.selected=t.options.selected=!1,r.options.data[u(t,r.data)]=t.options,t.setState(""),t.firePointEvent("unselect"))})})},onMouseOver:function(t){var e=this.series.chart,i=e.pointer;t=t?i.normalize(t):i.getChartCoordinatesFromPoint(this,e.inverted),i.runPointActions(t,this)},onMouseOut:function(){var t=this.series.chart;this.firePointEvent("mouseOut"),h(t.hoverPoints||[],function(t){t.setState()}),t.hoverPoints=t.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var e=this,r=g(e.series.options.point,e.options).events;e.events=r,t.objectEach(r,function(t,r){i(e,r,t)}),this.hasImportedEvents=!0}},setState:function(t,e){var i,r=Math.floor(this.plotX),n=this.plotY,s=this.series,o=s.options.states[t]||{},h=a[s.type].marker&&s.options.marker,c=h&&!1===h.enabled,d=h&&h.states&&h.states[t]||{},u=!1===d.enabled,p=s.stateMarkerGraphic,f=this.marker||{},g=s.chart,v=s.halo,y=h&&s.markerAttribs;(t=t||"")===this.state&&!e||this.selected&&"select"!==t||!1===o.enabled||t&&(u||c&&!1===d.enabled)||t&&f.states&&f.states[t]&&!1===f.states[t].enabled||(y&&(i=s.markerAttribs(this,t)),this.graphic?(this.state&&this.graphic.removeClass("highcharts-point-"+this.state),t&&this.graphic.addClass("highcharts-point-"+t),this.graphic.animate(s.pointAttribs(this,t),m(g.options.chart.animation,o.animation)),i&&this.graphic.animate(i,m(g.options.chart.animation,d.animation,h.animation)),p&&p.hide()):(t&&d&&(h=f.symbol||s.symbol,p&&p.currentSymbol!==h&&(p=p.destroy()),p?p[e?"animate":"attr"]({x:i.x,y:i.y}):h&&(s.stateMarkerGraphic=p=g.renderer.symbol(h,i.x,i.y,i.width,i.height).add(s.markerGroup),p.currentSymbol=h),p&&p.attr(s.pointAttribs(this,t))),p&&(p[t&&g.isInsidePlot(r,n,g.inverted)?"show":"hide"](),p.element.point=this)),(r=o.halo)&&r.size?(v||(s.halo=v=g.renderer.path().add((this.graphic||p).parentGroup)),v[e?"animate":"attr"]({d:this.haloPath(r.size)}),v.attr({class:"highcharts-halo highcharts-color-"+m(this.colorIndex,s.colorIndex)}),v.point=this,v.attr(l({fill:this.color||s.color,"fill-opacity":r.opacity,zIndex:-1},r.attributes))):v&&v.point&&v.point.haloPath&&v.animate({d:v.point.haloPath(0)}),this.state=t)},haloPath:function(t){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-t,this.plotY-t,2*t,2*t)}}),l(y.prototype,{onMouseOver:function(){var t=this.chart,e=t.hoverSeries;e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&c(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this},onMouseOut:function(){var t=this.options,e=this.chart,i=e.tooltip,r=e.hoverPoint;e.hoverSeries=null,r&&r.onMouseOut(),this&&t.events.mouseOut&&c(this,"mouseOut"),!i||this.stickyTracking||i.shared&&!this.noSharedTooltip||i.hide(),this.setState()},setState:function(t){var e=this,i=e.options,r=e.graph,n=i.states,s=i.lineWidth;i=0;if(t=t||"",e.state!==t&&(h([e.group,e.markerGroup,e.dataLabelsGroup],function(i){i&&(e.state&&i.removeClass("highcharts-series-"+e.state),t&&i.addClass("highcharts-series-"+t))}),e.state=t,!n[t]||!1!==n[t].enabled)&&(t&&(s=n[t].lineWidth||s+(n[t].lineWidthPlus||0)),r&&!r.dashstyle))for(s={"stroke-width":s},r.animate(s,m(e.chart.options.chart.animation,n[t]&&n[t].animation));e["zone-graph-"+i];)e["zone-graph-"+i].attr(s),i+=1},setVisible:function(t,e){var i,r=this,n=r.chart,s=r.legendItem,o=n.options.chart.ignoreHiddenSeries,a=r.visible;i=(r.visible=t=r.options.visible=r.userOptions.visible=void 0===t?!a:t)?"show":"hide",h(["group","dataLabelsGroup","markerGroup","tracker","tt"],function(t){r[t]&&r[t][i]()}),n.hoverSeries!==r&&(n.hoverPoint&&n.hoverPoint.series)!==r||r.onMouseOut(),s&&n.legend.colorizeItem(r,t),r.isDirty=!0,r.options.stacking&&h(n.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),h(r.linkedSeries,function(e){e.setVisible(t,!1)}),o&&(n.isDirtyBox=!0),!1!==e&&n.redraw(),c(r,i)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){this.selected=t=void 0===t?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),c(this,t?"select":"unselect")},drawTracker:e.drawTrackerGraph})}(e),function(t){var e=t.Chart,i=t.each,r=t.inArray,n=t.isArray,s=t.isObject,o=t.pick,a=t.splat;e.prototype.setResponsive=function(e){var r=this.options.responsive,n=[],s=this.currentResponsive;r&&r.rules&&i(r.rules,function(i){void 0===i._id&&(i._id=t.uniqueKey()),this.matchResponsiveRule(i,n,e)},this);var o=t.merge.apply(0,t.map(n,function(e){return t.find(r.rules,function(t){return t._id===e}).chartOptions}));(n=n.toString()||void 0)!==(s&&s.ruleIds)&&(s&&this.update(s.undoOptions,e),n?(this.currentResponsive={ruleIds:n,mergedOptions:o,undoOptions:this.currentOptions(o)},this.update(o,e)):this.currentResponsive=void 0)},e.prototype.matchResponsiveRule=function(t,e){var i=t.condition;(i.callback||function(){return this.chartWidth<=o(i.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=o(i.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=o(i.minWidth,0)&&this.chartHeight>=o(i.minHeight,0)}).call(this)&&e.push(t._id)},e.prototype.currentOptions=function(e){function i(e,o,h,l){var c;t.objectEach(e,function(t,e){if(!l&&-1<r(e,["series","xAxis","yAxis"]))for(t=a(t),h[e]=[],c=0;c<t.length;c++)o[e][c]&&(h[e][c]={},i(t[c],o[e][c],h[e][c],l+1));else s(t)?(h[e]=n(t)?[]:{},i(t,o[e]||{},h[e],l+1)):h[e]=o[e]||null})}var o={};return i(e,this.options,o,0),o}}(e),function(t){var e=t.addEvent,i=t.Axis,r=t.Chart,n=t.css,s=t.dateFormat,o=t.defined,a=t.each,h=t.extend,l=t.noop,c=t.pick,d=t.timeUnits,u=t.wrap;u(t.Series.prototype,"init",function(t){var i;t.apply(this,Array.prototype.slice.call(arguments,1)),(i=this.xAxis)&&i.options.ordinal&&e(this,"updatedData",function(){delete i.ordinalIndex})}),u(i.prototype,"getTimeTicks",function(t,e,i,r,n,a,h,l){var c,u,p,f,g,m=0,v={},y=[],b=-Number.MAX_VALUE,x=this.options.tickPixelInterval;if(!this.options.ordinal&&!this.options.breaks||!a||3>a.length||void 0===i)return t.call(this,e,i,r,n);for(f=a.length,c=0;c<f;c++){if(g=c&&a[c-1]>r,a[c]<i&&(m=c),c===f-1||a[c+1]-a[c]>5*h||g){if(a[c]>b){for(u=t.call(this,e,a[m],a[c],n);u.length&&u[0]<=b;)u.shift();u.length&&(b=u[u.length-1]),y=y.concat(u)}m=c+1}if(g)break}if(t=u.info,l&&t.unitRange<=d.hour){for(c=y.length-1,m=1;m<c;m++)s("%d",y[m])!==s("%d",y[m-1])&&(v[y[m]]="day",p=!0);p&&(v[y[0]]="day"),t.higherRanks=v}if(y.info=t,l&&o(x)){l=t=y.length,c=[];var w;for(p=[];l--;)m=this.translate(y[l]),w&&(p[l]=w-m),c[l]=w=m;for(p.sort(),(p=p[Math.floor(p.length/2)])<.6*x&&(p=null),l=y[t-1]>r?t-1:t,w=void 0;l--;)m=c[l],r=Math.abs(w-m),w&&r<.8*x&&(null===p||r<.8*p)?(v[y[l]]&&!v[y[l+1]]?(r=l+1,w=m):r=l,y.splice(r,1)):w=m}return y}),h(i.prototype,{beforeSetTickPositions:function(){var t,e,i,r=[],n=!1,s=(d=this.getExtremes()).min,h=d.max,l=this.isXAxis&&!!this.options.breaks,d=this.options.ordinal,u=Number.MAX_VALUE,p=this.chart.options.chart.ignoreHiddenSeries;if(e="highcharts-navigator-xaxis"===this.options.className,!this.options.overscroll||this.max!==this.dataMax||this.chart.mouseIsDown&&!e||this.eventArgs&&(!this.eventArgs||"navigator"===this.eventArgs.trigger)||(this.max+=this.options.overscroll,!e&&o(this.userMin)&&(this.min+=this.options.overscroll)),d||l){if(a(this.series,function(e,i){if(!(p&&!1===e.visible||!1===e.takeOrdinalPosition&&!l)&&(r=r.concat(e.processedXData),t=r.length,r.sort(function(t,e){return t-e}),u=Math.min(u,c(e.closestPointRange,u)),t))for(i=t-1;i--;)r[i]===r[i+1]&&r.splice(i,1)}),2<(t=r.length)){for(e=r[1]-r[0],i=t-1;i--&&!n;)r[i+1]-r[i]!==e&&(n=!0);!this.options.keepOrdinalPadding&&(r[0]-s>e||h-r[r.length-1]>e)&&(n=!0)}else this.options.overscroll&&(2===t?u=r[1]-r[0]:1===t?(u=this.options.overscroll,r=[r[0],r[0]+u]):u=this.overscrollPointsRange);n?(this.options.overscroll&&(this.overscrollPointsRange=u,r=r.concat(this.getOverscrollPositions())),this.ordinalPositions=r,e=this.ordinal2lin(Math.max(s,r[0]),!0),i=Math.max(this.ordinal2lin(Math.min(h,r[r.length-1]),!0),1),this.ordinalSlope=h=(h-s)/(i-e),this.ordinalOffset=s-e*h):(this.overscrollPointsRange=c(this.closestPointRange,this.overscrollPointsRange),this.ordinalPositions=this.ordinalSlope=this.ordinalOffset=void 0)}this.isOrdinal=d&&n,this.groupIntervalFactor=null},val2lin:function(t,e){var i=this.ordinalPositions;if(i){var r,n,s=i.length;for(r=s;r--;)if(i[r]===t){n=r;break}for(r=s-1;r--;)if(t>i[r]||0===r){n=r+(t=(t-i[r])/(i[r+1]-i[r]));break}e=e?n:this.ordinalSlope*(n||0)+this.ordinalOffset}else e=t;return e},lin2val:function(t,e){var i=this.ordinalPositions;if(i){var r,n=this.ordinalSlope,s=this.ordinalOffset,o=i.length-1;if(e)0>t?t=i[0]:t>o?t=i[o]:(o=Math.floor(t),r=t-o);else for(;o--;)if(e=n*o+s,t>=e){r=(t-e)/((n=n*(o+1)+s)-e);break}return void 0!==r&&void 0!==i[o]?i[o]+(r?r*(i[o+1]-i[o]):0):t}return t},getExtendedPositions:function(){var t,e,r=this,n=r.chart,s=r.series[0].currentDataGrouping,o=r.ordinalIndex,h=s?s.count+s.unitName:"raw",c=r.options.overscroll,d=r.getExtremes();return o||(o=r.ordinalIndex={}),o[h]||(t={series:[],chart:n,getExtremes:function(){return{min:d.dataMin,max:d.dataMax+c}},options:{ordinal:!0},val2lin:i.prototype.val2lin,ordinal2lin:i.prototype.ordinal2lin},a(r.series,function(i){(e={xAxis:t,xData:i.xData.slice(),chart:n,destroyGroupedData:l}).xData=e.xData.concat(r.getOverscrollPositions()),e.options={dataGrouping:s?{enabled:!0,forced:!0,approximation:"open",units:[[s.unitName,[s.count]]]}:{enabled:!1}},i.processData.apply(e),t.series.push(e)}),r.beforeSetTickPositions.apply(t),o[h]=t.ordinalPositions),o[h]},getOverscrollPositions:function(){var e=this.options.overscroll,i=this.overscrollPointsRange,r=[],n=this.dataMax;if(t.defined(i))for(r.push(n);n<=this.dataMax+e;)n+=i,r.push(n);return r},getGroupIntervalFactor:function(t,e,i){var r,n=(i=i.processedXData).length,s=[];if(!(r=this.groupIntervalFactor)){for(r=0;r<n-1;r++)s[r]=i[r+1]-i[r];s.sort(function(t,e){return t-e}),s=s[Math.floor(n/2)],t=Math.max(t,i[0]),e=Math.min(e,i[n-1]),this.groupIntervalFactor=r=n*s/(e-t)}return r},postProcessTickInterval:function(t){var e=this.ordinalSlope;return e?this.options.breaks?this.closestPointRange||t:t/(e/this.closestPointRange):t}}),i.prototype.ordinal2lin=i.prototype.val2lin,u(r.prototype,"pan",function(t,e){var i=this.xAxis[0],r=i.options.overscroll,s=e.chartX,o=!1;if(i.options.ordinal&&i.series.length){var h,l=this.mouseDownX,c=i.getExtremes(),d=c.dataMax,u=c.min,p=c.max,f=this.hoverPoints,g=i.closestPointRange||i.overscrollPointsRange,m=(l=(l-s)/(i.translationSlope*(i.ordinalSlope||g)),{ordinalPositions:i.getExtendedPositions()}),v=(g=i.lin2val,i.val2lin);m.ordinalPositions?1<Math.abs(l)&&(f&&a(f,function(t){t.setState()}),0>l?(f=m,h=i.ordinalPositions?i:m):(f=i.ordinalPositions?i:m,h=m),m=h.ordinalPositions,d>m[m.length-1]&&m.push(d),this.fixedRange=p-u,(l=i.toFixedRange(null,null,g.apply(f,[v.apply(f,[u,!0])+l,!0]),g.apply(h,[v.apply(h,[p,!0])+l,!0]))).min>=Math.min(c.dataMin,u)&&l.max<=Math.max(d,p)+r&&i.setExtremes(l.min,l.max,!0,!1,{trigger:"pan"}),this.mouseDownX=s,n(this.container,{cursor:"move"})):o=!0}else o=!0;o&&(r&&(i.max=i.dataMax+r),t.apply(this,Array.prototype.slice.call(arguments,1)))})}(e),function(t){function e(t){t.apply(this),this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,i(this.pointArrayMap,["y"]))}var i=t.pick,r=t.wrap,n=t.each,s=t.extend,o=t.isArray,a=t.fireEvent,h=t.Axis,l=t.Series;s(h.prototype,{isInBreak:function(t,e){var i=t.repeat||1/0,r=t.from,n=t.to-t.from;return e=e>=r?(e-r)%i:i-(r-e)%i,t.inclusive?e<=n:e<n&&0!==e},isInAnyBreak:function(t,e){var r,n,s,o=this.options.breaks,a=o&&o.length;if(a){for(;a--;)this.isInBreak(o[a],t)&&(r=!0,n||(n=i(o[a].showPoints,!this.isXAxis)));s=r&&e?r&&!n:r}return s}}),r(h.prototype,"setTickPositions",function(t){if(t.apply(this,Array.prototype.slice.call(arguments,1)),this.options.breaks){var e,i=this.tickPositions,r=this.tickPositions.info,n=[];for(e=0;e<i.length;e++)this.isInAnyBreak(i[e])||n.push(i[e]);this.tickPositions=n,this.tickPositions.info=r}}),r(h.prototype,"init",function(t,e,r){var s=this;r.breaks&&r.breaks.length&&(r.ordinal=!1),t.call(this,e,r),t=this.options.breaks,s.isBroken=o(t)&&!!t.length,s.isBroken&&(s.val2lin=function(t){var e,i,r=t;for(i=0;i<s.breakArray.length;i++)if((e=s.breakArray[i]).to<=t)r-=e.len;else{if(e.from>=t)break;if(s.isInBreak(e,t)){r-=t-e.from;break}}return r},s.lin2val=function(t){var e,i;for(i=0;i<s.breakArray.length&&!((e=s.breakArray[i]).from>=t);i++)e.to<t?t+=e.len:s.isInBreak(e,t)&&(t+=e.len);return t},s.setExtremes=function(t,e,i,r,n){for(;this.isInAnyBreak(t);)t-=this.closestPointRange;for(;this.isInAnyBreak(e);)e-=this.closestPointRange;h.prototype.setExtremes.call(this,t,e,i,r,n)},s.setAxisTranslation=function(t){h.prototype.setAxisTranslation.call(this,t),t=s.options.breaks;var e,r,o,l,c=[],d=[],u=0,p=s.userMin||s.min,f=s.userMax||s.max,g=i(s.pointRangePadding,0);n(t,function(t){r=t.repeat||1/0,s.isInBreak(t,p)&&(p+=t.to%r-p%r),s.isInBreak(t,f)&&(f-=f%r-t.from%r)}),n(t,function(t){for(o=t.from,r=t.repeat||1/0;o-r>p;)o-=r;for(;o<p;)o+=r;for(l=o;l<f;l+=r)c.push({value:l,move:"in"}),c.push({value:l+(t.to-t.from),move:"out",size:t.breakSize})}),c.sort(function(t,e){return t.value===e.value?("in"===t.move?0:1)-("in"===e.move?0:1):t.value-e.value}),e=0,o=p,n(c,function(t){1===(e+="in"===t.move?1:-1)&&"in"===t.move&&(o=t.value),0===e&&(d.push({from:o,to:t.value,len:t.value-o-(t.size||0)}),u+=t.value-o-(t.size||0))}),s.breakArray=d,s.unitLength=f-p-u+g,a(s,"afterBreaks"),s.options.staticScale?s.transA=s.options.staticScale:s.unitLength&&(s.transA*=(f-s.min+g)/s.unitLength),g&&(s.minPixelPadding=s.transA*s.minPointOffset),s.min=p,s.max=f})}),r(l.prototype,"generatePoints",function(t){t.apply(this,function(){return Array.prototype.slice.call(arguments,1)}(arguments));var e,i=this.xAxis,r=this.yAxis,n=this.points,s=n.length,o=this.options.connectNulls;if(i&&r&&(i.options.breaks||r.options.breaks))for(;s--;)e=n[s],null===e.y&&!1===o||!i.isInAnyBreak(e.x,!0)&&!r.isInAnyBreak(e.y,!0)||(n.splice(s,1),this.data[s]&&this.data[s].destroyElements())}),t.Series.prototype.drawBreaks=function(t,e){var r,s,o,h,l=this,c=l.points;t&&n(e,function(e){r=t.breakArray||[],s=t.isXAxis?t.min:i(l.options.threshold,t.min),n(c,function(l){h=i(l["stack"+e.toUpperCase()],l[e]),n(r,function(e){o=!1,s<e.from&&h>e.to||s>e.from&&h<e.from?o="pointBreak":(s<e.from&&h>e.from&&h<e.to||s>e.from&&h>e.to&&h<e.from)&&(o="pointInBreak"),o&&a(t,o,{point:l,brk:e})})})})},t.Series.prototype.gappedPath=function(){var e,i=this.options.gapSize,r=this.points.slice(),n=r.length-1,s=this.yAxis;if(i&&0<n)for("value"!==this.options.gapUnit&&(i*=this.closestPointRange);n--;)r[n+1].x-r[n].x>i&&(e=(r[n].x+r[n+1].x)/2,r.splice(n+1,0,{isNull:!0,x:e}),this.options.stacking&&(e=s.stacks[this.stackKey][e]=new t.StackItem(s,s.options.stackLabels,!1,e,this.stack),e.total=0));return this.getGraphPath(r)},r(t.seriesTypes.column.prototype,"drawPoints",e),r(t.Series.prototype,"drawPoints",e)}(e),function(t){var e=t.arrayMax,i=t.arrayMin,r=t.Axis,n=t.defaultPlotOptions,s=t.defined,o=t.each,a=t.extend,h=t.format,l=t.isNumber,c=t.merge,d=t.pick,u=t.Point,p=t.Tooltip,f=t.wrap,g=t.Series.prototype,m=g.processData,v=g.generatePoints,y=g.destroy,b={approximation:"average",groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],minute:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],hour:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],day:["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],week:["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},x={line:{},spline:{},area:{},areaspline:{},column:{approximation:"sum",groupPixelWidth:10},arearange:{approximation:"range"},areasplinerange:{approximation:"range"},columnrange:{approximation:"range",groupPixelWidth:10},candlestick:{approximation:"ohlc",groupPixelWidth:10},ohlc:{approximation:"ohlc",groupPixelWidth:5}},w=t.defaultDataGroupingUnits=[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]],k=t.approximations={sum:function(t){var e,i=t.length;if(!i&&t.hasNulls)e=null;else if(i)for(e=0;i--;)e+=t[i];return e},average:function(t){var e=t.length;return t=k.sum(t),l(t)&&e&&(t/=e),t},averages:function(){var t=[];return o(arguments,function(e){t.push(k.average(e))}),void 0===t[0]?void 0:t},open:function(t){return t.length?t[0]:t.hasNulls?null:void 0},high:function(t){return t.length?e(t):t.hasNulls?null:void 0},low:function(t){return t.length?i(t):t.hasNulls?null:void 0},close:function(t){return t.length?t[t.length-1]:t.hasNulls?null:void 0},ohlc:function(t,e,i,r){if(t=k.open(t),e=k.high(e),i=k.low(i),r=k.close(r),l(t)||l(e)||l(i)||l(r))return[t,e,i,r]},range:function(t,e){return t=k.low(t),e=k.high(e),l(t)||l(e)?[t,e]:null===t&&null===e?null:void 0}};g.groupData=function(t,e,i,r){var n,s,a=this.data,h=this.options.data,c=[],d=[],u=[],p=t.length,f=!!e,g=[];r="function"==typeof r?r:k[r]||x[this.type]&&k[x[this.type].approximation]||k[b.approximation];var m=this.pointArrayMap,v=m&&m.length,y=0;s=0;var w,_;for(v?o(m,function(){g.push([])}):g.push([]),w=v||1,_=0;_<=p&&!(t[_]>=i[0]);_++);for(;_<=p;_++){for(;void 0!==i[y+1]&&t[_]>=i[y+1]||_===p;){for(n=i[y],this.dataGroupInfo={start:s,length:g[0].length},void 0!==(s=r.apply(this,g))&&(c.push(n),d.push(s),u.push(this.dataGroupInfo)),s=_,n=0;n<w;n++)g[n].length=0,g[n].hasNulls=!1;if(y+=1,_===p)break}if(_===p)break;if(m){n=this.cropStart+_;var S,M=a&&a[n]||this.pointClass.prototype.applyOptions.apply({series:this},[h[n]]);for(n=0;n<v;n++)S=M[m[n]],l(S)?g[n].push(S):null===S&&(g[n].hasNulls=!0)}else n=f?e[_]:null,l(n)?g[0].push(n):null===n&&(g[0].hasNulls=!0)}return[c,d,u]},g.processData=function(){var t,e,i=this.chart,r=this.options.dataGrouping,n=!1!==this.allowDG&&r&&d(r.enabled,i.options.isStock),o=this.visible||!i.options.chart.ignoreHiddenSeries,a=this.currentDataGrouping;if(this.forceCrop=n,this.groupPixelWidth=null,this.hasProcessed=!0,!1!==m.apply(this,arguments)&&n){this.destroyGroupedData();var h=this.processedXData,l=this.processedYData,c=i.plotSizeX,u=(i=this.xAxis).options.ordinal,p=this.groupPixelWidth=i.getGroupPixelWidth&&i.getGroupPixelWidth();if(p){if(this.isDirty=t=!0,this.points=null,n=i.getExtremes(),e=n.min,n=n.max,u=u&&i.getGroupIntervalFactor(e,n,this)||1,p=p*(n-e)/c*u,c=i.getTimeTicks(i.normalizeTimeTickInterval(p,r.units||w),Math.min(e,h[0]),Math.max(n,h[h.length-1]),i.options.startOfWeek,h,this.closestPointRange),h=g.groupData.apply(this,[h,l,c,r.approximation]),l=h[0],u=h[1],r.smoothed&&l.length){for(l[r=l.length-1]=Math.min(l[r],n);r--&&0<r;)l[r]+=p/2;l[0]=Math.max(l[0],e)}e=c.info,this.closestPointRange=c.info.totalRange,this.groupMap=h[2],s(l[0])&&l[0]<i.dataMin&&o&&(i.min===i.dataMin&&(i.min=l[0]),i.dataMin=l[0]),this.processedXData=l,this.processedYData=u}else this.groupMap=null;this.hasGroupedData=t,this.currentDataGrouping=e,this.preventGraphAnimation=(a&&a.totalRange)!==(e&&e.totalRange)}},g.destroyGroupedData=function(){var t=this.groupedData;o(t||[],function(e,i){e&&(t[i]=e.destroy?e.destroy():null)}),this.groupedData=null},g.generatePoints=function(){v.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null},f(u.prototype,"update",function(e){this.dataGroup?t.error(24):e.apply(this,[].slice.call(arguments,1))}),f(p.prototype,"tooltipFooterHeaderFormatter",function(e,i,r){var n,s=i.series,o=s.tooltipOptions,c=s.options.dataGrouping,d=o.xDateFormat,u=s.xAxis,p=t.dateFormat;return u&&"datetime"===u.options.type&&c&&l(i.key)?(e=s.currentDataGrouping,c=c.dateTimeLabelFormats,e?(u=c[e.unitName],1===e.count?d=u[0]:(d=u[1],n=u[2])):!d&&c&&(d=this.getXDateFormat(i,o,u)),d=p(d,i.key),n&&(d+=p(n,i.key+e.totalRange-1)),h(o[(r?"footer":"header")+"Format"],{point:a(i.point,{key:d}),series:s})):e.call(this,i,r)}),g.destroy=function(){for(var t=this.groupedData||[],e=t.length;e--;)t[e]&&t[e].destroy();y.apply(this)},f(g,"setOptions",function(t,e){t=t.call(this,e);var i=this.type,r=this.chart.options.plotOptions,s=n[i].dataGrouping;return x[i]&&(s||(s=c(b,x[i])),t.dataGrouping=c(s,r.series&&r.series.dataGrouping,r[i].dataGrouping,e.dataGrouping)),this.chart.options.isStock&&(this.requireSorting=!0),t}),f(r.prototype,"setScale",function(t){t.call(this),o(this.series,function(t){t.hasProcessed=!1})}),r.prototype.getGroupPixelWidth=function(){var t,e,i=this.series,r=i.length,n=0,s=!1;for(t=r;t--;)(e=i[t].options.dataGrouping)&&(n=Math.max(n,e.groupPixelWidth));for(t=r;t--;)(e=i[t].options.dataGrouping)&&i[t].hasProcessed&&(r=(i[t].processedXData||i[t].data).length,i[t].groupPixelWidth||r>this.chart.plotSizeX/n||r&&e.forced)&&(s=!0);return s?n:0},r.prototype.setDataGrouping=function(t,e){var i;if(e=d(e,!0),t||(t={forced:!1,units:null}),this instanceof r)for(i=this.series.length;i--;)this.series[i].update({dataGrouping:t},!1);else o(this.chart.options.series,function(e){e.dataGrouping=t},!1);e&&this.chart.redraw()}}(e),function(t){var e=t.each,i=t.Point,r=t.seriesType,n=t.seriesTypes;r("ohlc","column",{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0},{directTouch:!1,pointArrayMap:["open","high","low","close"],toYData:function(t){return[t.open,t.high,t.low,t.close]},pointValKey:"close",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointAttribs:function(t,e){e=n.column.prototype.pointAttribs.call(this,t,e);var i=this.options;return delete e.fill,!t.options.color&&i.upColor&&t.open<t.close&&(e.stroke=i.upColor),e},translate:function(){var t=this,i=t.yAxis,r=!!t.modifyValue,s=["plotOpen","plotHigh","plotLow","plotClose","yBottom"];n.column.prototype.translate.apply(t),e(t.points,function(n){e([n.open,n.high,n.low,n.close,n.low],function(e,o){null!==e&&(r&&(e=t.modifyValue(e)),n[s[o]]=i.toPixels(e,!0))}),n.tooltipPos[1]=n.plotHigh+i.pos-t.chart.plotTop})},drawPoints:function(){var t=this,i=t.chart;e(t.points,function(e){var r,n,s,o,a,h=e.graphic,l=!h;void 0!==e.plotY&&(h||(e.graphic=h=i.renderer.path().add(t.group)),h.attr(t.pointAttribs(e,e.selected&&"select")),n=h.strokeWidth()%2/2,a=Math.round(e.plotX)-n,s=Math.round(e.shapeArgs.width/2),o=["M",a,Math.round(e.yBottom),"L",a,Math.round(e.plotHigh)],null!==e.open&&(r=Math.round(e.plotOpen)+n,o.push("M",a,r,"L",a-s,r)),null!==e.close&&(r=Math.round(e.plotClose)+n,o.push("M",a,r,"L",a+s,r)),h[l?"attr":"animate"]({d:o}).addClass(e.getClassName(),!0))})},animate:null},{getClassName:function(){return i.prototype.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")}})}(e),function(t){var e=t.defaultPlotOptions,i=t.each,r=t.merge,n=t.seriesType,s=t.seriesTypes;n("candlestick","ohlc",r(e.column,{states:{hover:{lineWidth:2}},tooltip:e.ohlc.tooltip,threshold:null,lineColor:"#000000",lineWidth:1,upColor:"#ffffff",stickyTracking:!0}),{pointAttribs:function(t,e){var i=s.column.prototype.pointAttribs.call(this,t,e),r=this.options,n=t.open<t.close,o=r.lineColor||this.color;return i["stroke-width"]=r.lineWidth,i.fill=t.options.color||(n?r.upColor||this.color:this.color),i.stroke=t.lineColor||(n?r.upLineColor||o:o),e&&(t=r.states[e],i.fill=t.color||i.fill,i.stroke=t.lineColor||i.stroke,i["stroke-width"]=t.lineWidth||i["stroke-width"]),i},drawPoints:function(){var t=this,e=t.chart;i(t.points,function(i){var r,n,s,o,a,h,l,c=i.graphic,d=!c;void 0!==i.plotY&&(c||(i.graphic=c=e.renderer.path().add(t.group)),c.attr(t.pointAttribs(i,i.selected&&"select")).shadow(t.options.shadow),a=c.strokeWidth()%2/2,h=Math.round(i.plotX)-a,r=i.plotOpen,n=i.plotClose,s=Math.min(r,n),r=Math.max(r,n),l=Math.round(i.shapeArgs.width/2),n=Math.round(s)!==Math.round(i.plotHigh),o=r!==i.yBottom,s=Math.round(s)+a,r=Math.round(r)+a,(a=[]).push("M",h-l,r,"L",h-l,s,"L",h+l,s,"L",h+l,r,"Z","M",h,s,"L",h,n?Math.round(i.plotHigh):s,"M",h,r,"L",h,o?Math.round(i.yBottom):r),c[d?"attr":"animate"]({d:a}).addClass(i.getClassName(),!0))})}})}(e),i=function(t){var e=t.each,i=t.seriesTypes,r=t.stableSort;return{translate:function(){i.column.prototype.translate.apply(this);var t,n,s=this.options,o=this.chart,a=this.points,h=a.length-1;t=(u=s.onSeries)&&o.get(u);s=s.onKey||"y";var l,c,d,u=t&&t.options.step,p=t&&t.points,f=p&&p.length,g=this.xAxis,m=this.yAxis,v=g.getExtremes(),y=0;if(t&&t.visible&&f)for(y=(t.pointXOffset||0)+(t.barW||0)/2,t=t.currentDataGrouping,c=p[f-1].x+(t?t.totalRange:0),r(a,function(t,e){return t.x-e.x}),s="plot"+s[0].toUpperCase()+s.substr(1);f--&&a[h]&&(t=a[h],!((l=p[f]).x<=t.x&&void 0!==l[s]&&(t.x<=c&&(t.plotY=l[s],l.x<t.x&&!u&&(d=p[f+1])&&void 0!==d[s]&&(t.plotY+=(t.x-l.x)/(d.x-l.x)*(d[s]-l[s]))),h--,f++,0>h))););e(a,function(t,e){var i;void 0===t.plotY&&(t.x>=v.min&&t.x<=v.max?t.plotY=o.chartHeight-g.bottom-(g.opposite?g.height:0)+g.offset-m.top:t.shapeArgs={}),t.plotX+=y,(n=a[e-1])&&n.plotX===t.plotX&&(void 0===n.stackIndex&&(n.stackIndex=0),i=n.stackIndex+1),t.stackIndex=i})}}}(e),function(t,e){var i=t.addEvent,r=t.each,n=t.merge,s=t.noop,o=t.Renderer,a=t.seriesType,h=t.TrackerMixin,l=t.VMLRenderer,c=t.SVGRenderer.prototype.symbols;a("flags","column",{pointRange:0,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}<br/>"},threshold:null,y:-30,fillColor:"#ffffff",lineWidth:1,states:{hover:{lineColor:"#000000",fillColor:"#ccd6eb"}},style:{fontSize:"11px",fontWeight:"bold"}},{sorted:!1,noSharedTooltip:!0,allowDG:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],forceCrop:!0,init:t.Series.prototype.init,pointAttribs:function(t,e){var i=this.options,r=t&&t.color||this.color,n=i.lineColor,s=t&&t.lineWidth;return t=t&&t.fillColor||i.fillColor,e&&(t=i.states[e].fillColor,n=i.states[e].lineColor,s=i.states[e].lineWidth),{fill:t||r,stroke:n||r,"stroke-width":s||i.lineWidth||0}},translate:e.translate,drawPoints:function(){var e,i,s,o,a,h,l,c,d=this.points,u=this.chart,p=u.renderer,f=this.options,g=f.y,m=this.yAxis,v={},y=[];for(o=d.length;o--;)a=d[o],c=a.plotX>this.xAxis.len,e=a.plotX,h=a.stackIndex,s=a.options.shape||f.shape,void 0!==(i=a.plotY)&&(i=a.plotY+g-(void 0!==h&&h*f.stackDistance)),a.anchorX=h?void 0:a.plotX,l=h?void 0:a.plotY,h=a.graphic,void 0!==i&&0<=e&&!c?(h||(h=a.graphic=p.label("",null,null,s,null,null,f.useHTML).attr(this.pointAttribs(a)).css(n(f.style,a.style)).attr({align:"flag"===s?"left":"center",width:f.width,height:f.height,"text-align":f.textAlign}).addClass("highcharts-point").add(this.markerGroup),a.graphic.div&&(a.graphic.div.point=a),h.shadow(f.shadow),h.isNew=!0),0<e&&(e-=h.strokeWidth()%2),h.attr({text:a.options.title||f.title||"A"})[h.isNew?"attr":"animate"]({y:i,anchorY:l}),v[a.plotX]?v[a.plotX].size=Math.max(v[a.plotX].size,h.width):v[a.plotX]={align:0,size:h.width,target:e,anchorX:e},a.tooltipPos=u.inverted?[m.len+m.pos-u.plotLeft-i,this.xAxis.len-e]:[e,i+m.pos-u.plotTop]):h&&(a.graphic=h.destroy());t.objectEach(v,function(t){t.plotX=t.anchorX,y.push(t)}),t.distribute(y,this.xAxis.len),r(d,function(t){var e=t.graphic&&v[t.plotX];e&&(t.graphic[t.graphic.isNew?"attr":"animate"]({x:e.pos,anchorX:t.anchorX}),t.graphic.isNew=!1)}),f.useHTML&&t.wrap(this.markerGroup,"on",function(e){return t.SVGElement.prototype.on.apply(e.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})},drawTracker:function(){var t=this.points;h.drawTrackerPoint.apply(this),r(t,function(e){var n=e.graphic;n&&i(n.element,"mouseover",function(){0<e.stackIndex&&!e.raised&&(e._y=n.y,n.attr({y:e._y-8}),e.raised=!0),r(t,function(t){t!==e&&t.raised&&t.graphic&&(t.graphic.attr({y:t._y}),t.raised=!1)})})})},animate:s,buildKDTree:s,setClip:s}),c.flag=function(t,e,i,r,n){var s=n&&n.anchorX||t;return n=n&&n.anchorY||e,c.circle(s-1,n-1,2,2).concat(["M",s,n,"L",t,e+r,t,e,t+i,e,t+i,e+r,t,e+r,"Z"])},r(["circle","square"],function(t){c[t+"pin"]=function(e,i,r,n,s){var o=s&&s.anchorX;return s=s&&s.anchorY,"circle"===t&&n>r&&(e-=Math.round((n-r)/2),r=n),e=c[t](e,i,r,n),o&&s&&(e.push("M","circle"===t?e[1]-e[4]:e[1]+e[4]/2,i>s?i:i+n,"L",o,s),e=e.concat(c.circle(o-1,s-1,2,2))),e}}),o===l&&r(["flag","circlepin","squarepin"],function(t){l.prototype.symbols[t]=c[t]})}(e,i),function(t){function e(t,e,i){this.init(t,e,i)}var i,r=t.addEvent,n=t.Axis,s=t.correctFloat,o=t.defaultOptions,a=t.defined,h=t.destroyObjectProperties,l=t.each,c=t.fireEvent,d=t.hasTouch,u=t.isTouchDevice,p=t.merge,f=t.pick,g=t.removeEvent,m=t.wrap,v={height:u?20:14,barBorderRadius:0,buttonBorderRadius:0,liveRedraw:t.svg&&!u,margin:10,minWidth:6,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:1,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"#333333",trackBackgroundColor:"#f2f2f2",trackBorderColor:"#f2f2f2",trackBorderWidth:1};o.scrollbar=p(!0,v,o.scrollbar),t.swapXY=i=function(t,e){var i,r=t.length;if(e)for(e=0;e<r;e+=3)i=t[e+1],t[e+1]=t[e+2],t[e+2]=i;return t},e.prototype={init:function(t,e,i){this.scrollbarButtons=[],this.renderer=t,this.userOptions=e,this.options=p(v,e),this.chart=i,this.size=f(this.options.size,this.options.height),e.enabled&&(this.render(),this.initEvents(),this.addEvents())},render:function(){var t,e=this.renderer,r=this.options,n=this.size;this.group=t=e.g("scrollbar").attr({zIndex:r.zIndex,translateY:-99999}).add(),this.track=e.rect().addClass("highcharts-scrollbar-track").attr({x:0,r:r.trackBorderRadius||0,height:n,width:n}).add(t),this.track.attr({fill:r.trackBackgroundColor,stroke:r.trackBorderColor,"stroke-width":r.trackBorderWidth}),this.trackBorderWidth=this.track.strokeWidth(),this.track.attr({y:-this.trackBorderWidth%2/2}),this.scrollbarGroup=e.g().add(t),this.scrollbar=e.rect().addClass("highcharts-scrollbar-thumb").attr({height:n,width:n,r:r.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=e.path(i(["M",-3,n/4,"L",-3,2*n/3,"M",0,n/4,"L",0,2*n/3,"M",3,n/4,"L",3,2*n/3],r.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),this.scrollbar.attr({fill:r.barBackgroundColor,stroke:r.barBorderColor,"stroke-width":r.barBorderWidth}),this.scrollbarRifles.attr({stroke:r.rifleColor,"stroke-width":1}),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-this.scrollbarStrokeWidth%2/2,-this.scrollbarStrokeWidth%2/2),this.drawScrollbarButton(0),this.drawScrollbarButton(1)},position:function(t,e,i,r){var n=this.options.vertical,s=0,o=this.rendered?"animate":"attr";this.x=t,this.y=e+this.trackBorderWidth,this.width=i,this.xOffset=this.height=r,this.yOffset=s,n?(this.width=this.yOffset=i=s=this.size,this.xOffset=e=0,this.barWidth=r-2*i,this.x=t+=this.options.margin):(this.height=this.xOffset=r=e=this.size,this.barWidth=i-2*r,this.y+=this.options.margin),this.group[o]({translateX:t,translateY:this.y}),this.track[o]({width:i,height:r}),this.scrollbarButtons[1][o]({translateX:n?0:i-e,translateY:n?r-s:0})},drawScrollbarButton:function(t){var e,r=this.renderer,n=this.scrollbarButtons,s=this.options,o=this.size;e=r.g().add(this.group),n.push(e),(e=r.rect().addClass("highcharts-scrollbar-button").add(e)).attr({stroke:s.buttonBorderColor,"stroke-width":s.buttonBorderWidth,fill:s.buttonBackgroundColor}),e.attr(e.crisp({x:-.5,y:-.5,width:o+1,height:o+1,r:s.buttonBorderRadius},e.strokeWidth())),(e=r.path(i(["M",o/2+(t?-1:1),o/2-3,"L",o/2+(t?-1:1),o/2+3,"L",o/2+(t?2:-2),o/2],s.vertical)).addClass("highcharts-scrollbar-arrow").add(n[t])).attr({fill:s.buttonArrowColor})},setRange:function(t,e){var i,r,n=this.options,o=n.vertical,h=n.minWidth,l=this.barWidth,c=this.rendered&&!this.hasDragged?"animate":"attr";a(l)&&(t=Math.max(t,0),i=Math.ceil(l*t),this.calculatedWidth=r=s(l*Math.min(e,1)-i),r<h&&(i=(l-h+r)*t,r=h),h=Math.floor(i+this.xOffset+this.yOffset),l=r/2-.5,this.from=t,this.to=e,o?(this.scrollbarGroup[c]({translateY:h}),this.scrollbar[c]({height:r}),this.scrollbarRifles[c]({translateY:l}),this.scrollbarTop=h,this.scrollbarLeft=0):(this.scrollbarGroup[c]({translateX:h}),this.scrollbar[c]({width:r}),this.scrollbarRifles[c]({translateX:l}),this.scrollbarLeft=h,this.scrollbarTop=0),12>=r?this.scrollbarRifles.hide():this.scrollbarRifles.show(!0),!1===n.showFull&&(0>=t&&1<=e?this.group.hide():this.group.show()),this.rendered=!0)},initEvents:function(){var t=this;t.mouseMoveHandler=function(e){var i=t.chart.pointer.normalize(e),r=t.options.vertical?"chartY":"chartX",n=t.initPositions;!t.grabbedCenter||e.touches&&0===e.touches[0][r]||(i=t.cursorToScrollbarPosition(i)[r],r=t[r],r=i-r,t.hasDragged=!0,t.updatePosition(n[0]+r,n[1]+r),t.hasDragged&&c(t,"changed",{from:t.from,to:t.to,trigger:"scrollbar",DOMType:e.type,DOMEvent:e}))},t.mouseUpHandler=function(e){t.hasDragged&&c(t,"changed",{from:t.from,to:t.to,trigger:"scrollbar",DOMType:e.type,DOMEvent:e}),t.grabbedCenter=t.hasDragged=t.chartX=t.chartY=null},t.mouseDownHandler=function(e){e=t.chart.pointer.normalize(e),e=t.cursorToScrollbarPosition(e),t.chartX=e.chartX,t.chartY=e.chartY,t.initPositions=[t.from,t.to],t.grabbedCenter=!0},t.buttonToMinClick=function(e){var i=s(t.to-t.from)*t.options.step;t.updatePosition(s(t.from-i),s(t.to-i)),c(t,"changed",{from:t.from,to:t.to,trigger:"scrollbar",DOMEvent:e})},t.buttonToMaxClick=function(e){var i=(t.to-t.from)*t.options.step;t.updatePosition(t.from+i,t.to+i),c(t,"changed",{from:t.from,to:t.to,trigger:"scrollbar",DOMEvent:e})},t.trackClick=function(e){var i=t.chart.pointer.normalize(e),r=t.to-t.from,n=t.y+t.scrollbarTop,s=t.x+t.scrollbarLeft;t.options.vertical&&i.chartY>n||!t.options.vertical&&i.chartX>s?t.updatePosition(t.from+r,t.to+r):t.updatePosition(t.from-r,t.to-r),c(t,"changed",{from:t.from,to:t.to,trigger:"scrollbar",DOMEvent:e})}},cursorToScrollbarPosition:function(t){var e=(e=this.options).minWidth>this.calculatedWidth?e.minWidth:0;return{chartX:(t.chartX-this.x-this.xOffset)/(this.barWidth-e),chartY:(t.chartY-this.y-this.yOffset)/(this.barWidth-e)}},updatePosition:function(t,e){1<e&&(t=s(1-s(e-t)),e=1),0>t&&(e=s(e-t),t=0),this.from=t,this.to=e},update:function(t){this.destroy(),this.init(this.chart.renderer,p(!0,this.options,t),this.chart)},addEvents:function(){var t=this.options.inverted?[1,0]:[0,1],e=this.scrollbarButtons,i=this.scrollbarGroup.element,n=this.mouseDownHandler,s=this.mouseMoveHandler,o=this.mouseUpHandler;t=[[e[t[0]].element,"click",this.buttonToMinClick],[e[t[1]].element,"click",this.buttonToMaxClick],[this.track.element,"click",this.trackClick],[i,"mousedown",n],[i.ownerDocument,"mousemove",s],[i.ownerDocument,"mouseup",o]];d&&t.push([i,"touchstart",n],[i.ownerDocument,"touchmove",s],[i.ownerDocument,"touchend",o]),l(t,function(t){r.apply(null,t)}),this._events=t},removeEvents:function(){l(this._events,function(t){g.apply(null,t)}),this._events.length=0},destroy:function(){var t=this.chart.scroller;this.removeEvents(),l(["track","scrollbarRifles","scrollbar","scrollbarGroup","group"],function(t){this[t]&&this[t].destroy&&(this[t]=this[t].destroy())},this),t&&this===t.scrollbar&&(t.scrollbar=null,h(t.scrollbarButtons))}},m(n.prototype,"init",function(t){var i=this;t.apply(i,Array.prototype.slice.call(arguments,1)),i.options.scrollbar&&i.options.scrollbar.enabled&&(i.options.scrollbar.vertical=!i.horiz,i.options.startOnTick=i.options.endOnTick=!1,i.scrollbar=new e(i.chart.renderer,i.options.scrollbar,i.chart),r(i.scrollbar,"changed",function(t){var e,r=Math.min(f(i.options.min,i.min),i.min,i.dataMin),n=Math.max(f(i.options.max,i.max),i.max,i.dataMax)-r;i.horiz&&!i.reversed||!i.horiz&&i.reversed?(e=r+n*this.to,r+=n*this.from):(e=r+n*(1-this.from),r+=n*(1-this.to)),i.setExtremes(r,e,!0,!1,t)}))}),m(n.prototype,"render",function(t){var e=Math.min(f(this.options.min,this.min),this.min,f(this.dataMin,this.min)),i=Math.max(f(this.options.max,this.max),this.max,f(this.dataMax,this.max)),r=this.scrollbar,n=this.titleOffset||0;t.apply(this,Array.prototype.slice.call(arguments,1)),r&&(this.horiz?(r.position(this.left,this.top+this.height+2+this.chart.scrollbarsOffsets[1]+(this.opposite?0:n+this.axisTitleMargin+this.offset),this.width,this.height),n=1):(r.position(this.left+this.width+2+this.chart.scrollbarsOffsets[0]+(this.opposite?n+this.axisTitleMargin+this.offset:0),this.top,this.width,this.height),n=0),(!this.opposite&&!this.horiz||this.opposite&&this.horiz)&&(this.chart.scrollbarsOffsets[n]+=this.scrollbar.size+this.scrollbar.options.margin),isNaN(e)||isNaN(i)||!a(this.min)||!a(this.max)?r.setRange(0,0):(n=(this.min-e)/(i-e),e=(this.max-e)/(i-e),this.horiz&&!this.reversed||!this.horiz&&this.reversed?r.setRange(n,e):r.setRange(1-e,1-n)))}),m(n.prototype,"getOffset",function(t){var e=this.horiz?2:1,i=this.scrollbar;t.apply(this,Array.prototype.slice.call(arguments,1)),i&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[e]+=i.size+i.options.margin)}),m(n.prototype,"destroy",function(t){this.scrollbar&&(this.scrollbar=this.scrollbar.destroy()),t.apply(this,Array.prototype.slice.call(arguments,1))}),t.Scrollbar=e}(e),function(t){function e(t){this.init(t)}var i=t.addEvent,r=t.Axis,n=t.Chart,s=t.color,o=t.defaultOptions,a=t.defined,h=t.destroyObjectProperties,l=t.each,c=t.erase,d=t.error,u=t.extend,p=t.grep,f=t.hasTouch,g=t.isArray,m=t.isNumber,v=t.isObject,y=t.merge,b=t.pick,x=t.removeEvent,w=t.Scrollbar,k=t.Series,_=t.seriesTypes,S=t.wrap,M=[].concat(t.defaultDataGroupingUnits),A=function(t){var e=p(arguments,m);if(e.length)return Math[t].apply(0,e)};M[4]=["day",[1,2,3,4]],M[5]=["week",[1,2,3]],_=void 0===_.areaspline?"line":"areaspline",u(o,{navigator:{height:40,margin:25,maskInside:!0,handles:{width:7,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:s("#6685c2").setOpacity(.3).get(),outlineColor:"#cccccc",outlineWidth:1,series:{type:_,fillOpacity:.05,lineWidth:1,compare:null,dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,smoothed:!0,units:M},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},pointRange:0,threshold:null},xAxis:{overscroll:0,className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#999999"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}}}),t.Renderer.prototype.symbols["navigator-handle"]=function(t,e,i,r,n){return t=n.width/2,e=Math.round(t/3)+.5,n=n.height,["M",-t-1,.5,"L",t,.5,"L",t,n+.5,"L",-t-1,n+.5,"L",-t-1,.5,"M",-e,4,"L",-e,n-3,"M",e-1,4,"L",e-1,n-3]},e.prototype={drawHandle:function(t,e,i,r){var n=this.navigatorOptions.handles.height;this.handles[e][r](i?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(t,10)+.5-n)}:{translateX:Math.round(this.left+parseInt(t,10)),translateY:Math.round(this.top+this.height/2-n/2-1)})},drawOutline:function(t,e,i,r){var n=this.navigatorOptions.maskInside,s=(o=this.outline.strokeWidth())/2,o=o%2/2,a=this.outlineHeight,h=this.scrollbarHeight,l=this.size,c=this.left-h,d=this.top;i?(c-=s,i=d+e+o,e=d+t+o,t=["M",c+a,d-h-o,"L",c+a,i,"L",c,i,"L",c,e,"L",c+a,e,"L",c+a,d+l+h].concat(n?["M",c+a,i-s,"L",c+a,e+s]:[])):(t+=c+h-o,e+=c+h-o,d+=s,t=["M",c,d,"L",t,d,"L",t,d+a,"L",e,d+a,"L",e,d,"L",c+l+2*h,d].concat(n?["M",t-s,d,"L",e+s,d]:[])),this.outline[r]({d:t})},drawMasks:function(t,e,i,r){var n,s,o,a,h=this.left,c=this.top,d=this.height;i?(o=[h,h,h],a=[c,c+t,c+e],s=[d,d,d],n=[t,e-t,this.size-e]):(o=[h,h+t,h+e],a=[c,c,c],s=[t,e-t,this.size-e],n=[d,d,d]),l(this.shades,function(t,e){t[r]({x:o[e],y:a[e],width:s[e],height:n[e]})})},renderElements:function(){var t,e=this,i=e.navigatorOptions,r=i.maskInside,n=e.chart,s=n.inverted,o=n.renderer;e.navigatorGroup=t=o.g("navigator").attr({zIndex:8,visibility:"hidden"}).add();var a={cursor:s?"ns-resize":"ew-resize"};l([!r,r,!r],function(r,n){e.shades[n]=o.rect().addClass("highcharts-navigator-mask"+(1===n?"-inside":"-outside")).attr({fill:r?i.maskFill:"rgba(0,0,0,0)"}).css(1===n&&a).add(t)}),e.outline=o.path().addClass("highcharts-navigator-outline").attr({"stroke-width":i.outlineWidth,stroke:i.outlineColor}).add(t),i.handles.enabled&&l([0,1],function(r){i.handles.inverted=n.inverted,e.handles[r]=o.symbol(i.handles.symbols[r],-i.handles.width/2-1,0,i.handles.width,i.handles.height,i.handles),e.handles[r].attr({zIndex:7-r}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][r]).add(t);var s=i.handles;e.handles[r].attr({fill:s.backgroundColor,stroke:s.borderColor,"stroke-width":s.lineWidth}).css(a)})},update:function(t){l(this.series||[],function(t){t.baseSeries&&delete t.baseSeries.navigatorSeries}),this.destroy(),y(!0,this.chart.options.navigator,this.options,t),this.init(this.chart)},render:function(e,i,r,n){var s,o,h,l=this.chart,c=this.scrollbarHeight,d=this.xAxis;s=d.fake?l.xAxis[0]:d;var u,p=this.navigatorEnabled,f=this.rendered;o=l.inverted;var g,v=l.xAxis[0].minRange,y=l.xAxis[0].options.maxRange;if(!this.hasDragged||a(r)){if(!m(e)||!m(i)){if(!f)return;r=0,n=b(d.width,s.width)}this.left=b(d.left,l.plotLeft+c+(o?l.plotWidth:0)),this.size=u=h=b(d.len,(o?l.plotHeight:l.plotWidth)-2*c),l=o?c:h+2*c,r=b(r,d.toPixels(e,!0)),n=b(n,d.toPixels(i,!0)),m(r)&&1/0!==Math.abs(r)||(r=0,n=l),e=d.toValue(r,!0),i=d.toValue(n,!0),(g=Math.abs(t.correctFloat(i-e)))<v?this.grabbedLeft?r=d.toPixels(i-v,!0):this.grabbedRight&&(n=d.toPixels(e+v,!0)):a(y)&&g>y&&(this.grabbedLeft?r=d.toPixels(i-y,!0):this.grabbedRight&&(n=d.toPixels(e+y,!0))),this.zoomedMax=Math.min(Math.max(r,n,0),u),this.zoomedMin=Math.min(Math.max(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(r,n),0),u),this.range=this.zoomedMax-this.zoomedMin,u=Math.round(this.zoomedMax),r=Math.round(this.zoomedMin),p&&(this.navigatorGroup.attr({visibility:"visible"}),f=f&&!this.hasDragged?"animate":"attr",this.drawMasks(r,u,o,f),this.drawOutline(r,u,o,f),this.navigatorOptions.handles.enabled&&(this.drawHandle(r,0,o,f),this.drawHandle(u,1,o,f))),this.scrollbar&&(o?(o=this.top-c,s=this.left-c+(p||!s.opposite?0:(s.titleOffset||0)+s.axisTitleMargin),c=h+2*c):(o=this.top+(p?this.height:-c),s=this.left-c),this.scrollbar.position(s,o,l,c),this.scrollbar.setRange(this.zoomedMin/h,this.zoomedMax/h)),this.rendered=!0}},addMouseEvents:function(){var t,e,r=this,n=r.chart,s=n.container,o=[];r.mouseMoveHandler=t=function(t){r.onMouseMove(t)},r.mouseUpHandler=e=function(t){r.onMouseUp(t)},(o=r.getPartsEvents("mousedown")).push(i(s,"mousemove",t),i(s.ownerDocument,"mouseup",e)),f&&(o.push(i(s,"touchmove",t),i(s.ownerDocument,"touchend",e)),o.concat(r.getPartsEvents("touchstart"))),r.eventsToUnbind=o,r.series&&r.series[0]&&o.push(i(r.series[0].xAxis,"foundExtremes",function(){n.navigator.modifyNavigatorAxisExtremes()}))},getPartsEvents:function(t){var e=this,r=[];return l(["shades","handles"],function(n){l(e[n],function(s,o){r.push(i(s.element,t,function(t){e[n+"Mousedown"](t,o)}))})}),r},shadesMousedown:function(t,e){t=this.chart.pointer.normalize(t);var i,r=this.chart,n=this.xAxis,s=this.zoomedMin,o=this.left,a=this.size,h=this.range,l=t.chartX;r.inverted&&(l=t.chartY,o=this.top),1===e?(this.grabbedCenter=l,this.fixedWidth=h,this.dragOffset=l-s):(t=l-o-h/2,0===e?t=Math.max(0,t):2===e&&t+h>=a&&(t=a-h,i=this.getUnionExtremes().dataMax),t!==s&&(this.fixedWidth=h,e=n.toFixedRange(t,t+h,null,i),r.xAxis[0].setExtremes(Math.min(e.min,e.max),Math.max(e.min,e.max),!0,null,{trigger:"navigator"})))},handlesMousedown:function(t,e){this.chart.pointer.normalize(t);var i=(t=this.chart).xAxis[0],r=t.inverted&&!i.reversed||!t.inverted&&i.reversed;0===e?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=r?i.min:i.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=r?i.max:i.min),t.fixedRange=null},onMouseMove:function(t){var e=this,i=e.chart,r=e.left,n=e.navigatorSize,s=e.range,o=e.dragOffset,a=i.inverted;t.touches&&0===t.touches[0].pageX||(t=i.pointer.normalize(t),i=t.chartX,a&&(r=e.top,i=t.chartY),e.grabbedLeft?(e.hasDragged=!0,e.render(0,0,i-r,e.otherHandlePos)):e.grabbedRight?(e.hasDragged=!0,e.render(0,0,e.otherHandlePos,i-r)):e.grabbedCenter&&(e.hasDragged=!0,i<o?i=o:i>n+o-s&&(i=n+o-s),e.render(0,0,i-o,i-o+s)),e.hasDragged&&e.scrollbar&&e.scrollbar.options.liveRedraw&&(t.DOMType=t.type,setTimeout(function(){e.onMouseUp(t)},0)))},onMouseUp:function(t){var e,i,r=this.chart,n=this.xAxis,s=this.scrollbar,o=t.DOMEvent||t;(!this.hasDragged||s&&s.hasDragged)&&"scrollbar"!==t.trigger||(this.zoomedMin===this.otherHandlePos?e=this.fixedExtreme:this.zoomedMax===this.otherHandlePos&&(i=this.fixedExtreme),this.zoomedMax===this.size&&(i=this.getUnionExtremes().dataMax),n=n.toFixedRange(this.zoomedMin,this.zoomedMax,e,i),a(n.min)&&r.xAxis[0].setExtremes(Math.min(n.min,n.max),Math.max(n.min,n.max),!0,!this.hasDragged&&null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:o})),"mousemove"!==t.DOMType&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null)},removeEvents:function(){this.eventsToUnbind&&(l(this.eventsToUnbind,function(t){t()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()},removeBaseSeriesEvents:function(){var t=this.baseSeries||[];this.navigatorEnabled&&t[0]&&(!1!==this.navigatorOptions.adaptToUpdatedData&&l(t,function(t){x(t,"updatedData",this.updatedDataHandler)},this),t[0].xAxis&&x(t[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))},init:function(t){var e=(o=t.options).navigator,n=e.enabled,s=(l=o.scrollbar).enabled,o=n?e.height:0,a=s?l.height:0;this.handles=[],this.shades=[],this.chart=t,this.setBaseSeries(),this.height=o,this.scrollbarHeight=a,this.scrollbarEnabled=s,this.navigatorEnabled=n,this.navigatorOptions=e,this.scrollbarOptions=l,this.outlineHeight=o+a,this.opposite=b(e.opposite,!n&&t.inverted);var h=this,l=h.baseSeries,c=(s=t.xAxis.length,t.yAxis.length),d=l&&l[0]&&l[0].xAxis||t.xAxis[0];t.extraMargin={type:h.opposite?"plotTop":"marginBottom",value:(n||!t.inverted?h.outlineHeight:0)+e.margin},t.inverted&&(t.extraMargin.type=h.opposite?"marginRight":"plotLeft"),t.isDirtyBox=!0,h.navigatorEnabled?(h.xAxis=new r(t,y({breaks:d.options.breaks,ordinal:d.options.ordinal},e.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",isX:!0,type:"datetime",index:s,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},t.inverted?{offsets:[a,0,-a,0],width:o}:{offsets:[0,-a,0,a],height:o})),h.yAxis=new r(t,y(e.yAxis,{id:"navigator-y-axis",alignTicks:!1,offset:0,index:c,zoomEnabled:!1},t.inverted?{width:o}:{height:o})),l||e.series.data?h.updateNavigatorSeries():0===t.series.length&&S(t,"redraw",function(e,i){0<t.series.length&&!h.series&&(h.setBaseSeries(),t.redraw=e),e.call(t,i)}),h.renderElements(),h.addMouseEvents()):h.xAxis={translate:function(e,i){var r=(o=t.xAxis[0]).getExtremes(),n=o.len-2*a,s=A("min",o.options.min,r.dataMin),o=A("max",o.options.max,r.dataMax)-s;return i?e*o/n+s:n*(e-s)/o},toPixels:function(t){return this.translate(t)},toValue:function(t){return this.translate(t,!0)},toFixedRange:r.prototype.toFixedRange,fake:!0},t.options.scrollbar.enabled&&(t.scrollbar=h.scrollbar=new w(t.renderer,y(t.options.scrollbar,{margin:h.navigatorEnabled?0:10,vertical:t.inverted}),t),i(h.scrollbar,"changed",function(e){var i=(r=h.size)*this.to,r=r*this.from;h.hasDragged=h.scrollbar.hasDragged,h.render(0,0,r,i),(t.options.scrollbar.liveRedraw||"mousemove"!==e.DOMType)&&setTimeout(function(){h.onMouseUp(e)})})),h.addBaseSeriesEvents(),h.addChartEvents()},getUnionExtremes:function(t){var e,i=this.chart.xAxis[0],r=this.xAxis,n=r.options,s=i.options;return t&&null===i.dataMin||(e={dataMin:b(n&&n.min,A("min",s.min,i.dataMin,r.dataMin,r.min)),dataMax:b(n&&n.max,A("max",s.max,i.dataMax,r.dataMax,r.max))}),e},setBaseSeries:function(t,e){var i=this.chart,r=this.baseSeries=[];t=t||i.options&&i.options.navigator.baseSeries||0,l(i.series||[],function(e,i){e.options.isInternal||!e.options.showInNavigator&&(i!==t&&e.options.id!==t||!1===e.options.showInNavigator)||r.push(e)}),this.xAxis&&!this.xAxis.fake&&this.updateNavigatorSeries(e)},updateNavigatorSeries:function(e){var i,r,n,s=this,a=s.chart,h=s.baseSeries,c=s.navigatorOptions.series,d={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",showInLegend:!1,stacking:!1,isInternal:!0,visible:!0},p=s.series=t.grep(s.series||[],function(e){var i=e.baseSeries;return!(0>t.inArray(i,h))||(i&&(x(i,"updatedData",s.updatedDataHandler),delete i.navigatorSeries),e.destroy(),!1)});h&&h.length&&l(h,function(t){var l=t.navigatorSeries,f=u({color:t.color},g(c)?o.navigator.series:c);l&&!1===s.navigatorOptions.adaptToUpdatedData||(d.name="Navigator "+h.length,i=t.options||{},n=i.navigatorOptions||{},r=y(i,d,f,n),f=n.data||f.data,s.hasNavigatorData=s.hasNavigatorData||!!f,r.data=f||i.data&&i.data.slice(0),l&&l.options?l.update(r,e):(t.navigatorSeries=a.initSeries(r),t.navigatorSeries.baseSeries=t,p.push(t.navigatorSeries)))}),(!c.data||h&&h.length)&&!g(c)||(s.hasNavigatorData=!1,c=t.splat(c),l(c,function(t,e){d.name="Navigator "+(p.length+1),(r=y(o.navigator.series,{color:a.series[e]&&!a.series[e].options.isInternal&&a.series[e].color||a.options.colors[e]||a.options.colors[0]},d,t)).data=t.data,r.data&&(s.hasNavigatorData=!0,p.push(a.initSeries(r)))})),this.addBaseSeriesEvents()},addBaseSeriesEvents:function(){var t=this,e=t.baseSeries||[];e[0]&&e[0].xAxis&&i(e[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes),l(e,function(e){i(e,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)}),i(e,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)}),!1!==this.navigatorOptions.adaptToUpdatedData&&e.xAxis&&i(e,"updatedData",this.updatedDataHandler),i(e,"remove",function(){this.navigatorSeries&&(c(t.series,this.navigatorSeries),this.navigatorSeries.remove(!1),delete this.navigatorSeries)})},this)},modifyNavigatorAxisExtremes:function(){var t,e=this.xAxis;e.getExtremes&&(!(t=this.getUnionExtremes(!0))||t.dataMin===e.min&&t.dataMax===e.max||(e.min=t.dataMin,e.max=t.dataMax))},modifyBaseAxisExtremes:function(){var t,e,i=this.chart.navigator,r=(s=this.getExtremes()).dataMin,n=s.dataMax,s=s.max-s.min,o=i.stickToMin,a=i.stickToMax,h=this.options.overscroll,l=i.series&&i.series[0],c=!!this.setExtremes;this.eventArgs&&"rangeSelectorButton"===this.eventArgs.trigger||(o&&(e=r,t=e+s),a&&(t=n+h,o||(e=Math.max(t-s,l&&l.xData?l.xData[0]:-Number.MAX_VALUE))),c&&(o||a)&&m(e)&&(this.min=this.userMin=e,this.max=this.userMax=t)),i.stickToMin=i.stickToMax=null},updatedDataHandler:function(){var t=this.chart.navigator,e=this.navigatorSeries;t.stickToMax=Math.round(t.zoomedMax)>=Math.round(t.size),t.stickToMin=m(this.xAxis.min)&&this.xAxis.min<=this.xData[0]&&(!this.chart.fixedRange||!t.stickToMax),e&&!t.hasNavigatorData&&(e.options.pointStart=this.xData[0],e.setData(this.options.data,!1,null,!1))},addChartEvents:function(){i(this.chart,"redraw",function(){var t=this.navigator,e=t&&(t.baseSeries&&t.baseSeries[0]&&t.baseSeries[0].xAxis||t.scrollbar&&this.xAxis[0]);e&&t.render(e.min,e.max)})},destroy:function(){this.removeEvents(),this.xAxis&&(c(this.chart.xAxis,this.xAxis),c(this.chart.axes,this.xAxis)),this.yAxis&&(c(this.chart.yAxis,this.yAxis),c(this.chart.axes,this.yAxis)),l(this.series||[],function(t){t.destroy&&t.destroy()}),l("series xAxis yAxis shades outline scrollbarTrack scrollbarRifles scrollbarGroup scrollbar navigatorGroup rendered".split(" "),function(t){this[t]&&this[t].destroy&&this[t].destroy(),this[t]=null},this),l([this.handles],function(t){h(t)},this)}},t.Navigator=e,S(r.prototype,"zoom",function(t,e,i){var r,n=this.chart,s=(h=n.options).chart.zoomType,o=h.navigator,h=h.rangeSelector;return this.isXAxis&&(o&&o.enabled||h&&h.enabled)&&("x"===s?n.resetZoomButton="blocked":"y"===s?r=!1:"xy"===s&&this.options.range&&(n=this.previousZoom,a(e)?this.previousZoom=[this.min,this.max]:n&&(e=n[0],i=n[1],delete this.previousZoom))),void 0!==r?r:t.call(this,e,i)}),S(n.prototype,"init",function(t,r,n){i(this,"beforeRender",function(){var t=this.options;(t.navigator.enabled||t.scrollbar.enabled)&&(this.scroller=this.navigator=new e(this))}),t.call(this,r,n)}),S(n.prototype,"setChartSize",function(t){var e,i,r,n,s=this.legend,o=this.navigator;t.apply(this,[].slice.call(arguments,1)),o&&(i=s&&s.options,r=o.xAxis,n=o.yAxis,e=o.scrollbarHeight,this.inverted?(o.left=o.opposite?this.chartWidth-e-o.height:this.spacing[3]+e,o.top=this.plotTop+e):(o.left=this.plotLeft+e,o.top=o.navigatorOptions.top||this.chartHeight-o.height-e-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(i&&"bottom"===i.verticalAlign&&i.enabled&&!i.floating?s.legendHeight+b(i.margin,10):0)),r&&n&&(this.inverted?r.options.left=n.options.left=o.left:r.options.top=n.options.top=o.top,r.setAxisSize(),n.setAxisSize()))}),S(k.prototype,"addPoint",function(t,e,i,r,n){var s=this.options.turboThreshold;s&&this.xData.length>s&&v(e,!0)&&this.chart.navigator&&d(20,!0),t.call(this,e,i,r,n)}),S(n.prototype,"addSeries",function(t,e,i,r){return t=t.call(this,e,!1,r),this.navigator&&this.navigator.setBaseSeries(null,!1),b(i,!0)&&this.redraw(),t}),S(k.prototype,"update",function(t,e,i){t.call(this,e,!1),this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1),b(i,!0)&&this.chart.redraw()}),n.prototype.callbacks.push(function(t){var e=t.navigator;e&&(t=t.xAxis[0].getExtremes(),e.render(t.min,t.max))})}(e),function(t){function e(t){this.init(t)}var i=t.addEvent,r=t.Axis,n=t.Chart,s=t.css,o=t.createElement,a=t.dateFormat,h=t.defaultOptions,l=h.global.useUTC,c=t.defined,d=t.destroyObjectProperties,u=t.discardElement,p=t.each,f=t.extend,g=t.fireEvent,m=t.Date,v=t.isNumber,y=t.merge,b=t.pick,x=t.pInt,w=t.splat,k=t.wrap;f(h,{rangeSelector:{verticalAlign:"top",buttonTheme:{"stroke-width":0,width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputPosition:{align:"right",x:0,y:0},buttonPosition:{align:"left",x:0,y:0},labelStyle:{color:"#666666"}}}),h.lang=y(h.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"From",rangeSelectorTo:"To"}),e.prototype={clickButton:function(t,e){var n,s,o,a,h,c=this,d=c.chart,u=c.buttonOptions[t],f=d.xAxis[0],g=(k=d.scroller&&d.scroller.getUnionExtremes()||f||{}).dataMin,m=k.dataMax,y=f&&Math.round(Math.min(f.max,b(m,f.max))),x=u.type,k=u._range,_=u.dataGrouping;if(null!==g&&null!==m){if(d.fixedRange=k,_&&(this.forcedDataGrouping=!0,r.prototype.setDataGrouping.call(f||{chart:this.chart},_,!1)),"month"===x||"year"===x)f?(x={range:u,max:y,dataMin:g,dataMax:m},n=f.minFromRange.call(x),v(x.newMax)&&(y=x.newMax)):k=u;else if(k)n=Math.max(y-k,g),y=Math.min(n+k,m);else if("ytd"===x){if(!f)return void i(d,"beforeRender",function(){c.clickButton(t)});void 0===m&&(g=Number.MAX_VALUE,m=Number.MIN_VALUE,p(d.series,function(t){t=t.xData,g=Math.min(t[0],g),m=Math.max(t[t.length-1],m)}),e=!1),n=o=(y=c.getYTDExtremes(m,g,l)).min,y=y.max}else"all"===x&&f&&(n=g,y=m);n+=u._offsetMin,y+=u._offsetMax,c.setSelected(t),f?f.setExtremes(n,y,b(e,1),null,{trigger:"rangeSelectorButton",rangeSelectorButton:u}):(s=w(d.options.xAxis)[0],h=s.range,s.range=k,a=s.min,s.min=o,i(d,"load",function(){s.range=h,s.min=a}))}},setSelected:function(t){this.selected=this.options.selected=t},defaultButtons:[{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"month",count:6,text:"6m"},{type:"ytd",text:"YTD"},{type:"year",count:1,text:"1y"},{type:"all",text:"All"}],init:function(t){var e=this,r=t.options.rangeSelector,n=r.buttons||[].concat(e.defaultButtons),s=r.selected,o=function(){var t=e.minInput,i=e.maxInput;t&&t.blur&&g(t,"blur"),i&&i.blur&&g(i,"blur")};e.chart=t,e.options=r,e.buttons=[],t.extraTopMargin=r.height,e.buttonOptions=n,this.unMouseDown=i(t.container,"mousedown",o),this.unResize=i(t,"resize",o),p(n,e.computeButtonRange),void 0!==s&&n[s]&&this.clickButton(s,!1),i(t,"load",function(){t.xAxis&&t.xAxis[0]&&i(t.xAxis[0],"setExtremes",function(i){this.max-this.min!==t.fixedRange&&"rangeSelectorButton"!==i.trigger&&"updatedData"!==i.trigger&&e.forcedDataGrouping&&this.setDataGrouping(!1,!1)})})},updateButtonStates:function(){var t,e=(t=this.chart).xAxis[0],i=Math.round(e.max-e.min),r=!e.hasVisibleSeries,n=(t=t.scroller&&t.scroller.getUnionExtremes()||e).dataMin,s=t.dataMax,o=(t=this.getYTDExtremes(s,n,l)).min,a=t.max,h=this.selected,c=v(h),d=this.options.allButtonsEnabled,u=this.buttons;p(this.buttonOptions,function(t,l){var p=t._range,f=t.type,g=t.count||1,m=u[l],v=0;t=t._offsetMax-t._offsetMin,l=l===h;var y=p>s-n,b=p<e.minRange,x=!1,w=!1;p=p===i;("month"===f||"year"===f)&&i>=864e5*{month:28,year:365}[f]*g+t&&i<=864e5*{month:31,year:366}[f]*g+t?p=!0:"ytd"===f?(p=a-o+t===i,x=!l):"all"===f&&(p=e.max-e.min>=s-n,w=!l&&c&&p),f=!d&&(y||b||w||r),g=l&&p||p&&!c&&!x,f?v=3:g&&(c=!0,v=2),m.state!==v&&m.setState(v)})},computeButtonRange:function(t){var e=t.type,i=t.count||1,r={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};r[e]?t._range=r[e]*i:"month"!==e&&"year"!==e||(t._range=864e5*{month:30,year:365}[e]*i),t._offsetMin=b(t.offsetMin,0),t._offsetMax=b(t.offsetMax,0),t._range+=t._offsetMax-t._offsetMin},setInputValue:function(t,e){var i=this.chart.options.rangeSelector,r=this[t+"Input"];c(e)&&(r.previousValue=r.HCTime,r.HCTime=e),r.value=a(i.inputEditDateFormat||"%Y-%m-%d",r.HCTime),this[t+"DateBox"].attr({text:a(i.inputDateFormat||"%b %e, %Y",r.HCTime)})},showInput:function(t){var e=this.inputGroup,i=this[t+"DateBox"];s(this[t+"Input"],{left:e.translateX+i.x+"px",top:e.translateY+"px",width:i.width-2+"px",height:i.height-2+"px",border:"2px solid silver"})},hideInput:function(t){s(this[t+"Input"],{border:0,width:"1px",height:"1px"}),this.setInputValue(t)},drawInput:function(t){function e(){var t=i.value,e=(u.inputDateParser||Date.parse)(t),r=a.xAxis[0],s=(o=a.scroller&&a.scroller.xAxis?a.scroller.xAxis:r).dataMin,o=o.dataMax;e!==i.previousValue&&(i.previousValue=e,v(e)||(e=t.split("-"),e=Date.UTC(x(e[0]),x(e[1])-1,x(e[2]))),v(e)&&(l||(e+=6e4*(new Date).getTimezoneOffset()),g?e>n.maxInput.HCTime?e=void 0:e<s&&(e=s):e<n.minInput.HCTime?e=void 0:e>o&&(e=o),void 0!==e&&r.setExtremes(g?e:r.min,g?r.max:e,void 0,void 0,{trigger:"rangeSelectorInput"})))}var i,r,n=this,a=n.chart,c=a.renderer.style||{},d=a.renderer,u=a.options.rangeSelector,p=n.div,g="min"===t,m=this.inputGroup;this[t+"Label"]=r=d.label(h.lang[g?"rangeSelectorFrom":"rangeSelectorTo"],this.inputGroup.offset).addClass("highcharts-range-label").attr({padding:2}).add(m),m.offset+=r.width+5,this[t+"DateBox"]=d=d.label("",m.offset).addClass("highcharts-range-input").attr({padding:2,width:u.inputBoxWidth||90,height:u.inputBoxHeight||17,stroke:u.inputBoxBorderColor||"#cccccc","stroke-width":1,"text-align":"center"}).on("click",function(){n.showInput(t),n[t+"Input"].focus()}).add(m),m.offset+=d.width+(g?10:0),this[t+"Input"]=i=o("input",{name:t,className:"highcharts-range-selector",type:"text"},{top:a.plotTop+"px"},p),r.css(y(c,u.labelStyle)),d.css(y({color:"#333333"},c,u.inputStyle)),s(i,f({position:"absolute",border:0,width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:c.fontSize,fontFamily:c.fontFamily,top:"-9999em"},u.inputStyle)),i.onfocus=function(){n.showInput(t)},i.onblur=function(){n.hideInput(t)},i.onchange=e,i.onkeypress=function(t){13===t.keyCode&&e()}},getPosition:function(){var t,e=(t=this.chart).options.rangeSelector;return{buttonTop:(t="top"===e.verticalAlign?t.plotTop-t.axisOffset[0]:0)+e.buttonPosition.y,inputTop:t+e.inputPosition.y-10}},getYTDExtremes:function(t,e,i){var r=new m(t),n=r[m.hcGetFullYear]();return i=i?m.UTC(n,0,1):+new m(n,0,1),e=Math.max(e||0,i),r=r.getTime(),{max:Math.min(t||r,r),min:e}},render:function(t,e){var i,r,n=this,s=n.chart,a=s.renderer,l=s.container,c=(g=s.options).exporting&&!1!==g.exporting.enabled&&g.navigation&&g.navigation.buttonOptions,d=h.lang,u=n.div,f=g.rangeSelector,g=f.floating,m=n.buttons,v=(u=n.inputGroup,f.buttonTheme),y=f.buttonPosition,x=f.inputPosition,w=f.inputEnabled,k=v&&v.states,_=s.plotLeft,S=n.buttonGroup;r=n.rendered;var M,A=n.options.verticalAlign,C=s.legend,T=C&&C.options,L=y.y,P=x.y,E=r||!1,O=0,D=0;!1!==f.enabled&&(r||(n.group=r=a.g("range-selector-group").attr({zIndex:7}).add(),n.buttonGroup=S=a.g("range-selector-buttons").add(r),n.zoomText=a.text(d.rangeSelectorZoom,b(_+y.x,_),15).css(f.labelStyle).add(S),i=b(_+y.x,_)+n.zoomText.getBBox().width+5,p(n.buttonOptions,function(t,e){m[e]=a.button(t.text,i,0,function(){var i,r=t.events&&t.events.click;r&&(i=r.call(t)),!1!==i&&n.clickButton(e),n.isActive=!0},v,k&&k.hover,k&&k.select,k&&k.disabled).attr({"text-align":"center"}).add(S),i+=m[e].width+b(f.buttonSpacing,5)}),!1!==w&&(n.div=u=o("div",null,{position:"relative",height:0,zIndex:1}),l.parentNode.insertBefore(u,l),n.inputGroup=u=a.g("input-group").add(r),u.offset=0,n.drawInput("min"),n.drawInput("max"))),_=s.plotLeft-s.spacing[3],n.updateButtonStates(),c&&this.titleCollision(s)&&"top"===A&&"right"===y.align&&y.y+S.getBBox().height-12<(c.y||0)+c.height&&(O=-40),"left"===y.align?M=y.x-s.spacing[3]:"right"===y.align&&(M=y.x+O-s.spacing[1]),S.align({y:y.y,width:S.getBBox().width,align:y.align,x:M},!0,s.spacingBox),n.group.placed=E,n.buttonGroup.placed=E,!1!==w&&(O=c&&this.titleCollision(s)&&"top"===A&&"right"===x.align&&x.y-u.getBBox().height-12<(c.y||0)+c.height+s.spacing[0]?-40:0,"left"===x.align?M=_:"right"===x.align&&(M=-Math.max(s.axisOffset[1],-O)),u.align({y:x.y,width:u.getBBox().width,align:x.align,x:x.x+M-2},!0,s.spacingBox),l=u.alignAttr.translateX+u.alignOptions.x-O+u.getBBox().x+2,c=u.alignOptions.width,d=S.alignAttr.translateX+S.getBBox().x,M=S.getBBox().width+20,(x.align===y.align||d+M>l&&l+c>d&&L<P+u.getBBox().height)&&u.attr({translateX:u.alignAttr.translateX+(s.axisOffset[1]>=-O?0:-O),translateY:u.alignAttr.translateY+S.getBBox().height+10}),n.setInputValue("min",t),n.setInputValue("max",e),n.inputGroup.placed=E),n.group.align({verticalAlign:A},!0,s.spacingBox),t=n.group.getBBox().height+20,e=n.group.alignAttr.translateY,"bottom"===A&&(C=T&&"bottom"===T.verticalAlign&&T.enabled&&!T.floating?C.legendHeight+b(T.margin,10):0,t=t+C-20,D=e-t-(g?0:f.y)-10),"top"===A?(g&&(D=0),s.titleOffset&&(D=s.titleOffset+s.options.title.margin),D+=s.margin[0]-s.spacing[0]||0):"middle"===A&&(P===L?D=0>P?e+void 0:e:(P||L)&&(D=0>P||0>L?D-Math.min(P,L):e-t+NaN)),n.group.translate(f.x,f.y+Math.floor(D)),!1!==w&&(n.minInput.style.marginTop=n.group.translateY+"px",n.maxInput.style.marginTop=n.group.translateY+"px"),n.rendered=!0)},getHeight:function(){var t=this.options,e=this.group,i=t.y,r=t.buttonPosition.y;t=t.inputPosition.y,e=e?e.getBBox(!0).height+13+i:0,i=Math.min(t,r);return(0>t&&0>r||0<t&&0<r)&&(e+=Math.abs(i)),e},titleCollision:function(t){return!(t.options.title.text||t.options.subtitle.text)},update:function(t){var e=this.chart;y(!0,e.options.rangeSelector,t),this.destroy(),this.init(e),e.rangeSelector.render()},destroy:function(){var i=this,r=i.minInput,n=i.maxInput;i.unMouseDown(),i.unResize(),d(i.buttons),r&&(r.onfocus=r.onblur=r.onchange=null),n&&(n.onfocus=n.onblur=n.onchange=null),t.objectEach(i,function(t,r){t&&"chart"!==r&&(t.destroy?t.destroy():t.nodeType&&u(this[r])),t!==e.prototype[r]&&(i[r]=null)},this)}},r.prototype.toFixedRange=function(t,e,i,r){var n=this.chart&&this.chart.fixedRange;return t=b(i,this.translate(t,!0,!this.horiz)),e=b(r,this.translate(e,!0,!this.horiz)),.7<(i=n&&(e-t)/n)&&1.3>i&&(r?t=e-n:e=t+n),v(t)||(t=e=void 0),{min:t,max:e}},r.prototype.minFromRange=function(){var t,e,i,r=this.range,n={month:"Month",year:"FullYear"}[r.type],s=this.max,o=function(t,e){var i=new Date(t),r=i["get"+n]();return i["set"+n](r+e),r===i["get"+n]()&&i.setDate(0),i.getTime()-t};return v(r)?(t=s-r,i=r):(t=s+o(s,-r.count),this.chart&&(this.chart.fixedRange=s-t)),e=b(this.dataMin,Number.MIN_VALUE),v(t)||(t=e),t<=e&&(t=e,void 0===i&&(i=o(t,r.count)),this.newMax=Math.min(t+i,this.dataMax)),v(s)||(t=void 0),t},k(n.prototype,"init",function(t,r,n){i(this,"init",function(){this.options.rangeSelector.enabled&&(this.rangeSelector=new e(this))}),t.call(this,r,n)}),k(n.prototype,"render",function(t,e,i){var r=this.axes,n=this.rangeSelector;n&&(p(r,function(t){t.updateNames(),t.setScale()}),this.getAxisMargins(),n.render(),r=n.options.verticalAlign,n.options.floating||("bottom"===r?this.extraBottomMargin=!0:"middle"!==r&&(this.extraTopMargin=!0))),t.call(this,e,i)}),k(n.prototype,"update",function(e,i,r,n){var s,o=this.rangeSelector;this.extraTopMargin=this.extraBottomMargin=!1,o&&(o.render(),s=i.rangeSelector&&i.rangeSelector.verticalAlign||o.options&&o.options.verticalAlign,o.options.floating||("bottom"===s?this.extraBottomMargin=!0:"middle"!==s&&(this.extraTopMargin=!0))),e.call(this,t.merge(!0,i,{chart:{marginBottom:b(i.chart&&i.chart.marginBottom,this.margin.bottom),spacingBottom:b(i.chart&&i.chart.spacingBottom,this.spacing.bottom)}}),r,n)}),k(n.prototype,"redraw",function(t,e,i){var r=this.rangeSelector;r&&!r.options.floating&&(r.render(),"bottom"===(r=r.options.verticalAlign)?this.extraBottomMargin=!0:"middle"!==r&&(this.extraTopMargin=!0)),t.call(this,e,i)}),n.prototype.adjustPlotArea=function(){var t=this.rangeSelector;this.rangeSelector&&(t=t.getHeight(),this.extraTopMargin&&(this.plotTop+=t),this.extraBottomMargin&&(this.marginBottom+=t))},n.prototype.callbacks.push(function(t){function e(){r=t.xAxis[0].getExtremes(),v(r.min)&&o.render(r.min,r.max)}var r,n,s,o=t.rangeSelector;o&&(s=i(t.xAxis[0],"afterSetExtremes",function(t){o.render(t.min,t.max)}),n=i(t,"redraw",e),e()),i(t,"destroy",function(){o&&(n(),s())})}),t.RangeSelector=e}(e),function(t){var e=t.arrayMax,i=t.arrayMin,r=t.Axis,n=t.Chart,s=t.defined,o=t.each,a=t.extend,h=t.format,l=t.grep,c=t.inArray,d=t.isNumber,u=t.isString,p=t.map,f=t.merge,g=t.pick,m=t.Point,v=t.Renderer,y=t.Series,b=t.splat,x=t.SVGRenderer,w=t.VMLRenderer,k=t.wrap,_=y.prototype,S=_.init,M=_.processData,A=m.prototype.tooltipFormatter;t.StockChart=t.stockChart=function(e,i,r){var s,o=u(e)||e.nodeName,a=arguments[o?1:0],h=a.series,l=t.getOptions(),c=g(a.navigator&&a.navigator.enabled,l.navigator.enabled,!0),d=c?{startOnTick:!1,endOnTick:!1}:null,m={marker:{enabled:!1,radius:2}},v={shadow:!1,borderWidth:0};return a.xAxis=p(b(a.xAxis||{}),function(t){return f({minPadding:0,maxPadding:0,overscroll:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0},l.xAxis,t,{type:"datetime",categories:null},d)}),a.yAxis=p(b(a.yAxis||{}),function(t){return s=g(t.opposite,!0),f({labels:{y:-2},opposite:s,showLastLabel:!1,title:{text:null}},l.yAxis,t)}),a.series=null,a=f({chart:{panning:!0,pinchType:"x"},navigator:{enabled:c},scrollbar:{enabled:g(l.scrollbar.enabled,!0)},rangeSelector:{enabled:g(l.rangeSelector.enabled,!0)},title:{text:null},tooltip:{split:!0,crosshairs:!0},legend:{enabled:!1},plotOptions:{line:m,spline:m,area:m,areaspline:m,arearange:m,areasplinerange:m,column:v,columnrange:v,candlestick:v,ohlc:v}},a,{isStock:!0}),a.series=h,o?new n(e,a,r):new n(a,i)},k(r.prototype,"autoLabelAlign",function(t){var e=this.chart,i=this.options,r=(e=e._labelPanes=e._labelPanes||{},this.options.labels);return this.chart.options.isStock&&"yAxis"===this.coll&&(i=i.top+","+i.height,!e[i]&&r.enabled)?(15===r.x&&(r.x=0),void 0===r.align&&(r.align="right"),e[i]=this,"right"):t.apply(this,[].slice.call(arguments,1))}),k(r.prototype,"destroy",function(t){var e=this.chart,i=this.options&&this.options.top+","+this.options.height;return i&&e._labelPanes&&e._labelPanes[i]===this&&delete e._labelPanes[i],t.apply(this,Array.prototype.slice.call(arguments,1))}),k(r.prototype,"getPlotLinePath",function(e,i,r,n,a,h){var l,f,m,v,y,b,x=this,w=this.isLinked&&!this.series?this.linkedParent.series:this.series,k=x.chart,_=k.renderer,S=x.left,M=x.top,A=[],C=[];return"xAxis"!==x.coll&&"yAxis"!==x.coll?e.apply(this,[].slice.call(arguments,1)):(C=function(t){var e="xAxis"===t?"yAxis":"xAxis";return t=x.options[e],d(t)?[k[e][t]]:u(t)?[k.get(t)]:p(w,function(t){return t[e]})}(x.coll),o(x.isXAxis?k.yAxis:k.xAxis,function(t){if(!s(t.options.id)||-1===t.options.id.indexOf("navigator")){var e=t.isXAxis?"yAxis":"xAxis";e=s(t.options[e])?k[e][t.options[e]]:k[e][0];x===e&&C.push(t)}}),y=C.length?[]:[x.isXAxis?k.yAxis[0]:k.xAxis[0]],o(C,function(e){-1!==c(e,y)||t.find(y,function(t){return t.pos===e.pos&&t.len&&e.len})||y.push(e)}),b=g(h,x.translate(i,null,null,n)),d(b)&&(x.horiz?o(y,function(t){var e;f=t.pos,v=f+t.len,((l=m=Math.round(b+x.transB))<S||l>S+x.width)&&(a?l=m=Math.min(Math.max(S,l),S+x.width):e=!0),e||A.push("M",l,f,"L",m,v)}):o(y,function(t){var e;l=t.pos,m=l+t.len,((f=v=Math.round(M+x.height-b))<M||f>M+x.height)&&(a?f=v=Math.min(Math.max(M,f),x.top+x.height):e=!0),e||A.push("M",l,f,"L",m,v)})),0<A.length?_.crispPolyLine(A,r||1):null)}),x.prototype.crispPolyLine=function(t,e){var i;for(i=0;i<t.length;i+=6)t[i+1]===t[i+4]&&(t[i+1]=t[i+4]=Math.round(t[i+1])-e%2/2),t[i+2]===t[i+5]&&(t[i+2]=t[i+5]=Math.round(t[i+2])+e%2/2);return t},v===w&&(w.prototype.crispPolyLine=x.prototype.crispPolyLine),k(r.prototype,"hideCrosshair",function(t,e){t.call(this,e),this.crossLabel&&(this.crossLabel=this.crossLabel.hide())}),k(r.prototype,"drawCrosshair",function(t,e,i){var r,n;if(t.call(this,e,i),s(this.crosshair.label)&&this.crosshair.label.enabled&&this.cross){t=this.chart;var o=this.options.crosshair.label,l=this.horiz;r=this.opposite,n=this.left;var c,d=this.top,u=this.crossLabel,p=o.format,f="",m="inside"===this.options.tickPosition,v=!1!==this.crosshair.snap,y=0;e||(e=this.cross&&this.cross.e),c=l?"center":r?"right"===this.labelAlign?"right":"left":"left"===this.labelAlign?"left":"center",u||(u=this.crossLabel=t.renderer.label(null,null,null,o.shape||"callout").addClass("highcharts-crosshair-label"+(this.series[0]&&" highcharts-color-"+this.series[0].colorIndex)).attr({align:o.align||c,padding:g(o.padding,8),r:g(o.borderRadius,3),zIndex:2}).add(this.labelGroup)).attr({fill:o.backgroundColor||this.series[0]&&this.series[0].color||"#666666",stroke:o.borderColor||"","stroke-width":o.borderWidth||0}).css(a({color:"#ffffff",fontWeight:"normal",fontSize:"11px",textAlign:"center"},o.style)),l?(c=v?i.plotX+n:e.chartX,d+=r?0:this.height):(c=r?this.width+n:0,d=v?i.plotY+d:e.chartY),p||o.formatter||(this.isDatetimeAxis&&(f="%b %d, %Y"),p="{value"+(f?":"+f:"")+"}"),e=v?i[this.isXAxis?"x":"y"]:this.toValue(l?e.chartX:e.chartY),u.attr({text:p?h(p,{value:e}):o.formatter.call(this,e),x:c,y:d,visibility:"visible"}),e=u.getBBox(),l?(m&&!r||!m&&r)&&(d=u.y-e.height):d=u.y-e.height/2,l?(r=n-e.x,n=n+this.width-e.x):(r="left"===this.labelAlign?n:0,n="right"===this.labelAlign?n+this.width:t.chartWidth),u.translateX<r&&(y=r-u.translateX),u.translateX+e.width>=n&&(y=-(u.translateX+e.width-n)),u.attr({x:c+y,y:d,anchorX:l?c:this.opposite?0:t.chartWidth,anchorY:l?this.opposite?t.chartHeight:0:d+e.height/2})}}),_.init=function(){S.apply(this,arguments),this.setCompare(this.options.compare)},_.setCompare=function(t){this.modifyValue="value"===t||"percent"===t?function(e,i){var r=this.compareValue;if(void 0!==e&&void 0!==r)return e="value"===t?e-r:e/r*100-(100===this.options.compareBase?0:100),i&&(i.change=e),e}:null,this.userOptions.compare=t,this.chart.hasRendered&&(this.isDirty=!0)},_.processData=function(){var t,e,i,r,n,s=-1,o=!0===this.options.compareStart?0:1;if(M.apply(this,arguments),this.xAxis&&this.processedYData)for(e=this.processedXData,i=this.processedYData,r=i.length,this.pointArrayMap&&-1===(s=c("close",this.pointArrayMap))&&(s=c(this.pointValKey||"y",this.pointArrayMap)),t=0;t<r-o;t++)if(n=i[t]&&-1<s?i[t][s]:i[t],d(n)&&e[t+o]>=this.xAxis.min&&0!==n){this.compareValue=n;break}},k(_,"getExtremes",function(t){var r;t.apply(this,[].slice.call(arguments,1)),this.modifyValue&&(r=[this.modifyValue(this.dataMin),this.modifyValue(this.dataMax)],this.dataMin=i(r),this.dataMax=e(r))}),r.prototype.setCompare=function(t,e){this.isXAxis||(o(this.series,function(e){e.setCompare(t)}),g(e,!0)&&this.chart.redraw())},m.prototype.tooltipFormatter=function(e){return e=e.replace("{point.change}",(0<this.change?"+":"")+t.numberFormat(this.change,g(this.series.tooltipOptions.changeDecimals,2))),A.apply(this,[e])},k(y.prototype,"render",function(t){this.chart.is3d&&this.chart.is3d()||this.chart.polar||!this.xAxis||this.xAxis.isRadial||(!this.clipBox&&this.animate?(this.clipBox=f(this.chart.clipBox),this.clipBox.width=this.xAxis.len,this.clipBox.height=this.yAxis.len):this.chart[this.sharedClipKey]?this.chart[this.sharedClipKey].attr({width:this.xAxis.len,height:this.yAxis.len}):this.clipBox&&(this.clipBox.width=this.xAxis.len,this.clipBox.height=this.yAxis.len)),t.call(this)}),k(n.prototype,"getSelectedPoints",function(t){var e=t.call(this);return o(this.series,function(t){t.hasGroupedData&&(e=e.concat(l(t.points||[],function(t){return t.selected})))}),e}),k(n.prototype,"update",function(t,e){return"scrollbar"in e&&this.navigator&&(f(!0,this.options.scrollbar,e.scrollbar),this.navigator.update({},!1),delete e.scrollbar),t.apply(this,Array.prototype.slice.call(arguments,1))})}(e),e})},{}],40:[function(t,e,i){(function(t){"use strict";function i(){l=!0;for(var t,e,i=c.length;i;){for(e=c,c=[],t=-1;++t<i;)e[t]();i=c.length}l=!1}var r,n=t.MutationObserver||t.WebKitMutationObserver;if(n){var s=0,o=new n(i),a=t.document.createTextNode("");o.observe(a,{characterData:!0}),r=function(){a.data=s=++s%2}}else if(t.setImmediate||void 0===t.MessageChannel)r="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){i(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(i,0)};else{var h=new t.MessageChannel;h.port1.onmessage=i,r=function(){h.port2.postMessage(0)}}var l,c=[];e.exports=function(t){1!==c.push(t)||l||r()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],41:[function(t,e,i){"use strict";var r=t("./utils"),n=t("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(t){for(var e,i,n,o,a,h,l,c=[],d=0,u=t.length,p=u,f="string"!==r.getTypeOf(t);d<t.length;)p=u-d,f?(e=t[d++],i=d<u?t[d++]:0,n=d<u?t[d++]:0):(e=t.charCodeAt(d++),i=d<u?t.charCodeAt(d++):0,n=d<u?t.charCodeAt(d++):0),o=e>>2,a=(3&e)<<4|i>>4,h=p>1?(15&i)<<2|n>>6:64,l=p>2?63&n:64,c.push(s.charAt(o)+s.charAt(a)+s.charAt(h)+s.charAt(l));return c.join("")},i.decode=function(t){var e,i,r,o,a,h,l=0,c=0;if("data:"===t.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var d=3*(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(t.charAt(t.length-1)===s.charAt(64)&&d--,t.charAt(t.length-2)===s.charAt(64)&&d--,d%1!=0)throw new Error("Invalid base64 input, bad content length.");var u;for(u=n.uint8array?new Uint8Array(0|d):new Array(0|d);l<t.length;)e=s.indexOf(t.charAt(l++))<<2|(o=s.indexOf(t.charAt(l++)))>>4,i=(15&o)<<4|(a=s.indexOf(t.charAt(l++)))>>2,r=(3&a)<<6|(h=s.indexOf(t.charAt(l++))),u[c++]=e,64!==a&&(u[c++]=i),64!==h&&(u[c++]=r);return u}},{"./support":70,"./utils":72}],42:[function(t,e,i){"use strict";function r(t,e,i,r,n){this.compressedSize=t,this.uncompressedSize=e,this.crc32=i,this.compression=r,this.compressedContent=n}var n=t("./external"),s=t("./stream/DataWorker"),o=t("./stream/DataLengthProbe"),a=t("./stream/Crc32Probe");o=t("./stream/DataLengthProbe");r.prototype={getContentWorker:function(){var t=new s(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),e=this;return t.on("end",function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),t},getCompressedWorker:function(){return new s(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},r.createWorkerFrom=function(t,e,i){return t.pipe(new a).pipe(new o("uncompressedSize")).pipe(e.compressWorker(i)).pipe(new o("compressedSize")).withStreamInfo("compression",e)},e.exports=r},{"./external":46,"./stream/Crc32Probe":65,"./stream/DataLengthProbe":66,"./stream/DataWorker":67}],43:[function(t,e,i){"use strict";var r=t("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(t){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":47,"./stream/GenericWorker":68}],44:[function(t,e,i){"use strict";var r=t("./utils"),n=function(){for(var t,e=[],i=0;i<256;i++){t=i;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[i]=t}return e}();e.exports=function(t,e){if(void 0===t||!t.length)return 0;return"string"!==r.getTypeOf(t)?function(t,e,i,r){var s=n,o=r+i;t^=-1;for(var a=r;a<o;a++)t=t>>>8^s[255&(t^e[a])];return-1^t}(0|e,t,t.length,0):function(t,e,i,r){var s=n,o=r+i;t^=-1;for(var a=r;a<o;a++)t=t>>>8^s[255&(t^e.charCodeAt(a))];return-1^t}(0|e,t,t.length,0)}},{"./utils":72}],45:[function(t,e,i){"use strict";i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],46:[function(t,e,i){"use strict";var r=null;r="undefined"!=typeof Promise?Promise:t("lie"),e.exports={Promise:r}},{lie:97}],47:[function(t,e,i){"use strict";function r(t,e){a.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,s=t("pako"),o=t("./utils"),a=t("./stream/GenericWorker"),h=n?"uint8array":"array";i.magic="\b\0",o.inherits(r,a),r.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(h,t.data),!1)},r.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},r.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},r.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},i.compressWorker=function(t){return new r("Deflate",t)},i.uncompressWorker=function(){return new r("Inflate",{})}},{"./stream/GenericWorker":68,"./utils":72,pako:98}],48:[function(t,e,i){"use strict";function r(t,e,i,r){s.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=i,this.encodeFileName=r,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}var n=t("../utils"),s=t("../stream/GenericWorker"),o=t("../utf8"),a=t("../crc32"),h=t("../signature"),l=function(t,e){var i,r="";for(i=0;i<e;i++)r+=String.fromCharCode(255&t),t>>>=8;return r},c=function(t,e,i,r,s,c){var d,u,p=t.file,f=t.compression,g=c!==o.utf8encode,m=n.transformTo("string",c(p.name)),v=n.transformTo("string",o.utf8encode(p.name)),y=p.comment,b=n.transformTo("string",c(y)),x=n.transformTo("string",o.utf8encode(y)),w=v.length!==p.name.length,k=x.length!==y.length,_="",S="",M="",A=p.dir,C=p.date,T={crc32:0,compressedSize:0,uncompressedSize:0};e&&!i||(T.crc32=t.crc32,T.compressedSize=t.compressedSize,T.uncompressedSize=t.uncompressedSize);var L=0;e&&(L|=8),g||!w&&!k||(L|=2048);var P=0,E=0;A&&(P|=16),"UNIX"===s?(E=798,P|=function(t,e){var i=t;return t||(i=e?16893:33204),(65535&i)<<16}(p.unixPermissions,A)):(E=20,P|=function(t,e){return 63&(t||0)}(p.dosPermissions)),d=C.getUTCHours(),d<<=6,d|=C.getUTCMinutes(),d<<=5,d|=C.getUTCSeconds()/2,u=C.getUTCFullYear()-1980,u<<=4,u|=C.getUTCMonth()+1,u<<=5,u|=C.getUTCDate(),w&&(S=l(1,1)+l(a(m),4)+v,_+="up"+l(S.length,2)+S),k&&(M=l(1,1)+l(a(b),4)+x,_+="uc"+l(M.length,2)+M);var O="";O+="\n\0",O+=l(L,2),O+=f.magic,O+=l(d,2),O+=l(u,2),O+=l(T.crc32,4),O+=l(T.compressedSize,4),O+=l(T.uncompressedSize,4),O+=l(m.length,2),O+=l(_.length,2);return{fileRecord:h.LOCAL_FILE_HEADER+O+m+_,dirRecord:h.CENTRAL_FILE_HEADER+l(E,2)+O+l(b.length,2)+"\0\0\0\0"+l(P,4)+l(r,4)+m+_+b}};n.inherits(r,s),r.prototype.push=function(t){var e=t.meta.percent||0,i=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,s.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:i?(e+100*(i-r-1))/i:100}}))},r.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var i=c(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:i.fileRecord,meta:{percent:0}})}else this.accumulate=!0},r.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,i=c(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(i.dirRecord),e)this.push({data:function(t){return h.DATA_DESCRIPTOR+l(t.crc32,4)+l(t.compressedSize,4)+l(t.uncompressedSize,4)}(t),meta:{percent:100}});else for(this.push({data:i.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},r.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var i=this.bytesWritten-t,r=function(t,e,i,r,s){var o=n.transformTo("string",s(r));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(t,2)+l(t,2)+l(e,4)+l(i,4)+l(o.length,2)+o}(this.dirRecords.length,i,t,this.zipComment,this.encodeFileName);this.push({data:r,meta:{percent:100}})},r.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},r.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()}),t.on("error",function(t){e.error(t)}),this},r.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},r.prototype.error=function(t){var e=this._sources;if(!s.prototype.error.call(this,t))return!1;for(var i=0;i<e.length;i++)try{e[i].error(t)}catch(t){}return!0},r.prototype.lock=function(){s.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},e.exports=r},{"../crc32":44,"../signature":63,"../stream/GenericWorker":68,"../utf8":71,"../utils":72}],49:[function(t,e,i){"use strict";var r=t("../compressions"),n=t("./ZipFileWorker");i.generateWorker=function(t,e,i){var s=new n(e.streamFiles,i,e.platform,e.encodeFileName),o=0;try{t.forEach(function(t,i){o++;var n=function(t,e){var i=t||e,n=r[i];if(!n)throw new Error(i+" is not a valid compression method !");return n}(i.options.compression,e.compression),a=i.options.compressionOptions||e.compressionOptions||{},h=i.dir,l=i.date;i._compressWorker(n,a).withStreamInfo("file",{name:t,dir:h,date:l,comment:i.comment||"",unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions}).pipe(s)}),s.entriesCount=o}catch(t){s.error(t)}return s}},{"../compressions":43,"./ZipFileWorker":48}],50:[function(t,e,i){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var t=new r;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}(r.prototype=t("./object")).loadAsync=t("./load"),r.support=t("./support"),r.defaults=t("./defaults"),r.version="3.1.5",r.loadAsync=function(t,e){return(new r).loadAsync(t,e)},r.external=t("./external"),e.exports=r},{"./defaults":45,"./external":46,"./load":51,"./object":55,"./support":70}],51:[function(t,e,i){"use strict";function r(t){return new s.Promise(function(e,i){var r=t.decompressed.getContentWorker().pipe(new h);r.on("error",function(t){i(t)}).on("end",function(){r.streamInfo.crc32!==t.decompressed.crc32?i(new Error("Corrupted zip : CRC32 mismatch")):e()}).resume()})}var n=t("./utils"),s=t("./external"),o=t("./utf8"),a=(n=t("./utils"),t("./zipEntries")),h=t("./stream/Crc32Probe"),l=t("./nodejsUtils");e.exports=function(t,e){var i=this;return e=n.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),l.isNode&&l.isStream(t)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",t,!0,e.optimizedBinaryString,e.base64).then(function(t){var i=new a(e);return i.load(t),i}).then(function(t){var i=[s.Promise.resolve(t)],n=t.files;if(e.checkCRC32)for(var o=0;o<n.length;o++)i.push(r(n[o]));return s.Promise.all(i)}).then(function(t){for(var r=t.shift(),n=r.files,s=0;s<n.length;s++){var o=n[s];i.file(o.fileNameStr,o.decompressed,{binary:!0,optimizedBinaryString:!0,date:o.date,dir:o.dir,comment:o.fileCommentStr.length?o.fileCommentStr:null,unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions,createFolders:e.createFolders})}return r.zipComment.length&&(i.comment=r.zipComment),i})}},{"./external":46,"./nodejsUtils":52,"./stream/Crc32Probe":65,"./utf8":71,"./utils":72,"./zipEntries":73}],52:[function(t,e,i){(function(t){"use strict";e.exports={isNode:void 0!==t,newBufferFrom:function(e,i){return new t(e,i)},allocBuffer:function(e){return t.alloc?t.alloc(e):new t(e)},isBuffer:function(e){return t.isBuffer(e)},isStream:function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pause&&"function"==typeof t.resume}}}).call(this,t("buffer").Buffer)},{buffer:3}],53:[function(t,e,i){"use strict";function r(t,e){s.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}var n=t("../utils"),s=t("../stream/GenericWorker");n.inherits(r,s),r.prototype._bindStream=function(t){var e=this;this._stream=t,t.pause(),t.on("data",function(t){e.push({data:t,meta:{percent:0}})}).on("error",function(t){e.isPaused?this.generatedError=t:e.error(t)}).on("end",function(){e.isPaused?e._upstreamEnded=!0:e.end()})},r.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},r.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=r},{"../stream/GenericWorker":68,"../utils":72}],54:[function(t,e,i){"use strict";function r(t,e,i){n.call(this,e),this._helper=t;var r=this;t.on("data",function(t,e){r.push(t)||r._helper.pause(),i&&i(e)}).on("error",function(t){r.emit("error",t)}).on("end",function(){r.push(null)})}var n=t("readable-stream").Readable;t("../utils").inherits(r,n),r.prototype._read=function(){this._helper.resume()},e.exports=r},{"../utils":72,"readable-stream":56}],55:[function(t,e,i){"use strict";function r(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var n=t("./utf8"),s=t("./utils"),o=t("./stream/GenericWorker"),a=t("./stream/StreamHelper"),h=t("./defaults"),l=t("./compressedObject"),c=t("./zipObject"),d=t("./generate"),u=t("./nodejsUtils"),p=t("./nodejs/NodejsStreamInputAdapter"),f=function(t,e,i){var r,n=s.getTypeOf(e),a=s.extend(i||{},h);a.date=a.date||new Date,null!==a.compression&&(a.compression=a.compression.toUpperCase()),"string"==typeof a.unixPermissions&&(a.unixPermissions=parseInt(a.unixPermissions,8)),a.unixPermissions&&16384&a.unixPermissions&&(a.dir=!0),a.dosPermissions&&16&a.dosPermissions&&(a.dir=!0),a.dir&&(t=m(t)),a.createFolders&&(r=g(t))&&v.call(this,r,!0);var d="string"===n&&!1===a.binary&&!1===a.base64;i&&void 0!==i.binary||(a.binary=!d);(e instanceof l&&0===e.uncompressedSize||a.dir||!e||0===e.length)&&(a.base64=!1,a.binary=!0,e="",a.compression="STORE",n="string");var f=null;f=e instanceof l||e instanceof o?e:u.isNode&&u.isStream(e)?new p(t,e):s.prepareContent(t,e,a.binary,a.optimizedBinaryString,a.base64);var y=new c(t,f,a);this.files[t]=y},g=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return e>0?t.substring(0,e):""},m=function(t){return"/"!==t.slice(-1)&&(t+="/"),t},v=function(t,e){return e=void 0!==e?e:h.createFolders,t=m(t),this.files[t]||f.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]},y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,i,r;for(e in this.files)this.files.hasOwnProperty(e)&&(r=this.files[e],(i=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(i,r))},filter:function(t){var e=[];return this.forEach(function(i,r){t(i,r)&&e.push(r)}),e},file:function(t,e,i){if(1===arguments.length){if(r(t)){var n=t;return this.filter(function(t,e){return!e.dir&&n.test(t)})}var s=this.files[this.root+t];return s&&!s.dir?s:null}return t=this.root+t,f.call(this,t,e,i),this},folder:function(t){if(!t)return this;if(r(t))return this.filter(function(e,i){return i.dir&&t.test(e)});var e=this.root+t,i=v.call(this,e),n=this.clone();return n.root=i.name,n},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!==t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var i=this.filter(function(e,i){return i.name.slice(0,t.length)===t}),r=0;r<i.length;r++)delete this.files[i[r].name];return this},generate:function(t){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,i={};try{if(i=s.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:n.utf8encode}),i.type=i.type.toLowerCase(),i.compression=i.compression.toUpperCase(),"binarystring"===i.type&&(i.type="string"),!i.type)throw new Error("No output type specified.");s.checkSupport(i.type),"darwin"!==i.platform&&"freebsd"!==i.platform&&"linux"!==i.platform&&"sunos"!==i.platform||(i.platform="UNIX"),"win32"===i.platform&&(i.platform="DOS");var r=i.comment||this.comment||"";e=d.generateWorker(this,i,r)}catch(t){(e=new o("error")).error(t)}return new a(e,i.type||"string",i.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}};e.exports=y},{"./compressedObject":42,"./defaults":45,"./generate":49,"./nodejs/NodejsStreamInputAdapter":53,"./nodejsUtils":52,"./stream/GenericWorker":68,"./stream/StreamHelper":69,"./utf8":71,"./utils":72,"./zipObject":75}],56:[function(t,e,i){e.exports=t("stream")},{stream:26}],57:[function(t,e,i){"use strict";function r(t){n.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}var n=t("./DataReader");t("../utils").inherits(r,n),r.prototype.byteAt=function(t){return this.data[this.zero+t]},r.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),i=t.charCodeAt(1),r=t.charCodeAt(2),n=t.charCodeAt(3),s=this.length-4;s>=0;--s)if(this.data[s]===e&&this.data[s+1]===i&&this.data[s+2]===r&&this.data[s+3]===n)return s-this.zero;return-1},r.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),i=t.charCodeAt(1),r=t.charCodeAt(2),n=t.charCodeAt(3),s=this.readData(4);return e===s[0]&&i===s[1]&&r===s[2]&&n===s[3]},r.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=r},{"../utils":72,"./DataReader":58}],58:[function(t,e,i){"use strict";function r(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}var n=t("../utils");r.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,i=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)i=(i<<8)+this.byteAt(e);return this.index+=t,i},readString:function(t){return n.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readAndCheckSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},e.exports=r},{"../utils":72}],59:[function(t,e,i){"use strict";function r(t){n.call(this,t)}var n=t("./Uint8ArrayReader");t("../utils").inherits(r,n),r.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=r},{"../utils":72,"./Uint8ArrayReader":61}],60:[function(t,e,i){"use strict";function r(t){n.call(this,t)}var n=t("./DataReader");t("../utils").inherits(r,n),r.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},r.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},r.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},r.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=r},{"../utils":72,"./DataReader":58}],61:[function(t,e,i){"use strict";function r(t){n.call(this,t)}var n=t("./ArrayReader");t("../utils").inherits(r,n),r.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=r},{"../utils":72,"./ArrayReader":57}],62:[function(t,e,i){"use strict";var r=t("../utils"),n=t("../support"),s=t("./ArrayReader"),o=t("./StringReader"),a=t("./NodeBufferReader"),h=t("./Uint8ArrayReader");e.exports=function(t){var e=r.getTypeOf(t);return r.checkSupport(e),"string"!==e||n.uint8array?"nodebuffer"===e?new a(t):n.uint8array?new h(r.transformTo("uint8array",t)):new s(r.transformTo("array",t)):new o(t)}},{"../support":70,"../utils":72,"./ArrayReader":57,"./NodeBufferReader":59,"./StringReader":60,"./Uint8ArrayReader":61}],63:[function(t,e,i){"use strict";i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\b"},{}],64:[function(t,e,i){"use strict";function r(t){n.call(this,"ConvertWorker to "+t),this.destType=t}var n=t("./GenericWorker"),s=t("../utils");s.inherits(r,n),r.prototype.processChunk=function(t){this.push({data:s.transformTo(this.destType,t.data),meta:t.meta})},e.exports=r},{"../utils":72,"./GenericWorker":68}],65:[function(t,e,i){"use strict";function r(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}var n=t("./GenericWorker"),s=t("../crc32");t("../utils").inherits(r,n),r.prototype.processChunk=function(t){this.streamInfo.crc32=s(t.data,this.streamInfo.crc32||0),this.push(t)},e.exports=r},{"../crc32":44,"../utils":72,"./GenericWorker":68}],66:[function(t,e,i){"use strict";function r(t){s.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}var n=t("../utils"),s=t("./GenericWorker");n.inherits(r,s),r.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}s.prototype.processChunk.call(this,t)},e.exports=r},{"../utils":72,"./GenericWorker":68}],67:[function(t,e,i){"use strict";function r(t){s.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then(function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=n.getTypeOf(t),e.isPaused||e._tickAndRepeat()},function(t){e.error(t)})}var n=t("../utils"),s=t("./GenericWorker");n.inherits(r,s),r.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},r.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},r.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},r.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,e);break;case"uint8array":t=this.data.subarray(this.index,e);break;case"array":case"nodebuffer":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=r},{"../utils":72,"./GenericWorker":68}],68:[function(t,e,i){"use strict";function r(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var i=0;i<this._listeners[t].length;i++)this._listeners[t][i].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.end()}),t.on("error",function(t){e.error(t)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var t=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}},e.exports=r},{}],69:[function(t,e,i){(function(i){"use strict";function r(t,e){return new c.Promise(function(r,n){var o=[],a=t._internalType,l=t._outputType,c=t._mimeType;t.on("data",function(t,i){o.push(t),e&&e(i)}).on("error",function(t){o=[],n(t)}).on("end",function(){try{var t=function(t,e,i){switch(t){case"blob":return s.newBlob(s.transformTo("arraybuffer",e),i);case"base64":return h.encode(e);default:return s.transformTo(t,e)}}(l,function(t,e){var r,n=0,s=null,o=0;for(r=0;r<e.length;r++)o+=e[r].length;switch(t){case"string":return e.join("");case"array":return Array.prototype.concat.apply([],e);case"uint8array":for(s=new Uint8Array(o),r=0;r<e.length;r++)s.set(e[r],n),n+=e[r].length;return s;case"nodebuffer":return i.concat(e);default:throw new Error("concat : unsupported type '"+t+"'")}}(a,o),c);r(t)}catch(t){n(t)}o=[]}).resume()})}function n(t,e,i){var r=e;switch(e){case"blob":case"arraybuffer":r="uint8array";break;case"base64":r="string"}try{this._internalType=r,this._outputType=e,this._mimeType=i,s.checkSupport(r),this._worker=t.pipe(new o(r)),t.lock()}catch(t){this._worker=new a("error"),this._worker.error(t)}}var s=t("../utils"),o=t("./ConvertWorker"),a=t("./GenericWorker"),h=t("../base64"),l=t("../support"),c=t("../external"),d=null;if(l.nodestream)try{d=t("../nodejs/NodejsStreamOutputAdapter")}catch(t){}n.prototype={accumulate:function(t){return r(this,t)},on:function(t,e){var i=this;return"data"===t?this._worker.on(t,function(t){e.call(i,t.data,t.meta)}):this._worker.on(t,function(){s.delay(e,arguments,i)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(s.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:"nodebuffer"!==this._outputType},t)}},e.exports=n}).call(this,t("buffer").Buffer)},{"../base64":41,"../external":46,"../nodejs/NodejsStreamOutputAdapter":54,"../support":70,"../utils":72,"./ConvertWorker":64,"./GenericWorker":68,buffer:3}],70:[function(t,e,i){(function(e){"use strict";if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,i.nodebuffer=void 0!==e,i.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)i.blob=!1;else{var r=new ArrayBuffer(0);try{i.blob=0===new Blob([r],{type:"application/zip"}).size}catch(t){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);n.append(r),i.blob=0===n.getBlob("application/zip").size}catch(t){i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch(t){i.nodestream=!1}}).call(this,t("buffer").Buffer)},{buffer:3,"readable-stream":56}],71:[function(t,e,i){"use strict";function r(){h.call(this,"utf-8 decode"),this.leftOver=null}function n(){h.call(this,"utf-8 encode")}for(var s=t("./utils"),o=t("./support"),a=t("./nodejsUtils"),h=t("./stream/GenericWorker"),l=new Array(256),c=0;c<256;c++)l[c]=c>=252?6:c>=248?5:c>=240?4:c>=224?3:c>=192?2:1;l[254]=l[254]=1;i.utf8encode=function(t){return o.nodebuffer?a.newBufferFrom(t,"utf-8"):function(t){var e,i,r,n,s,a=t.length,h=0;for(n=0;n<a;n++)55296==(64512&(i=t.charCodeAt(n)))&&n+1<a&&56320==(64512&(r=t.charCodeAt(n+1)))&&(i=65536+(i-55296<<10)+(r-56320),n++),h+=i<128?1:i<2048?2:i<65536?3:4;for(e=o.uint8array?new Uint8Array(h):new Array(h),s=0,n=0;s<h;n++)55296==(64512&(i=t.charCodeAt(n)))&&n+1<a&&56320==(64512&(r=t.charCodeAt(n+1)))&&(i=65536+(i-55296<<10)+(r-56320),n++),i<128?e[s++]=i:i<2048?(e[s++]=192|i>>>6,e[s++]=128|63&i):i<65536?(e[s++]=224|i>>>12,e[s++]=128|i>>>6&63,e[s++]=128|63&i):(e[s++]=240|i>>>18,e[s++]=128|i>>>12&63,e[s++]=128|i>>>6&63,e[s++]=128|63&i);return e}(t)},i.utf8decode=function(t){return o.nodebuffer?s.transformTo("nodebuffer",t).toString("utf-8"):(t=s.transformTo(o.uint8array?"uint8array":"array",t),function(t){var e,i,r,n,o=t.length,a=new Array(2*o);for(i=0,e=0;e<o;)if((r=t[e++])<128)a[i++]=r;else if((n=l[r])>4)a[i++]=65533,e+=n-1;else{for(r&=2===n?31:3===n?15:7;n>1&&e<o;)r=r<<6|63&t[e++],n--;n>1?a[i++]=65533:r<65536?a[i++]=r:(r-=65536,a[i++]=55296|r>>10&1023,a[i++]=56320|1023&r)}return a.length!==i&&(a.subarray?a=a.subarray(0,i):a.length=i),s.applyFromCharCode(a)}(t))},s.inherits(r,h),r.prototype.processChunk=function(t){var e=s.transformTo(o.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var r=e;(e=new Uint8Array(r.length+this.leftOver.length)).set(this.leftOver,0),e.set(r,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var n=function(t,e){var i;for((e=e||t.length)>t.length&&(e=t.length),i=e-1;i>=0&&128==(192&t[i]);)i--;return i<0?e:0===i?e:i+l[t[i]]>e?i:e}(e),a=e;n!==e.length&&(o.uint8array?(a=e.subarray(0,n),this.leftOver=e.subarray(n,e.length)):(a=e.slice(0,n),this.leftOver=e.slice(n,e.length))),this.push({data:i.utf8decode(a),meta:t.meta})},r.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=r,s.inherits(n,h),n.prototype.processChunk=function(t){this.push({data:i.utf8encode(t.data),meta:t.meta})},i.Utf8EncodeWorker=n},{"./nodejsUtils":52,"./stream/GenericWorker":68,"./support":70,"./utils":72}],72:[function(t,e,i){"use strict";function r(t){return t}function n(t,e){for(var i=0;i<t.length;++i)e[i]=255&t.charCodeAt(i);return e}function s(t){var e=65536,r=i.getTypeOf(t),n=!0;if("uint8array"===r?n=u.applyCanBeUsed.uint8array:"nodebuffer"===r&&(n=u.applyCanBeUsed.nodebuffer),n)for(;e>1;)try{return u.stringifyByChunk(t,r,e)}catch(t){e=Math.floor(e/2)}return u.stringifyByChar(t)}function o(t,e){for(var i=0;i<t.length;i++)e[i]=t[i];return e}var a=t("./support"),h=t("./base64"),l=t("./nodejsUtils"),c=t("core-js/library/fn/set-immediate"),d=t("./external");i.newBlob=function(t,e){i.checkSupport("blob");try{return new Blob([t],{type:e})}catch(i){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return r.append(t),r.getBlob(e)}catch(t){throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(t,e,i){var r=[],n=0,s=t.length;if(s<=i)return String.fromCharCode.apply(null,t);for(;n<s;)"array"===e||"nodebuffer"===e?r.push(String.fromCharCode.apply(null,t.slice(n,Math.min(n+i,s)))):r.push(String.fromCharCode.apply(null,t.subarray(n,Math.min(n+i,s)))),n+=i;return r.join("")},stringifyByChar:function(t){for(var e="",i=0;i<t.length;i++)e+=String.fromCharCode(t[i]);return e},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&1===String.fromCharCode.apply(null,l.allocBuffer(1)).length}catch(t){return!1}}()}};i.applyFromCharCode=s;var p={};p.string={string:r,array:function(t){return n(t,new Array(t.length))},arraybuffer:function(t){return p.string.uint8array(t).buffer},uint8array:function(t){return n(t,new Uint8Array(t.length))},nodebuffer:function(t){return n(t,l.allocBuffer(t.length))}},p.array={string:s,array:r,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return l.newBufferFrom(t)}},p.arraybuffer={string:function(t){return s(new Uint8Array(t))},array:function(t){return o(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:r,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return l.newBufferFrom(new Uint8Array(t))}},p.uint8array={string:s,array:function(t){return o(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:r,nodebuffer:function(t){return l.newBufferFrom(t)}},p.nodebuffer={string:s,array:function(t){return o(t,new Array(t.length))},arraybuffer:function(t){return p.nodebuffer.uint8array(t).buffer},uint8array:function(t){return o(t,new Uint8Array(t.length))},nodebuffer:r},i.transformTo=function(t,e){if(e||(e=""),!t)return e;i.checkSupport(t);var r=i.getTypeOf(e);return p[r][t](e)},i.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":a.nodebuffer&&l.isBuffer(t)?"nodebuffer":a.uint8array&&t instanceof Uint8Array?"uint8array":a.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(t){if(!a[t.toLowerCase()])throw new Error(t+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(t){var e,i,r="";for(i=0;i<(t||"").length;i++)r+="\\x"+((e=t.charCodeAt(i))<16?"0":"")+e.toString(16).toUpperCase();return r},i.delay=function(t,e,i){c(function(){t.apply(i||null,e||[])})},i.inherits=function(t,e){var i=function(){};i.prototype=e.prototype,t.prototype=new i},i.extend=function(){var t,e,i={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===i[e]&&(i[e]=arguments[t][e]);return i},i.prepareContent=function(t,e,r,s,o){return d.Promise.resolve(e).then(function(t){return a.blob&&(t instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(t)))&&"undefined"!=typeof FileReader?new d.Promise(function(e,i){var r=new FileReader;r.onload=function(t){e(t.target.result)},r.onerror=function(t){i(t.target.error)},r.readAsArrayBuffer(t)}):t}).then(function(e){var l=i.getTypeOf(e);return l?("arraybuffer"===l?e=i.transformTo("uint8array",e):"string"===l&&(o?e=h.decode(e):r&&!0!==s&&(e=function(t){var e=null;return e=a.uint8array?new Uint8Array(t.length):new Array(t.length),n(t,e)}(e))),e):d.Promise.reject(new Error("Can't read the data of '"+t+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":41,"./external":46,"./nodejsUtils":52,"./support":70,"core-js/library/fn/set-immediate":76}],73:[function(t,e,i){"use strict";function r(t){this.files=[],this.loadOptions=t}var n=t("./reader/readerFor"),s=t("./utils"),o=t("./signature"),a=t("./zipEntry"),h=(t("./utf8"),t("./support"));r.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(e)+", expected "+s.pretty(t)+")")}},isSignature:function(t,e){var i=this.reader.index;this.reader.setIndex(t);var r=this.reader.readString(4)===e;return this.reader.setIndex(i),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=h.uint8array?"uint8array":"array",i=s.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(i)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,i,r=this.zip64EndOfCentralSize-44;0<r;)t=this.reader.readInt(2),e=this.reader.readInt(4),i=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:i}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(t=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(t<0){throw!this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(t);var e=t;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;this.zip64&&(i+=20,i+=12+this.zip64EndOfCentralSize);var r=e-i;if(r>0)this.isSignature(e,o.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(t){this.reader=n(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=r},{"./reader/readerFor":62,"./signature":63,"./support":70,"./utf8":71,"./utils":72,"./zipEntry":74}],74:[function(t,e,i){"use strict";function r(t,e){this.options=t,this.loadOptions=e}var n=t("./reader/readerFor"),s=t("./utils"),o=t("./compressedObject"),a=t("./crc32"),h=t("./utf8"),l=t("./compressions"),c=t("./support");r.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(t){var e,i;if(t.skip(22),this.fileNameLength=t.readInt(2),i=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(i),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(e=function(t){for(var e in l)if(l.hasOwnProperty(e)&&l[e].magic===t)return l[e];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===t&&(this.dosPermissions=63&this.externalFileAttributes),3===t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=n(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,i,r,n=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index<n;)e=t.readInt(2),i=t.readInt(2),r=t.readData(i),this.extraFields[e]={id:e,length:i,value:r}},handleUTF8:function(){var t=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var i=s.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(i)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var n=s.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(n)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=n(t.value);return 1!==e.readInt(1)?null:a(this.fileName)!==e.readInt(4)?null:h.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=n(t.value);return 1!==e.readInt(1)?null:a(this.fileComment)!==e.readInt(4)?null:h.utf8decode(e.readData(t.length-5))}return null}},e.exports=r},{"./compressedObject":42,"./compressions":43,"./crc32":44,"./reader/readerFor":62,"./support":70,"./utf8":71,"./utils":72}],75:[function(t,e,i){"use strict";var r=t("./stream/StreamHelper"),n=t("./stream/DataWorker"),s=t("./utf8"),o=t("./compressedObject"),a=t("./stream/GenericWorker"),h=function(t,e,i){this.name=t,this.dir=i.dir,this.date=i.date,this.comment=i.comment,this.unixPermissions=i.unixPermissions,this.dosPermissions=i.dosPermissions,this._data=e,this._dataBinary=i.binary,this.options={compression:i.compression,compressionOptions:i.compressionOptions}};h.prototype={internalStream:function(t){var e=null,i="string";try{if(!t)throw new Error("No output type specified.");var n="string"===(i=t.toLowerCase())||"text"===i;"binarystring"!==i&&"text"!==i||(i="string"),e=this._decompressWorker();var o=!this._dataBinary;o&&!n&&(e=e.pipe(new s.Utf8EncodeWorker)),!o&&n&&(e=e.pipe(new s.Utf8DecodeWorker))}catch(t){(e=new a("error")).error(t)}return new r(e,i,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof o&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var i=this._decompressWorker();return this._dataBinary||(i=i.pipe(new s.Utf8EncodeWorker)),o.createWorkerFrom(i,t,e)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof a?this._data:new n(this._data)}};for(var l=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],c=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<l.length;d++)h.prototype[l[d]]=c;e.exports=h},{"./compressedObject":42,"./stream/DataWorker":67,"./stream/GenericWorker":68,"./stream/StreamHelper":69,"./utf8":71}],76:[function(t,e,i){t("../modules/web.immediate"),e.exports=t("../modules/_core").setImmediate},{"../modules/_core":80,"../modules/web.immediate":96}],77:[function(t,e,i){e.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},{}],78:[function(t,e,i){var r=t("./_is-object");e.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},{"./_is-object":91}],79:[function(t,e,i){var r={}.toString;e.exports=function(t){return r.call(t).slice(8,-1)}},{}],80:[function(t,e,i){var r=e.exports={version:"2.3.0"};"number"==typeof __e&&(__e=r)},{}],81:[function(t,e,i){var r=t("./_a-function");e.exports=function(t,e,i){if(r(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,r){return t.call(e,i,r)};case 3:return function(i,r,n){return t.call(e,i,r,n)}}return function(){return t.apply(e,arguments)}}},{"./_a-function":77}],82:[function(t,e,i){e.exports=!t("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":85}],83:[function(t,e,i){var r=t("./_is-object"),n=t("./_global").document,s=r(n)&&r(n.createElement);e.exports=function(t){return s?n.createElement(t):{}}},{"./_global":86,"./_is-object":91}],84:[function(t,e,i){var r=t("./_global"),n=t("./_core"),s=t("./_ctx"),o=t("./_hide"),a="prototype",h=function(t,e,i){var l,c,d,u=t&h.F,p=t&h.G,f=t&h.S,g=t&h.P,m=t&h.B,v=t&h.W,y=p?n:n[e]||(n[e]={}),b=y[a],x=p?r:f?r[e]:(r[e]||{})[a];p&&(i=e);for(l in i)(c=!u&&x&&void 0!==x[l])&&l in y||(d=c?x[l]:i[l],y[l]=p&&"function"!=typeof x[l]?i[l]:m&&c?s(d,r):v&&x[l]==d?function(t){var e=function(e,i,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,i)}return new t(e,i,r)}return t.apply(this,arguments)};return e[a]=t[a],e}(d):g&&"function"==typeof d?s(Function.call,d):d,g&&((y.virtual||(y.virtual={}))[l]=d,t&h.R&&b&&!b[l]&&o(b,l,d)))};h.F=1,h.G=2,h.S=4,h.P=8,h.B=16,h.W=32,h.U=64,h.R=128,e.exports=h},{"./_core":80,"./_ctx":81,"./_global":86,"./_hide":87}],85:[function(t,e,i){e.exports=function(t){try{return!!t()}catch(t){return!0}}},{}],86:[function(t,e,i){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},{}],87:[function(t,e,i){var r=t("./_object-dp"),n=t("./_property-desc");e.exports=t("./_descriptors")?function(t,e,i){return r.f(t,e,n(1,i))}:function(t,e,i){return t[e]=i,t}},{"./_descriptors":82,"./_object-dp":92,"./_property-desc":93}],88:[function(t,e,i){e.exports=t("./_global").document&&document.documentElement},{"./_global":86}],89:[function(t,e,i){e.exports=!t("./_descriptors")&&!t("./_fails")(function(){return 7!=Object.defineProperty(t("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":82,"./_dom-create":83,"./_fails":85}],90:[function(t,e,i){e.exports=function(t,e,i){var r=void 0===i;switch(e.length){case 0:return r?t():t.call(i);case 1:return r?t(e[0]):t.call(i,e[0]);case 2:return r?t(e[0],e[1]):t.call(i,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(i,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(i,e[0],e[1],e[2],e[3])}return t.apply(i,e)}},{}],91:[function(t,e,i){e.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},{}],92:[function(t,e,i){var r=t("./_an-object"),n=t("./_ie8-dom-define"),s=t("./_to-primitive"),o=Object.defineProperty;i.f=t("./_descriptors")?Object.defineProperty:function(t,e,i){if(r(t),e=s(e,!0),r(i),n)try{return o(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},{"./_an-object":78,"./_descriptors":82,"./_ie8-dom-define":89,"./_to-primitive":95}],93:[function(t,e,i){e.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},{}],94:[function(t,e,i){var r,n,s,o=t("./_ctx"),a=t("./_invoke"),h=t("./_html"),l=t("./_dom-create"),c=t("./_global"),d=c.process,u=c.setImmediate,p=c.clearImmediate,f=c.MessageChannel,g=0,m={},v="onreadystatechange",y=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},b=function(t){y.call(t.data)};u&&p||(u=function(t){for(var e=[],i=1;arguments.length>i;)e.push(arguments[i++]);return m[++g]=function(){a("function"==typeof t?t:Function(t),e)},r(g),g},p=function(t){delete m[t]},"process"==t("./_cof")(d)?r=function(t){d.nextTick(o(y,t,1))}:f?(s=(n=new f).port2,n.port1.onmessage=b,r=o(s.postMessage,s,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(t){c.postMessage(t+"","*")},c.addEventListener("message",b,!1)):r=v in l("script")?function(t){h.appendChild(l("script"))[v]=function(){h.removeChild(this),y.call(t)}}:function(t){setTimeout(o(y,t,1),0)}),e.exports={set:u,clear:p}},{"./_cof":79,"./_ctx":81,"./_dom-create":83,"./_global":86,"./_html":88,"./_invoke":90}],95:[function(t,e,i){var r=t("./_is-object");e.exports=function(t,e){if(!r(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!r(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!r(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!r(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":91}],96:[function(t,e,i){var r=t("./_export"),n=t("./_task");r(r.G+r.B,{setImmediate:n.set,clearImmediate:n.clear})},{"./_export":84,"./_task":94}],97:[function(t,e,i){"use strict";function r(){}function n(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,t!==r&&h(this,t)}function s(t,e,i){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof i&&(this.onRejected=i,this.callRejected=this.otherCallRejected)}function o(t,e,i){c(function(){var r;try{r=e(i)}catch(e){return d.reject(t,e)}r===t?d.reject(t,new TypeError("Cannot resolve promise with itself")):d.resolve(t,r)})}function a(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function h(t,e){function i(e){n||(n=!0,d.reject(t,e))}function r(e){n||(n=!0,d.resolve(t,e))}var n=!1,s=l(function(){e(r,i)});"error"===s.status&&i(s.value)}function l(t,e){var i={};try{i.value=t(e),i.status="success"}catch(t){i.status="error",i.value=t}return i}var c=t("immediate"),d={},u=["REJECTED"],p=["FULFILLED"],f=["PENDING"];e.exports=n,n.prototype.catch=function(t){return this.then(null,t)},n.prototype.then=function(t,e){if("function"!=typeof t&&this.state===p||"function"!=typeof e&&this.state===u)return this;var i=new this.constructor(r);if(this.state!==f){o(i,this.state===p?t:e,this.outcome)}else this.queue.push(new s(i,t,e));return i},s.prototype.callFulfilled=function(t){d.resolve(this.promise,t)},s.prototype.otherCallFulfilled=function(t){o(this.promise,this.onFulfilled,t)},s.prototype.callRejected=function(t){d.reject(this.promise,t)},s.prototype.otherCallRejected=function(t){o(this.promise,this.onRejected,t)},d.resolve=function(t,e){var i=l(a,e);if("error"===i.status)return d.reject(t,i.value);var r=i.value;if(r)h(t,r);else{t.state=p,t.outcome=e;for(var n=-1,s=t.queue.length;++n<s;)t.queue[n].callFulfilled(e)}return t},d.reject=function(t,e){t.state=u,t.outcome=e;for(var i=-1,r=t.queue.length;++i<r;)t.queue[i].callRejected(e);return t},n.resolve=function(t){return t instanceof this?t:d.resolve(new this(r),t)},n.reject=function(t){var e=new this(r);return d.reject(e,t)},n.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var i=t.length,n=!1;if(!i)return this.resolve([]);for(var s=new Array(i),o=0,a=-1,h=new this(r);++a<i;)!function(t,r){e.resolve(t).then(function(t){s[r]=t,++o!==i||n||(n=!0,d.resolve(h,s))},function(t){n||(n=!0,d.reject(h,t))})}(t[a],a);return h},n.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var i=t.length,n=!1;if(!i)return this.resolve([]);for(var s=-1,o=new this(r);++s<i;)!function(t){e.resolve(t).then(function(t){n||(n=!0,d.resolve(o,t))},function(t){n||(n=!0,d.reject(o,t))})}(t[s]);return o}},{immediate:40}],98:[function(t,e,i){"use strict";var r={};(0,t("./lib/utils/common").assign)(r,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=r},{"./lib/deflate":99,"./lib/inflate":100,"./lib/utils/common":101,"./lib/zlib/constants":104}],99:[function(t,e,i){"use strict";function r(t){if(!(this instanceof r))return new r(t);this.options=o.assign({level:u,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var i=s.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(i!==d)throw new Error(h[i]);if(e.header&&s.deflateSetHeader(this.strm,e.header),e.dictionary){var n;if(n="string"==typeof e.dictionary?a.string2buf(e.dictionary):"[object ArrayBuffer]"===c.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(i=s.deflateSetDictionary(this.strm,n))!==d)throw new Error(h[i]);this._dict_set=!0}}function n(t,e){var i=new r(e);if(i.push(t,!0),i.err)throw i.msg||h[i.err];return i.result}var s=t("./zlib/deflate"),o=t("./utils/common"),a=t("./utils/strings"),h=t("./zlib/messages"),l=t("./zlib/zstream"),c=Object.prototype.toString,d=0,u=-1,p=0,f=8;r.prototype.push=function(t,e){var i,r,n=this.strm,h=this.options.chunkSize;if(this.ended)return!1;r=e===~~e?e:!0===e?4:0,"string"==typeof t?n.input=a.string2buf(t):"[object ArrayBuffer]"===c.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;do{if(0===n.avail_out&&(n.output=new o.Buf8(h),n.next_out=0,n.avail_out=h),1!==(i=s.deflate(n,r))&&i!==d)return this.onEnd(i),this.ended=!0,!1;0!==n.avail_out&&(0!==n.avail_in||4!==r&&2!==r)||("string"===this.options.to?this.onData(a.buf2binstring(o.shrinkBuf(n.output,n.next_out))):this.onData(o.shrinkBuf(n.output,n.next_out)))}while((n.avail_in>0||0===n.avail_out)&&1!==i);return 4===r?(i=s.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===d):2!==r||(this.onEnd(d),n.avail_out=0,!0)},r.prototype.onData=function(t){this.chunks.push(t)},r.prototype.onEnd=function(t){t===d&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},i.Deflate=r,i.deflate=n,i.deflateRaw=function(t,e){return e=e||{},e.raw=!0,n(t,e)},i.gzip=function(t,e){return e=e||{},e.gzip=!0,n(t,e)}},{"./utils/common":101,"./utils/strings":102,"./zlib/deflate":106,"./zlib/messages":111,"./zlib/zstream":113}],100:[function(t,e,i){"use strict";function r(t){if(!(this instanceof r))return new r(t);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var i=s.inflateInit2(this.strm,e.windowBits);if(i!==h.Z_OK)throw new Error(l[i]);this.header=new d,s.inflateGetHeader(this.strm,this.header)}function n(t,e){var i=new r(e);if(i.push(t,!0),i.err)throw i.msg||l[i.err];return i.result}var s=t("./zlib/inflate"),o=t("./utils/common"),a=t("./utils/strings"),h=t("./zlib/constants"),l=t("./zlib/messages"),c=t("./zlib/zstream"),d=t("./zlib/gzheader"),u=Object.prototype.toString;r.prototype.push=function(t,e){var i,r,n,l,c,d,p=this.strm,f=this.options.chunkSize,g=this.options.dictionary,m=!1;if(this.ended)return!1;r=e===~~e?e:!0===e?h.Z_FINISH:h.Z_NO_FLUSH,"string"==typeof t?p.input=a.binstring2buf(t):"[object ArrayBuffer]"===u.call(t)?p.input=new Uint8Array(t):p.input=t,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new o.Buf8(f),p.next_out=0,p.avail_out=f),(i=s.inflate(p,h.Z_NO_FLUSH))===h.Z_NEED_DICT&&g&&(d="string"==typeof g?a.string2buf(g):"[object ArrayBuffer]"===u.call(g)?new Uint8Array(g):g,i=s.inflateSetDictionary(this.strm,d)),i===h.Z_BUF_ERROR&&!0===m&&(i=h.Z_OK,m=!1),i!==h.Z_STREAM_END&&i!==h.Z_OK)return this.onEnd(i),this.ended=!0,!1;p.next_out&&(0!==p.avail_out&&i!==h.Z_STREAM_END&&(0!==p.avail_in||r!==h.Z_FINISH&&r!==h.Z_SYNC_FLUSH)||("string"===this.options.to?(n=a.utf8border(p.output,p.next_out),l=p.next_out-n,c=a.buf2string(p.output,n),p.next_out=l,p.avail_out=f-l,l&&o.arraySet(p.output,p.output,n,l,0),this.onData(c)):this.onData(o.shrinkBuf(p.output,p.next_out)))),0===p.avail_in&&0===p.avail_out&&(m=!0)}while((p.avail_in>0||0===p.avail_out)&&i!==h.Z_STREAM_END);return i===h.Z_STREAM_END&&(r=h.Z_FINISH),r===h.Z_FINISH?(i=s.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===h.Z_OK):r!==h.Z_SYNC_FLUSH||(this.onEnd(h.Z_OK),p.avail_out=0,!0)},r.prototype.onData=function(t){this.chunks.push(t)},r.prototype.onEnd=function(t){t===h.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},i.Inflate=r,i.inflate=n,i.inflateRaw=function(t,e){return e=e||{},e.raw=!0,n(t,e)},i.ungzip=n},{"./utils/common":101,"./utils/strings":102,"./zlib/constants":104,"./zlib/gzheader":107,"./zlib/inflate":109,"./zlib/messages":111,"./zlib/zstream":113}],101:[function(t,e,i){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;i.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var i=e.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var n in i)r(i,n)&&(t[n]=i[n])}}return t},i.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var s={arraySet:function(t,e,i,r,n){if(e.subarray&&t.subarray)t.set(e.subarray(i,i+r),n);else for(var s=0;s<r;s++)t[n+s]=e[i+s]},flattenChunks:function(t){var e,i,r,n,s,o;for(r=0,e=0,i=t.length;e<i;e++)r+=t[e].length;for(o=new Uint8Array(r),n=0,e=0,i=t.length;e<i;e++)s=t[e],o.set(s,n),n+=s.length;return o}},o={arraySet:function(t,e,i,r,n){for(var s=0;s<r;s++)t[n+s]=e[i+s]},flattenChunks:function(t){return[].concat.apply([],t)}};i.setTyped=function(t){t?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(n)},{}],102:[function(t,e,i){"use strict";function r(t,e){if(e<65537&&(t.subarray&&o||!t.subarray&&s))return String.fromCharCode.apply(null,n.shrinkBuf(t,e));for(var i="",r=0;r<e;r++)i+=String.fromCharCode(t[r]);return i}var n=t("./common"),s=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(t){s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){o=!1}for(var a=new n.Buf8(256),h=0;h<256;h++)a[h]=h>=252?6:h>=248?5:h>=240?4:h>=224?3:h>=192?2:1;a[254]=a[254]=1,i.string2buf=function(t){var e,i,r,s,o,a=t.length,h=0;for(s=0;s<a;s++)55296==(64512&(i=t.charCodeAt(s)))&&s+1<a&&56320==(64512&(r=t.charCodeAt(s+1)))&&(i=65536+(i-55296<<10)+(r-56320),s++),h+=i<128?1:i<2048?2:i<65536?3:4;for(e=new n.Buf8(h),o=0,s=0;o<h;s++)55296==(64512&(i=t.charCodeAt(s)))&&s+1<a&&56320==(64512&(r=t.charCodeAt(s+1)))&&(i=65536+(i-55296<<10)+(r-56320),s++),i<128?e[o++]=i:i<2048?(e[o++]=192|i>>>6,e[o++]=128|63&i):i<65536?(e[o++]=224|i>>>12,e[o++]=128|i>>>6&63,e[o++]=128|63&i):(e[o++]=240|i>>>18,e[o++]=128|i>>>12&63,e[o++]=128|i>>>6&63,e[o++]=128|63&i);return e},i.buf2binstring=function(t){return r(t,t.length)},i.binstring2buf=function(t){for(var e=new n.Buf8(t.length),i=0,r=e.length;i<r;i++)e[i]=t.charCodeAt(i);return e},i.buf2string=function(t,e){var i,n,s,o,h=e||t.length,l=new Array(2*h);for(n=0,i=0;i<h;)if((s=t[i++])<128)l[n++]=s;else if((o=a[s])>4)l[n++]=65533,i+=o-1;else{for(s&=2===o?31:3===o?15:7;o>1&&i<h;)s=s<<6|63&t[i++],o--;o>1?l[n++]=65533:s<65536?l[n++]=s:(s-=65536,l[n++]=55296|s>>10&1023,l[n++]=56320|1023&s)}return r(l,n)},i.utf8border=function(t,e){var i;for((e=e||t.length)>t.length&&(e=t.length),i=e-1;i>=0&&128==(192&t[i]);)i--;return i<0?e:0===i?e:i+a[t[i]]>e?i:e}},{"./common":101}],103:[function(t,e,i){"use strict";e.exports=function(t,e,i,r){for(var n=65535&t|0,s=t>>>16&65535|0,o=0;0!==i;){i-=o=i>2e3?2e3:i;do{s=s+(n=n+e[r++]|0)|0}while(--o);n%=65521,s%=65521}return n|s<<16|0}},{}],104:[function(t,e,i){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],105:[function(t,e,i){"use strict";var r=function(){for(var t,e=[],i=0;i<256;i++){t=i;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[i]=t}return e}();e.exports=function(t,e,i,n){var s=r,o=n+i;t^=-1;for(var a=n;a<o;a++)t=t>>>8^s[255&(t^e[a])];return-1^t}},{}],106:[function(t,e,i){"use strict";function r(t,e){return t.msg=S[e],e}function n(t){return(t<<1)-(t>4?9:0)}function s(t){for(var e=t.length;--e>=0;)t[e]=0}function o(t){var e=t.state,i=e.pending;i>t.avail_out&&(i=t.avail_out),0!==i&&(x.arraySet(t.output,e.pending_buf,e.pending_out,i,t.next_out),t.next_out+=i,e.pending_out+=i,t.total_out+=i,t.avail_out-=i,e.pending-=i,0===e.pending&&(e.pending_out=0))}function a(t,e){w._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,o(t.strm)}function h(t,e){t.pending_buf[t.pending++]=e}function l(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function c(t,e,i,r){var n=t.avail_in;return n>r&&(n=r),0===n?0:(t.avail_in-=n,x.arraySet(e,t.input,t.next_in,n,i),1===t.state.wrap?t.adler=k(t.adler,e,n,i):2===t.state.wrap&&(t.adler=_(t.adler,e,n,i)),t.next_in+=n,t.total_in+=n,n)}function d(t,e){var i,r,n=t.max_chain_length,s=t.strstart,o=t.prev_length,a=t.nice_match,h=t.strstart>t.w_size-Q?t.strstart-(t.w_size-Q):0,l=t.window,c=t.w_mask,d=t.prev,u=t.strstart+J,p=l[s+o-1],f=l[s+o];t.prev_length>=t.good_match&&(n>>=2),a>t.lookahead&&(a=t.lookahead);do{if(i=e,l[i+o]===f&&l[i+o-1]===p&&l[i]===l[s]&&l[++i]===l[s+1]){s+=2,i++;do{}while(l[++s]===l[++i]&&l[++s]===l[++i]&&l[++s]===l[++i]&&l[++s]===l[++i]&&l[++s]===l[++i]&&l[++s]===l[++i]&&l[++s]===l[++i]&&l[++s]===l[++i]&&s<u);if(r=J-(u-s),s=u-J,r>o){if(t.match_start=e,o=r,r>=a)break;p=l[s+o-1],f=l[s+o]}}}while((e=d[e&c])>h&&0!=--n);return o<=t.lookahead?o:t.lookahead}function u(t){var e,i,r,n,s,o=t.w_size;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=o+(o-Q)){x.arraySet(t.window,t.window,o,o,0),t.match_start-=o,t.strstart-=o,t.block_start-=o,e=i=t.hash_size;do{r=t.head[--e],t.head[e]=r>=o?r-o:0}while(--i);e=i=o;do{r=t.prev[--e],t.prev[e]=r>=o?r-o:0}while(--i);n+=o}if(0===t.strm.avail_in)break;if(i=c(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=i,t.lookahead+t.insert>=K)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=(t.ins_h<<t.hash_shift^t.window[s+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[s+K-1])&t.hash_mask,t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<K)););}while(t.lookahead<Q&&0!==t.strm.avail_in)}function p(t,e){for(var i,r;;){if(t.lookahead<Q){if(u(t),t.lookahead<Q&&e===M)return ht;if(0===t.lookahead)break}if(i=0,t.lookahead>=K&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+K-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==i&&t.strstart-i<=t.w_size-Q&&(t.match_length=d(t,i)),t.match_length>=K)if(r=w._tr_tally(t,t.strstart-t.match_start,t.match_length-K),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=K){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+K-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=w._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(a(t,!1),0===t.strm.avail_out))return ht}return t.insert=t.strstart<K-1?t.strstart:K-1,e===T?(a(t,!0),0===t.strm.avail_out?ct:dt):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?ht:lt}function f(t,e){for(var i,r,n;;){if(t.lookahead<Q){if(u(t),t.lookahead<Q&&e===M)return ht;if(0===t.lookahead)break}if(i=0,t.lookahead>=K&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+K-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=K-1,0!==i&&t.prev_length<t.max_lazy_match&&t.strstart-i<=t.w_size-Q&&(t.match_length=d(t,i),t.match_length<=5&&(t.strategy===z||t.match_length===K&&t.strstart-t.match_start>4096)&&(t.match_length=K-1)),t.prev_length>=K&&t.match_length<=t.prev_length){n=t.strstart+t.lookahead-K,r=w._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-K),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=n&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+K-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=K-1,t.strstart++,r&&(a(t,!1),0===t.strm.avail_out))return ht}else if(t.match_available){if((r=w._tr_tally(t,0,t.window[t.strstart-1]))&&a(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return ht}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=w._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<K-1?t.strstart:K-1,e===T?(a(t,!0),0===t.strm.avail_out?ct:dt):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?ht:lt}function g(t,e,i,r,n){this.good_length=t,this.max_lazy=e,this.nice_length=i,this.max_chain=r,this.func=n}function m(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=G,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?et:ot,t.adler=2===e.wrap?0:1,e.last_flush=M,w._tr_init(e),P):r(t,O)}function v(t){var e=m(t);return e===P&&function(t){t.window_size=2*t.w_size,s(t.head),t.max_lazy_match=b[t.level].max_lazy,t.good_match=b[t.level].good_length,t.nice_match=b[t.level].nice_length,t.max_chain_length=b[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=K-1,t.match_available=0,t.ins_h=0}(t.state),e}function y(t,e,i,n,o,a){if(!t)return O;var h=1;if(e===B&&(e=6),n<0?(h=0,n=-n):n>15&&(h=2,n-=16),o<1||o>H||i!==j||n<8||n>15||e<0||e>9||a<0||a>F)return r(t,O);8===n&&(n=9);var l=new function(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=j,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new x.Buf16(2*Z),this.dyn_dtree=new x.Buf16(2*(2*$+1)),this.bl_tree=new x.Buf16(2*(2*V+1)),s(this.dyn_ltree),s(this.dyn_dtree),s(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new x.Buf16(q+1),this.heap=new x.Buf16(2*Y+1),s(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new x.Buf16(2*Y+1),s(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0};return t.state=l,l.strm=t,l.wrap=h,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+K-1)/K),l.window=new x.Buf8(2*l.w_size),l.head=new x.Buf16(l.hash_size),l.prev=new x.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new x.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=a,l.method=i,v(t)}var b,x=t("../utils/common"),w=t("./trees"),k=t("./adler32"),_=t("./crc32"),S=t("./messages"),M=0,A=1,C=3,T=4,L=5,P=0,E=1,O=-2,D=-3,I=-5,B=-1,z=1,R=2,N=3,F=4,W=0,G=2,j=8,H=9,X=15,U=8,Y=286,$=30,V=19,Z=2*Y+1,q=15,K=3,J=258,Q=J+K+1,tt=32,et=42,it=69,rt=73,nt=91,st=103,ot=113,at=666,ht=1,lt=2,ct=3,dt=4,ut=3;b=[new g(0,0,0,0,function(t,e){var i=65535;for(i>t.pending_buf_size-5&&(i=t.pending_buf_size-5);;){if(t.lookahead<=1){if(u(t),0===t.lookahead&&e===M)return ht;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+i;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,a(t,!1),0===t.strm.avail_out))return ht;if(t.strstart-t.block_start>=t.w_size-Q&&(a(t,!1),0===t.strm.avail_out))return ht}return t.insert=0,e===T?(a(t,!0),0===t.strm.avail_out?ct:dt):(t.strstart>t.block_start&&(a(t,!1),t.strm.avail_out),ht)}),new g(4,4,8,4,p),new g(4,5,16,8,p),new g(4,6,32,32,p),new g(4,4,16,16,f),new g(8,16,32,32,f),new g(8,16,128,128,f),new g(8,32,128,256,f),new g(32,128,258,1024,f),new g(32,258,258,4096,f)],i.deflateInit=function(t,e){return y(t,e,j,X,U,W)},i.deflateInit2=y,i.deflateReset=v,i.deflateResetKeep=m,i.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?O:(t.state.gzhead=e,P):O},i.deflate=function(t,e){var i,c,d,p;if(!t||!t.state||e>L||e<0)return t?r(t,O):O;if(c=t.state,!t.output||!t.input&&0!==t.avail_in||c.status===at&&e!==T)return r(t,0===t.avail_out?I:O);if(c.strm=t,i=c.last_flush,c.last_flush=e,c.status===et)if(2===c.wrap)t.adler=0,h(c,31),h(c,139),h(c,8),c.gzhead?(h(c,(c.gzhead.text?1:0)+(c.gzhead.hcrc?2:0)+(c.gzhead.extra?4:0)+(c.gzhead.name?8:0)+(c.gzhead.comment?16:0)),h(c,255&c.gzhead.time),h(c,c.gzhead.time>>8&255),h(c,c.gzhead.time>>16&255),h(c,c.gzhead.time>>24&255),h(c,9===c.level?2:c.strategy>=R||c.level<2?4:0),h(c,255&c.gzhead.os),c.gzhead.extra&&c.gzhead.extra.length&&(h(c,255&c.gzhead.extra.length),h(c,c.gzhead.extra.length>>8&255)),c.gzhead.hcrc&&(t.adler=_(t.adler,c.pending_buf,c.pending,0)),c.gzindex=0,c.status=it):(h(c,0),h(c,0),h(c,0),h(c,0),h(c,0),h(c,9===c.level?2:c.strategy>=R||c.level<2?4:0),h(c,ut),c.status=ot);else{var f=j+(c.w_bits-8<<4)<<8;f|=(c.strategy>=R||c.level<2?0:c.level<6?1:6===c.level?2:3)<<6,0!==c.strstart&&(f|=tt),f+=31-f%31,c.status=ot,l(c,f),0!==c.strstart&&(l(c,t.adler>>>16),l(c,65535&t.adler)),t.adler=1}if(c.status===it)if(c.gzhead.extra){for(d=c.pending;c.gzindex<(65535&c.gzhead.extra.length)&&(c.pending!==c.pending_buf_size||(c.gzhead.hcrc&&c.pending>d&&(t.adler=_(t.adler,c.pending_buf,c.pending-d,d)),o(t),d=c.pending,c.pending!==c.pending_buf_size));)h(c,255&c.gzhead.extra[c.gzindex]),c.gzindex++;c.gzhead.hcrc&&c.pending>d&&(t.adler=_(t.adler,c.pending_buf,c.pending-d,d)),c.gzindex===c.gzhead.extra.length&&(c.gzindex=0,c.status=rt)}else c.status=rt;if(c.status===rt)if(c.gzhead.name){d=c.pending;do{if(c.pending===c.pending_buf_size&&(c.gzhead.hcrc&&c.pending>d&&(t.adler=_(t.adler,c.pending_buf,c.pending-d,d)),o(t),d=c.pending,c.pending===c.pending_buf_size)){p=1;break}p=c.gzindex<c.gzhead.name.length?255&c.gzhead.name.charCodeAt(c.gzindex++):0,h(c,p)}while(0!==p);c.gzhead.hcrc&&c.pending>d&&(t.adler=_(t.adler,c.pending_buf,c.pending-d,d)),0===p&&(c.gzindex=0,c.status=nt)}else c.status=nt;if(c.status===nt)if(c.gzhead.comment){d=c.pending;do{if(c.pending===c.pending_buf_size&&(c.gzhead.hcrc&&c.pending>d&&(t.adler=_(t.adler,c.pending_buf,c.pending-d,d)),o(t),d=c.pending,c.pending===c.pending_buf_size)){p=1;break}p=c.gzindex<c.gzhead.comment.length?255&c.gzhead.comment.charCodeAt(c.gzindex++):0,h(c,p)}while(0!==p);c.gzhead.hcrc&&c.pending>d&&(t.adler=_(t.adler,c.pending_buf,c.pending-d,d)),0===p&&(c.status=st)}else c.status=st;if(c.status===st&&(c.gzhead.hcrc?(c.pending+2>c.pending_buf_size&&o(t),c.pending+2<=c.pending_buf_size&&(h(c,255&t.adler),h(c,t.adler>>8&255),t.adler=0,c.status=ot)):c.status=ot),0!==c.pending){if(o(t),0===t.avail_out)return c.last_flush=-1,P}else if(0===t.avail_in&&n(e)<=n(i)&&e!==T)return r(t,I);if(c.status===at&&0!==t.avail_in)return r(t,I);if(0!==t.avail_in||0!==c.lookahead||e!==M&&c.status!==at){var g=c.strategy===R?function(t,e){for(var i;;){if(0===t.lookahead&&(u(t),0===t.lookahead)){if(e===M)return ht;break}if(t.match_length=0,i=w._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,i&&(a(t,!1),0===t.strm.avail_out))return ht}return t.insert=0,e===T?(a(t,!0),0===t.strm.avail_out?ct:dt):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?ht:lt}(c,e):c.strategy===N?function(t,e){for(var i,r,n,s,o=t.window;;){if(t.lookahead<=J){if(u(t),t.lookahead<=J&&e===M)return ht;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=K&&t.strstart>0&&(n=t.strstart-1,(r=o[n])===o[++n]&&r===o[++n]&&r===o[++n])){s=t.strstart+J;do{}while(r===o[++n]&&r===o[++n]&&r===o[++n]&&r===o[++n]&&r===o[++n]&&r===o[++n]&&r===o[++n]&&r===o[++n]&&n<s);t.match_length=J-(s-n),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=K?(i=w._tr_tally(t,1,t.match_length-K),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(i=w._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),i&&(a(t,!1),0===t.strm.avail_out))return ht}return t.insert=0,e===T?(a(t,!0),0===t.strm.avail_out?ct:dt):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?ht:lt}(c,e):b[c.level].func(c,e);if(g!==ct&&g!==dt||(c.status=at),g===ht||g===ct)return 0===t.avail_out&&(c.last_flush=-1),P;if(g===lt&&(e===A?w._tr_align(c):e!==L&&(w._tr_stored_block(c,0,0,!1),e===C&&(s(c.head),0===c.lookahead&&(c.strstart=0,c.block_start=0,c.insert=0))),o(t),0===t.avail_out))return c.last_flush=-1,P}return e!==T?P:c.wrap<=0?E:(2===c.wrap?(h(c,255&t.adler),h(c,t.adler>>8&255),h(c,t.adler>>16&255),h(c,t.adler>>24&255),h(c,255&t.total_in),h(c,t.total_in>>8&255),h(c,t.total_in>>16&255),h(c,t.total_in>>24&255)):(l(c,t.adler>>>16),l(c,65535&t.adler)),o(t),c.wrap>0&&(c.wrap=-c.wrap),0!==c.pending?P:E)},i.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==et&&e!==it&&e!==rt&&e!==nt&&e!==st&&e!==ot&&e!==at?r(t,O):(t.state=null,e===ot?r(t,D):P):O},i.deflateSetDictionary=function(t,e){var i,r,n,o,a,h,l,c,d=e.length;if(!t||!t.state)return O;if(i=t.state,2===(o=i.wrap)||1===o&&i.status!==et||i.lookahead)return O;for(1===o&&(t.adler=k(t.adler,e,d,0)),i.wrap=0,d>=i.w_size&&(0===o&&(s(i.head),i.strstart=0,i.block_start=0,i.insert=0),c=new x.Buf8(i.w_size),x.arraySet(c,e,d-i.w_size,i.w_size,0),e=c,d=i.w_size),a=t.avail_in,h=t.next_in,l=t.input,t.avail_in=d,t.next_in=0,t.input=e,u(i);i.lookahead>=K;){r=i.strstart,n=i.lookahead-(K-1);do{i.ins_h=(i.ins_h<<i.hash_shift^i.window[r+K-1])&i.hash_mask,i.prev[r&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=r,r++}while(--n);i.strstart=r,i.lookahead=K-1,u(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=K-1,i.match_available=0,t.next_in=h,t.input=l,t.avail_in=a,i.wrap=o,P},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":101,"./adler32":103,"./crc32":105,"./messages":111,"./trees":112}],107:[function(t,e,i){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],108:[function(t,e,i){"use strict";e.exports=function(t,e){var i,r,n,s,o,a,h,l,c,d,u,p,f,g,m,v,y,b,x,w,k,_,S,M,A;i=t.state,r=t.next_in,M=t.input,n=r+(t.avail_in-5),s=t.next_out,A=t.output,o=s-(e-t.avail_out),a=s+(t.avail_out-257),h=i.dmax,l=i.wsize,c=i.whave,d=i.wnext,u=i.window,p=i.hold,f=i.bits,g=i.lencode,m=i.distcode,v=(1<<i.lenbits)-1,y=(1<<i.distbits)-1;t:do{f<15&&(p+=M[r++]<<f,f+=8,p+=M[r++]<<f,f+=8),b=g[p&v];e:for(;;){if(x=b>>>24,p>>>=x,f-=x,0===(x=b>>>16&255))A[s++]=65535&b;else{if(!(16&x)){if(0==(64&x)){b=g[(65535&b)+(p&(1<<x)-1)];continue e}if(32&x){i.mode=12;break t}t.msg="invalid literal/length code",i.mode=30;break t}w=65535&b,(x&=15)&&(f<x&&(p+=M[r++]<<f,f+=8),w+=p&(1<<x)-1,p>>>=x,f-=x),f<15&&(p+=M[r++]<<f,f+=8,p+=M[r++]<<f,f+=8),b=m[p&y];i:for(;;){if(x=b>>>24,p>>>=x,f-=x,!(16&(x=b>>>16&255))){if(0==(64&x)){b=m[(65535&b)+(p&(1<<x)-1)];continue i}t.msg="invalid distance code",i.mode=30;break t}if(k=65535&b,x&=15,f<x&&(p+=M[r++]<<f,(f+=8)<x&&(p+=M[r++]<<f,f+=8)),(k+=p&(1<<x)-1)>h){t.msg="invalid distance too far back",i.mode=30;break t}if(p>>>=x,f-=x,x=s-o,k>x){if((x=k-x)>c&&i.sane){t.msg="invalid distance too far back",i.mode=30;break t}if(_=0,S=u,0===d){if(_+=l-x,x<w){w-=x;do{A[s++]=u[_++]}while(--x);_=s-k,S=A}}else if(d<x){if(_+=l+d-x,(x-=d)<w){w-=x;do{A[s++]=u[_++]}while(--x);if(_=0,d<w){w-=x=d;do{A[s++]=u[_++]}while(--x);_=s-k,S=A}}}else if(_+=d-x,x<w){w-=x;do{A[s++]=u[_++]}while(--x);_=s-k,S=A}for(;w>2;)A[s++]=S[_++],A[s++]=S[_++],A[s++]=S[_++],w-=3;w&&(A[s++]=S[_++],w>1&&(A[s++]=S[_++]))}else{_=s-k;do{A[s++]=A[_++],A[s++]=A[_++],A[s++]=A[_++],w-=3}while(w>2);w&&(A[s++]=A[_++],w>1&&(A[s++]=A[_++]))}break}}break}}while(r<n&&s<a);r-=w=f>>3,p&=(1<<(f-=w<<3))-1,t.next_in=r,t.next_out=s,t.avail_in=r<n?n-r+5:5-(r-n),t.avail_out=s<a?a-s+257:257-(s-a),i.hold=p,i.bits=f}},{}],109:[function(t,e,i){"use strict";function r(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function n(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=E,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new u.Buf32(lt),e.distcode=e.distdyn=new u.Buf32(ct),e.sane=1,e.back=-1,_):A}function s(t){var e;return t&&t.state?(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,n(t)):A}function o(t,e){var i,r;return t&&t.state?(r=t.state,e<0?(i=0,e=-e):(i=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?A:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=i,r.wbits=e,s(t))):A}function a(t,e){var i,r;return t?(r=new function(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new u.Buf16(320),this.work=new u.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},t.state=r,r.window=null,(i=o(t,e))!==_&&(t.state=null),i):A}function h(t){if(ut){var e;for(c=new u.Buf32(512),d=new u.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(m(y,t.lens,0,288,c,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;m(b,t.lens,0,32,d,0,t.work,{bits:5}),ut=!1}t.lencode=c,t.lenbits=9,t.distcode=d,t.distbits=5}function l(t,e,i,r){var n,s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new u.Buf8(s.wsize)),r>=s.wsize?(u.arraySet(s.window,e,i-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((n=s.wsize-s.wnext)>r&&(n=r),u.arraySet(s.window,e,i-r,n,s.wnext),(r-=n)?(u.arraySet(s.window,e,i-r,r,0),s.wnext=r,s.whave=s.wsize):(s.wnext+=n,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=n))),0}var c,d,u=t("../utils/common"),p=t("./adler32"),f=t("./crc32"),g=t("./inffast"),m=t("./inftrees"),v=0,y=1,b=2,x=4,w=5,k=6,_=0,S=1,M=2,A=-2,C=-3,T=-4,L=-5,P=8,E=1,O=2,D=3,I=4,B=5,z=6,R=7,N=8,F=9,W=10,G=11,j=12,H=13,X=14,U=15,Y=16,$=17,V=18,Z=19,q=20,K=21,J=22,Q=23,tt=24,et=25,it=26,rt=27,nt=28,st=29,ot=30,at=31,ht=32,lt=852,ct=592,dt=15,ut=!0;i.inflateReset=s,i.inflateReset2=o,i.inflateResetKeep=n,i.inflateInit=function(t){return a(t,dt)},i.inflateInit2=a,i.inflate=function(t,e){var i,n,s,o,a,c,d,lt,ct,dt,ut,pt,ft,gt,mt,vt,yt,bt,xt,wt,kt,_t,St,Mt,At=0,Ct=new u.Buf8(4),Tt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return A;(i=t.state).mode===j&&(i.mode=H),a=t.next_out,s=t.output,d=t.avail_out,o=t.next_in,n=t.input,c=t.avail_in,lt=i.hold,ct=i.bits,dt=c,ut=d,_t=_;t:for(;;)switch(i.mode){case E:if(0===i.wrap){i.mode=H;break}for(;ct<16;){if(0===c)break t;c--,lt+=n[o++]<<ct,ct+=8}if(2&i.wrap&&35615===lt){i.check=0,Ct[0]=255&lt,Ct[1]=lt>>>8&255,i.check=f(i.check,Ct,2,0),lt=0,ct=0,i.mode=O;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&lt)<<8)+(lt>>8))%31){t.msg="incorrect header check",i.mode=ot;break}if((15&lt)!==P){t.msg="unknown compression method",i.mode=ot;break}if(lt>>>=4,ct-=4,kt=8+(15&lt),0===i.wbits)i.wbits=kt;else if(kt>i.wbits){t.msg="invalid window size",i.mode=ot;break}i.dmax=1<<kt,t.adler=i.check=1,i.mode=512&lt?W:j,lt=0,ct=0;break;case O:for(;ct<16;){if(0===c)break t;c--,lt+=n[o++]<<ct,ct+=8}if(i.flags=lt,(255&i.flags)!==P){t.msg="unknown compression method",i.mode=ot;break}if(57344&i.flags){t.msg="unknown header flags set",i.mode=ot;break}i.head&&(i.head.text=lt>>8&1),512&i.flags&&(Ct[0]=255&lt,Ct[1]=lt>>>8&255,i.check=f(i.check,Ct,2,0)),lt=0,ct=0,i.mode=D;case D:for(;ct<32;){if(0===c)break t;c--,lt+=n[o++]<<ct,ct+=8}i.head&&(i.head.time=lt),512&i.flags&&(Ct[0]=255&lt,Ct[1]=lt>>>8&255,Ct[2]=lt>>>16&255,Ct[3]=lt>>>24&255,i.check=f(i.check,Ct,4,0)),lt=0,ct=0,i.mode=I;case I:for(;ct<16;){if(0===c)break t;c--,lt+=n[o++]<<ct,ct+=8}i.head&&(i.head.xflags=255&lt,i.head.os=lt>>8),512&i.flags&&(Ct[0]=255&lt,Ct[1]=lt>>>8&255,i.check=f(i.check,Ct,2,0)),lt=0,ct=0,i.mode=B;case B:if(1024&i.flags){for(;ct<16;){if(0===c)break t;c--,lt+=n[o++]<<ct,ct+=8}i.length=lt,i.head&&(i.head.extra_len=lt),512&i.flags&&(Ct[0]=255&lt,Ct[1]=lt>>>8&255,i.check=f(i.check,Ct,2,0)),lt=0,ct=0}else i.head&&(i.head.extra=null);i.mode=z;case z:if(1024&i.flags&&((pt=i.length)>c&&(pt=c),pt&&(i.head&&(kt=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),u.arraySet(i.head.extra,n,o,pt,kt)),512&i.flags&&(i.check=f(i.check,n,pt,o)),c-=pt,o+=pt,i.length-=pt),i.length))break t;i.length=0,i.mode=R;case R:if(2048&i.flags){if(0===c)break t;pt=0;do{kt=n[o+pt++],i.head&&kt&&i.length<65536&&(i.head.name+=String.fromCharCode(kt))}while(kt&&pt<c);if(512&i.flags&&(i.check=f(i.check,n,pt,o)),c-=pt,o+=pt,kt)break t}else i.head&&(i.head.name=null);i.length=0,i.mode=N;case N:if(4096&i.flags){if(0===c)break t;pt=0;do{kt=n[o+pt++],i.head&&kt&&i.length<65536&&(i.head.comment+=String.fromCharCode(kt))}while(kt&&pt<c);if(512&i.flags&&(i.check=f(i.check,n,pt,o)),c-=pt,o+=pt,kt)break t}else i.head&&(i.head.comment=null);i.mode=F;case F:if(512&i.flags){for(;ct<16;){if(0===c)break t;c--,lt+=n[o++]<<ct,ct+=8}if(lt!==(65535&i.check)){t.msg="header crc mismatch",i.mode=ot;break}lt=0,ct=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),t.adler=i.check=0,i.mode=j;break;case W:for(;ct<32;){if(0===c)break t;c--,lt+=n[o++]<<ct,ct+=8}t.adler=i.check=r(lt),lt=0,ct=0,i.mode=G;case G:if(0===i.havedict)return t.next_out=a,t.avail_out=d,t.next_in=o,t.avail_in=c,i.hold=lt,i.bits=ct,M;t.adler=i.check=1,i.mode=j;case j:if(e===w||e===k)break t;case H:if(i.last){lt>>>=7&ct,ct-=7&ct,i.mode=rt;break}for(;ct<3;){if(0===c)break t;c--,lt+=n[o++]<<ct,ct+=8}switch(i.last=1&lt,lt>>>=1,ct-=1,3&lt){case 0:i.mode=X;break;case 1:if(h(i),i.mode=q,e===k){lt>>>=2,ct-=2;break t}break;case 2:i.mode=$;break;case 3:t.msg="invalid block type",i.mode=ot}lt>>>=2,ct-=2;break;case X:for(lt>>>=7&ct,ct-=7&ct;ct<32;){if(0===c)break t;c--,lt+=n[o++]<<ct,ct+=8}if((65535&lt)!=(lt>>>16^65535)){t.msg="invalid stored block lengths",i.mode=ot;break}if(i.length=65535&lt,lt=0,ct=0,i.mode=U,e===k)break t;case U:i.mode=Y;case Y:if(pt=i.length){if(pt>c&&(pt=c),pt>d&&(pt=d),0===pt)break t;u.arraySet(s,n,o,pt,a),c-=pt,o+=pt,d-=pt,a+=pt,i.length-=pt;break}i.mode=j;break;case $:for(;ct<14;){if(0===c)break t;c--,lt+=n[o++]<<ct,ct+=8}if(i.nlen=257+(31&lt),lt>>>=5,ct-=5,i.ndist=1+(31&lt),lt>>>=5,ct-=5,i.ncode=4+(15&lt),lt>>>=4,ct-=4,i.nlen>286||i.ndist>30){t.msg="too many length or distance symbols",i.mode=ot;break}i.have=0,i.mode=V;case V:for(;i.have<i.ncode;){for(;ct<3;){if(0===c)break t;c--,lt+=n[o++]<<ct,ct+=8}i.lens[Tt[i.have++]]=7&lt,lt>>>=3,ct-=3}for(;i.have<19;)i.lens[Tt[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,St={bits:i.lenbits},_t=m(v,i.lens,0,19,i.lencode,0,i.work,St),i.lenbits=St.bits,_t){t.msg="invalid code lengths set",i.mode=ot;break}i.have=0,i.mode=Z;case Z:for(;i.have<i.nlen+i.ndist;){for(;At=i.lencode[lt&(1<<i.lenbits)-1],mt=At>>>24,vt=At>>>16&255,yt=65535&At,!(mt<=ct);){if(0===c)break t;c--,lt+=n[o++]<<ct,ct+=8}if(yt<16)lt>>>=mt,ct-=mt,i.lens[i.have++]=yt;else{if(16===yt){for(Mt=mt+2;ct<Mt;){if(0===c)break t;c--,lt+=n[o++]<<ct,ct+=8}if(lt>>>=mt,ct-=mt,0===i.have){t.msg="invalid bit length repeat",i.mode=ot;break}kt=i.lens[i.have-1],pt=3+(3&lt),lt>>>=2,ct-=2}else if(17===yt){for(Mt=mt+3;ct<Mt;){if(0===c)break t;c--,lt+=n[o++]<<ct,ct+=8}ct-=mt,kt=0,pt=3+(7&(lt>>>=mt)),lt>>>=3,ct-=3}else{for(Mt=mt+7;ct<Mt;){if(0===c)break t;c--,lt+=n[o++]<<ct,ct+=8}ct-=mt,kt=0,pt=11+(127&(lt>>>=mt)),lt>>>=7,ct-=7}if(i.have+pt>i.nlen+i.ndist){t.msg="invalid bit length repeat",i.mode=ot;break}for(;pt--;)i.lens[i.have++]=kt}}if(i.mode===ot)break;if(0===i.lens[256]){t.msg="invalid code -- missing end-of-block",i.mode=ot;break}if(i.lenbits=9,St={bits:i.lenbits},_t=m(y,i.lens,0,i.nlen,i.lencode,0,i.work,St),i.lenbits=St.bits,_t){t.msg="invalid literal/lengths set",i.mode=ot;break}if(i.distbits=6,i.distcode=i.distdyn,St={bits:i.distbits},_t=m(b,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,St),i.distbits=St.bits,_t){t.msg="invalid distances set",i.mode=ot;break}if(i.mode=q,e===k)break t;case q:i.mode=K;case K:if(c>=6&&d>=258){t.next_out=a,t.avail_out=d,t.next_in=o,t.avail_in=c,i.hold=lt,i.bits=ct,g(t,ut),a=t.next_out,s=t.output,d=t.avail_out,o=t.next_in,n=t.input,c=t.avail_in,lt=i.hold,ct=i.bits,i.mode===j&&(i.back=-1);break}for(i.back=0;At=i.lencode[lt&(1<<i.lenbits)-1],mt=At>>>24,vt=At>>>16&255,yt=65535&At,!(mt<=ct);){if(0===c)break t;c--,lt+=n[o++]<<ct,ct+=8}if(vt&&0==(240&vt)){for(bt=mt,xt=vt,wt=yt;At=i.lencode[wt+((lt&(1<<bt+xt)-1)>>bt)],mt=At>>>24,vt=At>>>16&255,yt=65535&At,!(bt+mt<=ct);){if(0===c)break t;c--,lt+=n[o++]<<ct,ct+=8}lt>>>=bt,ct-=bt,i.back+=bt}if(lt>>>=mt,ct-=mt,i.back+=mt,i.length=yt,0===vt){i.mode=it;break}if(32&vt){i.back=-1,i.mode=j;break}if(64&vt){t.msg="invalid literal/length code",i.mode=ot;break}i.extra=15&vt,i.mode=J;case J:if(i.extra){for(Mt=i.extra;ct<Mt;){if(0===c)break t;c--,lt+=n[o++]<<ct,ct+=8}i.length+=lt&(1<<i.extra)-1,lt>>>=i.extra,ct-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=Q;case Q:for(;At=i.distcode[lt&(1<<i.distbits)-1],mt=At>>>24,vt=At>>>16&255,yt=65535&At,!(mt<=ct);){if(0===c)break t;c--,lt+=n[o++]<<ct,ct+=8}if(0==(240&vt)){for(bt=mt,xt=vt,wt=yt;At=i.distcode[wt+((lt&(1<<bt+xt)-1)>>bt)],mt=At>>>24,vt=At>>>16&255,yt=65535&At,!(bt+mt<=ct);){if(0===c)break t;c--,lt+=n[o++]<<ct,ct+=8}lt>>>=bt,ct-=bt,i.back+=bt}if(lt>>>=mt,ct-=mt,i.back+=mt,64&vt){t.msg="invalid distance code",i.mode=ot;break}i.offset=yt,i.extra=15&vt,i.mode=tt;case tt:if(i.extra){for(Mt=i.extra;ct<Mt;){if(0===c)break t;c--,lt+=n[o++]<<ct,ct+=8}i.offset+=lt&(1<<i.extra)-1,lt>>>=i.extra,ct-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){t.msg="invalid distance too far back",i.mode=ot;break}i.mode=et;case et:if(0===d)break t;if(pt=ut-d,i.offset>pt){if((pt=i.offset-pt)>i.whave&&i.sane){t.msg="invalid distance too far back",i.mode=ot;break}pt>i.wnext?(pt-=i.wnext,ft=i.wsize-pt):ft=i.wnext-pt,pt>i.length&&(pt=i.length),gt=i.window}else gt=s,ft=a-i.offset,pt=i.length;pt>d&&(pt=d),d-=pt,i.length-=pt;do{s[a++]=gt[ft++]}while(--pt);0===i.length&&(i.mode=K);break;case it:if(0===d)break t;s[a++]=i.length,d--,i.mode=K;break;case rt:if(i.wrap){for(;ct<32;){if(0===c)break t;c--,lt|=n[o++]<<ct,ct+=8}if(ut-=d,t.total_out+=ut,i.total+=ut,ut&&(t.adler=i.check=i.flags?f(i.check,s,ut,a-ut):p(i.check,s,ut,a-ut)),ut=d,(i.flags?lt:r(lt))!==i.check){t.msg="incorrect data check",i.mode=ot;break}lt=0,ct=0}i.mode=nt;case nt:if(i.wrap&&i.flags){for(;ct<32;){if(0===c)break t;c--,lt+=n[o++]<<ct,ct+=8}if(lt!==(4294967295&i.total)){t.msg="incorrect length check",i.mode=ot;break}lt=0,ct=0}i.mode=st;case st:_t=S;break t;case ot:_t=C;break t;case at:return T;case ht:default:return A}return t.next_out=a,t.avail_out=d,t.next_in=o,t.avail_in=c,i.hold=lt,i.bits=ct,(i.wsize||ut!==t.avail_out&&i.mode<ot&&(i.mode<rt||e!==x))&&l(t,t.output,t.next_out,ut-t.avail_out)?(i.mode=at,T):(dt-=t.avail_in,ut-=t.avail_out,t.total_in+=dt,t.total_out+=ut,i.total+=ut,i.wrap&&ut&&(t.adler=i.check=i.flags?f(i.check,s,ut,t.next_out-ut):p(i.check,s,ut,t.next_out-ut)),t.data_type=i.bits+(i.last?64:0)+(i.mode===j?128:0)+(i.mode===q||i.mode===U?256:0),(0===dt&&0===ut||e===x)&&_t===_&&(_t=L),_t)},i.inflateEnd=function(t){if(!t||!t.state)return A;var e=t.state;return e.window&&(e.window=null),t.state=null,_},i.inflateGetHeader=function(t,e){var i;return t&&t.state?0==(2&(i=t.state).wrap)?A:(i.head=e,e.done=!1,_):A},i.inflateSetDictionary=function(t,e){var i,r,n=e.length;return t&&t.state?0!==(i=t.state).wrap&&i.mode!==G?A:i.mode===G&&(r=1,(r=p(r,e,n,0))!==i.check)?C:l(t,e,n,n)?(i.mode=at,T):(i.havedict=1,_):A},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":101,"./adler32":103,"./crc32":105,"./inffast":108,"./inftrees":110}],110:[function(t,e,i){"use strict";var r=t("../utils/common"),n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,i,h,l,c,d,u){var p,f,g,m,v,y,b,x,w,k=u.bits,_=0,S=0,M=0,A=0,C=0,T=0,L=0,P=0,E=0,O=0,D=null,I=0,B=new r.Buf16(16),z=new r.Buf16(16),R=null,N=0;for(_=0;_<=15;_++)B[_]=0;for(S=0;S<h;S++)B[e[i+S]]++;for(C=k,A=15;A>=1&&0===B[A];A--);if(C>A&&(C=A),0===A)return l[c++]=20971520,l[c++]=20971520,u.bits=1,0;for(M=1;M<A&&0===B[M];M++);for(C<M&&(C=M),P=1,_=1;_<=15;_++)if(P<<=1,(P-=B[_])<0)return-1;if(P>0&&(0===t||1!==A))return-1;for(z[1]=0,_=1;_<15;_++)z[_+1]=z[_]+B[_];for(S=0;S<h;S++)0!==e[i+S]&&(d[z[e[i+S]]++]=S);if(0===t?(D=R=d,y=19):1===t?(D=n,I-=257,R=s,N-=257,y=256):(D=o,R=a,y=-1),O=0,S=0,_=M,v=c,T=C,L=0,g=-1,E=1<<C,m=E-1,1===t&&E>852||2===t&&E>592)return 1;for(;;){b=_-L,d[S]<y?(x=0,w=d[S]):d[S]>y?(x=R[N+d[S]],w=D[I+d[S]]):(x=96,w=0),p=1<<_-L,M=f=1<<T;do{l[v+(O>>L)+(f-=p)]=b<<24|x<<16|w|0}while(0!==f);for(p=1<<_-1;O&p;)p>>=1;if(0!==p?(O&=p-1,O+=p):O=0,S++,0==--B[_]){if(_===A)break;_=e[i+d[S]]}if(_>C&&(O&m)!==g){for(0===L&&(L=C),v+=M,P=1<<(T=_-L);T+L<A&&!((P-=B[T+L])<=0);)T++,P<<=1;if(E+=1<<T,1===t&&E>852||2===t&&E>592)return 1;l[g=O&m]=C<<24|T<<16|v-c|0}}return 0!==O&&(l[v+O]=_-L<<24|64<<16|0),u.bits=C,0}},{"../utils/common":101}],111:[function(t,e,i){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],112:[function(t,e,i){"use strict";function r(t){for(var e=t.length;--e>=0;)t[e]=0}function n(t,e,i,r,n){this.static_tree=t,this.extra_bits=e,this.extra_base=i,this.elems=r,this.max_length=n,this.has_stree=t&&t.length}function s(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function o(t){return t<256?V[t]:V[256+(t>>>7)]}function a(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function h(t,e,i){t.bi_valid>z-i?(t.bi_buf|=e<<t.bi_valid&65535,a(t,t.bi_buf),t.bi_buf=e>>z-t.bi_valid,t.bi_valid+=i-z):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=i)}function l(t,e,i){h(t,i[2*e],i[2*e+1])}function c(t,e){var i=0;do{i|=1&t,t>>>=1,i<<=1}while(--e>0);return i>>>1}function d(t,e,i){var r,n,s=new Array(B+1),o=0;for(r=1;r<=B;r++)s[r]=o=o+i[r-1]<<1;for(n=0;n<=e;n++){var a=t[2*n+1];0!==a&&(t[2*n]=c(s[a]++,a))}}function u(t){var e;for(e=0;e<E;e++)t.dyn_ltree[2*e]=0;for(e=0;e<O;e++)t.dyn_dtree[2*e]=0;for(e=0;e<D;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*N]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function p(t){t.bi_valid>8?a(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function f(t,e,i,r){var n=2*e,s=2*i;return t[n]<t[s]||t[n]===t[s]&&r[e]<=r[i]}function g(t,e,i){for(var r=t.heap[i],n=i<<1;n<=t.heap_len&&(n<t.heap_len&&f(e,t.heap[n+1],t.heap[n],t.depth)&&n++,!f(e,r,t.heap[n],t.depth));)t.heap[i]=t.heap[n],i=n,n<<=1;t.heap[i]=r}function m(t,e,i){var r,n,s,a,c=0;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*c]<<8|t.pending_buf[t.d_buf+2*c+1],n=t.pending_buf[t.l_buf+c],c++,0===r?l(t,n,e):(l(t,(s=Z[n])+P+1,e),0!==(a=j[s])&&h(t,n-=q[s],a),l(t,s=o(--r),i),0!==(a=H[s])&&h(t,r-=K[s],a))}while(c<t.last_lit);l(t,N,e)}function v(t,e){var i,r,n,s=e.dyn_tree,o=e.stat_desc.static_tree,a=e.stat_desc.has_stree,h=e.stat_desc.elems,l=-1;for(t.heap_len=0,t.heap_max=I,i=0;i<h;i++)0!==s[2*i]?(t.heap[++t.heap_len]=l=i,t.depth[i]=0):s[2*i+1]=0;for(;t.heap_len<2;)s[2*(n=t.heap[++t.heap_len]=l<2?++l:0)]=1,t.depth[n]=0,t.opt_len--,a&&(t.static_len-=o[2*n+1]);for(e.max_code=l,i=t.heap_len>>1;i>=1;i--)g(t,s,i);n=h;do{i=t.heap[1],t.heap[1]=t.heap[t.heap_len--],g(t,s,1),r=t.heap[1],t.heap[--t.heap_max]=i,t.heap[--t.heap_max]=r,s[2*n]=s[2*i]+s[2*r],t.depth[n]=(t.depth[i]>=t.depth[r]?t.depth[i]:t.depth[r])+1,s[2*i+1]=s[2*r+1]=n,t.heap[1]=n++,g(t,s,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var i,r,n,s,o,a,h=e.dyn_tree,l=e.max_code,c=e.stat_desc.static_tree,d=e.stat_desc.has_stree,u=e.stat_desc.extra_bits,p=e.stat_desc.extra_base,f=e.stat_desc.max_length,g=0;for(s=0;s<=B;s++)t.bl_count[s]=0;for(h[2*t.heap[t.heap_max]+1]=0,i=t.heap_max+1;i<I;i++)(s=h[2*h[2*(r=t.heap[i])+1]+1]+1)>f&&(s=f,g++),h[2*r+1]=s,r>l||(t.bl_count[s]++,o=0,r>=p&&(o=u[r-p]),a=h[2*r],t.opt_len+=a*(s+o),d&&(t.static_len+=a*(c[2*r+1]+o)));if(0!==g){do{for(s=f-1;0===t.bl_count[s];)s--;t.bl_count[s]--,t.bl_count[s+1]+=2,t.bl_count[f]--,g-=2}while(g>0);for(s=f;0!==s;s--)for(r=t.bl_count[s];0!==r;)(n=t.heap[--i])>l||(h[2*n+1]!==s&&(t.opt_len+=(s-h[2*n+1])*h[2*n],h[2*n+1]=s),r--)}}(t,e),d(s,l,t.bl_count)}function y(t,e,i){var r,n,s=-1,o=e[1],a=0,h=7,l=4;for(0===o&&(h=138,l=3),e[2*(i+1)+1]=65535,r=0;r<=i;r++)n=o,o=e[2*(r+1)+1],++a<h&&n===o||(a<l?t.bl_tree[2*n]+=a:0!==n?(n!==s&&t.bl_tree[2*n]++,t.bl_tree[2*F]++):a<=10?t.bl_tree[2*W]++:t.bl_tree[2*G]++,a=0,s=n,0===o?(h=138,l=3):n===o?(h=6,l=3):(h=7,l=4))}function b(t,e,i){var r,n,s=-1,o=e[1],a=0,c=7,d=4;for(0===o&&(c=138,d=3),r=0;r<=i;r++)if(n=o,o=e[2*(r+1)+1],!(++a<c&&n===o)){if(a<d)do{l(t,n,t.bl_tree)}while(0!=--a);else 0!==n?(n!==s&&(l(t,n,t.bl_tree),a--),l(t,F,t.bl_tree),h(t,a-3,2)):a<=10?(l(t,W,t.bl_tree),h(t,a-3,3)):(l(t,G,t.bl_tree),h(t,a-11,7));a=0,s=n,0===o?(c=138,d=3):n===o?(c=6,d=3):(c=7,d=4)}}function x(t,e,i,r){h(t,(A<<1)+(r?1:0),3),function(t,e,i,r){p(t),r&&(a(t,i),a(t,~i)),w.arraySet(t.pending_buf,t.window,e,i,t.pending),t.pending+=i}(t,e,i,!0)}var w=t("../utils/common"),k=4,_=0,S=1,M=2,A=0,C=1,T=2,L=29,P=256,E=P+1+L,O=30,D=19,I=2*E+1,B=15,z=16,R=7,N=256,F=16,W=17,G=18,j=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],H=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],X=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Y=new Array(2*(E+2));r(Y);var $=new Array(2*O);r($);var V=new Array(512);r(V);var Z=new Array(256);r(Z);var q=new Array(L);r(q);var K=new Array(O);r(K);var J,Q,tt,et=!1;i._tr_init=function(t){et||(function(){var t,e,i,r,s,o=new Array(B+1);for(i=0,r=0;r<L-1;r++)for(q[r]=i,t=0;t<1<<j[r];t++)Z[i++]=r;for(Z[i-1]=r,s=0,r=0;r<16;r++)for(K[r]=s,t=0;t<1<<H[r];t++)V[s++]=r;for(s>>=7;r<O;r++)for(K[r]=s<<7,t=0;t<1<<H[r]-7;t++)V[256+s++]=r;for(e=0;e<=B;e++)o[e]=0;for(t=0;t<=143;)Y[2*t+1]=8,t++,o[8]++;for(;t<=255;)Y[2*t+1]=9,t++,o[9]++;for(;t<=279;)Y[2*t+1]=7,t++,o[7]++;for(;t<=287;)Y[2*t+1]=8,t++,o[8]++;for(d(Y,E+1,o),t=0;t<O;t++)$[2*t+1]=5,$[2*t]=c(t,5);J=new n(Y,j,P+1,E,B),Q=new n($,H,0,O,B),tt=new n(new Array(0),X,0,D,R)}(),et=!0),t.l_desc=new s(t.dyn_ltree,J),t.d_desc=new s(t.dyn_dtree,Q),t.bl_desc=new s(t.bl_tree,tt),t.bi_buf=0,t.bi_valid=0,u(t)},i._tr_stored_block=x,i._tr_flush_block=function(t,e,i,r){var n,s,o=0;t.level>0?(t.strm.data_type===M&&(t.strm.data_type=function(t){var e,i=4093624447;for(e=0;e<=31;e++,i>>>=1)if(1&i&&0!==t.dyn_ltree[2*e])return _;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return S;for(e=32;e<P;e++)if(0!==t.dyn_ltree[2*e])return S;return _}(t)),v(t,t.l_desc),v(t,t.d_desc),o=function(t){var e;for(y(t,t.dyn_ltree,t.l_desc.max_code),y(t,t.dyn_dtree,t.d_desc.max_code),v(t,t.bl_desc),e=D-1;e>=3&&0===t.bl_tree[2*U[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),n=t.opt_len+3+7>>>3,(s=t.static_len+3+7>>>3)<=n&&(n=s)):n=s=i+5,i+4<=n&&-1!==e?x(t,e,i,r):t.strategy===k||s===n?(h(t,(C<<1)+(r?1:0),3),m(t,Y,$)):(h(t,(T<<1)+(r?1:0),3),function(t,e,i,r){var n;for(h(t,e-257,5),h(t,i-1,5),h(t,r-4,4),n=0;n<r;n++)h(t,t.bl_tree[2*U[n]+1],3);b(t,t.dyn_ltree,e-1),b(t,t.dyn_dtree,i-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),m(t,t.dyn_ltree,t.dyn_dtree)),u(t),r&&p(t)},i._tr_tally=function(t,e,i){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&i,t.last_lit++,0===e?t.dyn_ltree[2*i]++:(t.matches++,e--,t.dyn_ltree[2*(Z[i]+P+1)]++,t.dyn_dtree[2*o(e)]++),t.last_lit===t.lit_bufsize-1},i._tr_align=function(t){h(t,C<<1,3),l(t,N,Y),function(t){16===t.bi_valid?(a(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},{"../utils/common":101}],113:[function(t,e,i){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}]},{},[36]);